function t(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?t=>!!n[t.toLowerCase()]:t=>!!n[t]}const e=t("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt"),n=t("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function r(t){if(T(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],o=r(N(i)?s(i):i);if(o)for(const t in o)e[t]=o[t]}return e}if(O(t))return t}const i=/;(?![^(]*\))/g,o=/:(.+)/;function s(t){const e={};return t.split(i).forEach((t=>{if(t){const n=t.split(o);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}function a(t){let e="";if(N(t))e=t;else if(T(t))for(let n=0;n<t.length;n++){const r=a(t[n]);r&&(e+=r+" ")}else if(O(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function u(t,e){if(t===e)return!0;let n=k(t),r=k(e);if(n||r)return!(!n||!r)&&t.getTime()===e.getTime();if(n=T(t),r=T(e),n||r)return!(!n||!r)&&function(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=u(t[r],e[r]);return n}(t,e);if(n=O(t),r=O(e),n||r){if(!n||!r)return!1;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t){const r=t.hasOwnProperty(n),i=e.hasOwnProperty(n);if(r&&!i||!r&&i||!u(t[n],e[n]))return!1}}return String(t)===String(e)}function c(t,e){return t.findIndex((t=>u(t,e)))}const l=t=>null==t?"":O(t)?JSON.stringify(t,h,2):String(t),h=(t,e)=>E(e)?{[`Map(${e.size})`]:[...e.entries()].reduce(((t,[e,n])=>(t[`${e} =>`]=n,t)),{})}:S(e)?{[`Set(${e.size})`]:[...e.values()]}:!O(e)||T(e)||P(e)?e:String(e),f={},d=[],p=()=>{},v=()=>!1,m=/^on[^a-z]/,y=t=>m.test(t),g=t=>t.startsWith("onUpdate:"),b=Object.assign,w=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},_=Object.prototype.hasOwnProperty,I=(t,e)=>_.call(t,e),T=Array.isArray,E=t=>"[object Map]"===R(t),S=t=>"[object Set]"===R(t),k=t=>t instanceof Date,A=t=>"function"==typeof t,N=t=>"string"==typeof t,D=t=>"symbol"==typeof t,O=t=>null!==t&&"object"==typeof t,C=t=>O(t)&&A(t.then)&&A(t.catch),x=Object.prototype.toString,R=t=>x.call(t),P=t=>"[object Object]"===R(t),M=t=>N(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,L=t(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),F=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},V=/-(\w)/g,U=F((t=>t.replace(V,((t,e)=>e?e.toUpperCase():"")))),j=/\B([A-Z])/g,q=F((t=>t.replace(j,"-$1").toLowerCase())),B=F((t=>t.charAt(0).toUpperCase()+t.slice(1))),G=F((t=>t?`on${B(t)}`:"")),Y=(t,e)=>t!==e&&(t==t||e==e),K=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},H=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},W=t=>{const e=parseFloat(t);return isNaN(e)?t:e},z=new WeakMap,Q=[];let $;const X=Symbol(""),J=Symbol("");function Z(t,e=f){(function(t){return t&&!0===t._isEffect})(t)&&(t=t.raw);const n=function(t,e){const n=function(){if(!n.active)return e.scheduler?void 0:t();if(!Q.includes(n)){nt(n);try{return it.push(rt),rt=!0,Q.push(n),$=n,t()}finally{Q.pop(),st(),$=Q[Q.length-1]}}};return n.id=et++,n.allowRecurse=!!e.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=t,n.deps=[],n.options=e,n}(t,e);return e.lazy||n(),n}function tt(t){t.active&&(nt(t),t.options.onStop&&t.options.onStop(),t.active=!1)}let et=0;function nt(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let rt=!0;const it=[];function ot(){it.push(rt),rt=!1}function st(){const t=it.pop();rt=void 0===t||t}function at(t,e,n){if(!rt||void 0===$)return;let r=z.get(t);r||z.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=new Set),i.has($)||(i.add($),$.deps.push(i))}function ut(t,e,n,r,i,o){const s=z.get(t);if(!s)return;const a=new Set,u=t=>{t&&t.forEach((t=>{(t!==$||t.allowRecurse)&&a.add(t)}))};if("clear"===e)s.forEach(u);else if("length"===n&&T(t))s.forEach(((t,e)=>{("length"===e||e>=r)&&u(t)}));else switch(void 0!==n&&u(s.get(n)),e){case"add":T(t)?M(n)&&u(s.get("length")):(u(s.get(X)),E(t)&&u(s.get(J)));break;case"delete":T(t)||(u(s.get(X)),E(t)&&u(s.get(J)));break;case"set":E(t)&&u(s.get(X))}a.forEach((t=>{t.options.scheduler?t.options.scheduler(t):t()}))}const ct=t("__proto__,__v_isRef,__isVue"),lt=new Set(Object.getOwnPropertyNames(Symbol).map((t=>Symbol[t])).filter(D)),ht=mt(),ft=mt(!1,!0),dt=mt(!0),pt=mt(!0,!0),vt={};function mt(t=!1,e=!1){return function(n,r,i){if("__v_isReactive"===r)return!t;if("__v_isReadonly"===r)return t;if("__v_raw"===r&&i===(t?e?Ht:Kt:e?Yt:Gt).get(n))return n;const o=T(n);if(!t&&o&&I(vt,r))return Reflect.get(vt,r,i);const s=Reflect.get(n,r,i);if(D(r)?lt.has(r):ct(r))return s;if(t||at(n,0,r),e)return s;if(ne(s)){return!o||!M(r)?s.value:s}return O(s)?t?Qt(s):zt(s):s}}["includes","indexOf","lastIndexOf"].forEach((t=>{const e=Array.prototype[t];vt[t]=function(...t){const n=te(this);for(let e=0,i=this.length;e<i;e++)at(n,0,e+"");const r=e.apply(n,t);return-1===r||!1===r?e.apply(n,t.map(te)):r}})),["push","pop","shift","unshift","splice"].forEach((t=>{const e=Array.prototype[t];vt[t]=function(...t){ot();const n=e.apply(this,t);return st(),n}}));function yt(t=!1){return function(e,n,r,i){let o=e[n];if(!t&&(r=te(r),o=te(o),!T(e)&&ne(o)&&!ne(r)))return o.value=r,!0;const s=T(e)&&M(n)?Number(n)<e.length:I(e,n),a=Reflect.set(e,n,r,i);return e===te(i)&&(s?Y(r,o)&&ut(e,"set",n,r):ut(e,"add",n,r)),a}}const gt={get:ht,set:yt(),deleteProperty:function(t,e){const n=I(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&ut(t,"delete",e,void 0),r},has:function(t,e){const n=Reflect.has(t,e);return D(e)&&lt.has(e)||at(t,0,e),n},ownKeys:function(t){return at(t,0,T(t)?"length":X),Reflect.ownKeys(t)}},bt={get:dt,set:(t,e)=>!0,deleteProperty:(t,e)=>!0},wt=b({},gt,{get:ft,set:yt(!0)});b({},bt,{get:pt});const _t=t=>O(t)?zt(t):t,It=t=>O(t)?Qt(t):t,Tt=t=>t,Et=t=>Reflect.getPrototypeOf(t);function St(t,e,n=!1,r=!1){const i=te(t=t.__v_raw),o=te(e);e!==o&&!n&&at(i,0,e),!n&&at(i,0,o);const{has:s}=Et(i),a=r?Tt:n?It:_t;return s.call(i,e)?a(t.get(e)):s.call(i,o)?a(t.get(o)):void 0}function kt(t,e=!1){const n=this.__v_raw,r=te(n),i=te(t);return t!==i&&!e&&at(r,0,t),!e&&at(r,0,i),t===i?n.has(t):n.has(t)||n.has(i)}function At(t,e=!1){return t=t.__v_raw,!e&&at(te(t),0,X),Reflect.get(t,"size",t)}function Nt(t){t=te(t);const e=te(this);return Et(e).has.call(e,t)||(e.add(t),ut(e,"add",t,t)),this}function Dt(t,e){e=te(e);const n=te(this),{has:r,get:i}=Et(n);let o=r.call(n,t);o||(t=te(t),o=r.call(n,t));const s=i.call(n,t);return n.set(t,e),o?Y(e,s)&&ut(n,"set",t,e):ut(n,"add",t,e),this}function Ot(t){const e=te(this),{has:n,get:r}=Et(e);let i=n.call(e,t);i||(t=te(t),i=n.call(e,t)),r&&r.call(e,t);const o=e.delete(t);return i&&ut(e,"delete",t,void 0),o}function Ct(){const t=te(this),e=0!==t.size,n=t.clear();return e&&ut(t,"clear",void 0,void 0),n}function xt(t,e){return function(n,r){const i=this,o=i.__v_raw,s=te(o),a=e?Tt:t?It:_t;return!t&&at(s,0,X),o.forEach(((t,e)=>n.call(r,a(t),a(e),i)))}}function Rt(t,e,n){return function(...r){const i=this.__v_raw,o=te(i),s=E(o),a="entries"===t||t===Symbol.iterator&&s,u="keys"===t&&s,c=i[t](...r),l=n?Tt:e?It:_t;return!e&&at(o,0,u?J:X),{next(){const{value:t,done:e}=c.next();return e?{value:t,done:e}:{value:a?[l(t[0]),l(t[1])]:l(t),done:e}},[Symbol.iterator](){return this}}}}function Pt(t){return function(...e){return"delete"!==t&&this}}const Mt={get(t){return St(this,t)},get size(){return At(this)},has:kt,add:Nt,set:Dt,delete:Ot,clear:Ct,forEach:xt(!1,!1)},Lt={get(t){return St(this,t,!1,!0)},get size(){return At(this)},has:kt,add:Nt,set:Dt,delete:Ot,clear:Ct,forEach:xt(!1,!0)},Ft={get(t){return St(this,t,!0)},get size(){return At(this,!0)},has(t){return kt.call(this,t,!0)},add:Pt("add"),set:Pt("set"),delete:Pt("delete"),clear:Pt("clear"),forEach:xt(!0,!1)},Vt={get(t){return St(this,t,!0,!0)},get size(){return At(this,!0)},has(t){return kt.call(this,t,!0)},add:Pt("add"),set:Pt("set"),delete:Pt("delete"),clear:Pt("clear"),forEach:xt(!0,!0)};function Ut(t,e){const n=e?t?Vt:Lt:t?Ft:Mt;return(e,r,i)=>"__v_isReactive"===r?!t:"__v_isReadonly"===r?t:"__v_raw"===r?e:Reflect.get(I(n,r)&&r in e?n:e,r,i)}["keys","values","entries",Symbol.iterator].forEach((t=>{Mt[t]=Rt(t,!1,!1),Ft[t]=Rt(t,!0,!1),Lt[t]=Rt(t,!1,!0),Vt[t]=Rt(t,!0,!0)}));const jt={get:Ut(!1,!1)},qt={get:Ut(!1,!0)},Bt={get:Ut(!0,!1)},Gt=new WeakMap,Yt=new WeakMap,Kt=new WeakMap,Ht=new WeakMap;function Wt(t){return t.__v_skip||!Object.isExtensible(t)?0:function(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((t=>R(t).slice(8,-1))(t))}function zt(t){return t&&t.__v_isReadonly?t:$t(t,!1,gt,jt,Gt)}function Qt(t){return $t(t,!0,bt,Bt,Kt)}function $t(t,e,n,r,i){if(!O(t))return t;if(t.__v_raw&&(!e||!t.__v_isReactive))return t;const o=i.get(t);if(o)return o;const s=Wt(t);if(0===s)return t;const a=new Proxy(t,2===s?r:n);return i.set(t,a),a}function Xt(t){return Jt(t)?Xt(t.__v_raw):!(!t||!t.__v_isReactive)}function Jt(t){return!(!t||!t.__v_isReadonly)}function Zt(t){return Xt(t)||Jt(t)}function te(t){return t&&te(t.__v_raw)||t}const ee=t=>O(t)?zt(t):t;function ne(t){return Boolean(t&&!0===t.__v_isRef)}class re{constructor(t,e=!1){this._rawValue=t,this._shallow=e,this.__v_isRef=!0,this._value=e?t:ee(t)}get value(){return at(te(this),0,"value"),this._value}set value(t){Y(te(t),this._rawValue)&&(this._rawValue=t,this._value=this._shallow?t:ee(t),ut(te(this),"set","value",t))}}function ie(t,e=!1){return ne(t)?t:new re(t,e)}function oe(t){return ne(t)?t.value:t}const se={get:(t,e,n)=>oe(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return ne(i)&&!ne(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function ae(t){return Xt(t)?t:new Proxy(t,se)}class ue{constructor(t,e){this._object=t,this._key=e,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(t){this._object[this._key]=t}}class ce{constructor(t,e,n){this._setter=e,this._dirty=!0,this.__v_isRef=!0,this.effect=Z(t,{lazy:!0,scheduler:()=>{this._dirty||(this._dirty=!0,ut(te(this),"set","value"))}}),this.__v_isReadonly=n}get value(){const t=te(this);return t._dirty&&(t._value=this.effect(),t._dirty=!1),at(t,0,"value"),t._value}set value(t){this._setter(t)}}function le(t,e,n,r){let i;try{i=r?t(...r):t()}catch(o){fe(o,e,n)}return i}function he(t,e,n,r){if(A(t)){const i=le(t,e,n,r);return i&&C(i)&&i.catch((t=>{fe(t,e,n)})),i}const i=[];for(let o=0;o<t.length;o++)i.push(he(t[o],e,n,r));return i}function fe(t,e,n,r=!0){e&&e.vnode;if(e){let r=e.parent;const i=e.proxy,o=n;for(;r;){const e=r.ec;if(e)for(let n=0;n<e.length;n++)if(!1===e[n](t,i,o))return;r=r.parent}const s=e.appContext.config.errorHandler;if(s)return void le(s,null,10,[t,i,o])}!function(t,e,n,r=!0){console.error(t)}(t,0,0,r)}let de=!1,pe=!1;const ve=[];let me=0;const ye=[];let ge=null,be=0;const we=[];let _e=null,Ie=0;const Te=Promise.resolve();let Ee=null,Se=null;function ke(t){const e=Ee||Te;return t?e.then(this?t.bind(this):t):e}function Ae(t){if(!(ve.length&&ve.includes(t,de&&t.allowRecurse?me+1:me)||t===Se)){const e=function(t){let e=me+1,n=ve.length;const r=xe(t);for(;e<n;){const t=e+n>>>1;xe(ve[t])<r?e=t+1:n=t}return e}(t);e>-1?ve.splice(e,0,t):ve.push(t),Ne()}}function Ne(){de||pe||(pe=!0,Ee=Te.then(Re))}function De(t,e,n,r){T(t)?n.push(...t):e&&e.includes(t,t.allowRecurse?r+1:r)||n.push(t),Ne()}function Oe(t,e=null){if(ye.length){for(Se=e,ge=[...new Set(ye)],ye.length=0,be=0;be<ge.length;be++)ge[be]();ge=null,be=0,Se=null,Oe(t,e)}}function Ce(t){if(we.length){const t=[...new Set(we)];if(we.length=0,_e)return void _e.push(...t);for(_e=t,_e.sort(((t,e)=>xe(t)-xe(e))),Ie=0;Ie<_e.length;Ie++)_e[Ie]();_e=null,Ie=0}}const xe=t=>null==t.id?1/0:t.id;function Re(t){pe=!1,de=!0,Oe(t),ve.sort(((t,e)=>xe(t)-xe(e)));try{for(me=0;me<ve.length;me++){const t=ve[me];t&&le(t,null,14)}}finally{me=0,ve.length=0,Ce(),de=!1,Ee=null,(ve.length||we.length)&&Re(t)}}function Pe(t,e,...n){const r=t.vnode.props||f;let i=n;const o=e.startsWith("update:"),s=o&&e.slice(7);if(s&&s in r){const t=`${"modelValue"===s?"model":s}Modifiers`,{number:e,trim:o}=r[t]||f;o?i=n.map((t=>t.trim())):e&&(i=n.map(W))}let a,u=r[a=G(e)]||r[a=G(U(e))];!u&&o&&(u=r[a=G(q(e))]),u&&he(u,t,6,i);const c=r[a+"Once"];if(c){if(t.emitted){if(t.emitted[a])return}else(t.emitted={})[a]=!0;he(c,t,6,i)}}function Me(t,e,n=!1){if(!e.deopt&&void 0!==t.__emits)return t.__emits;const r=t.emits;let i={},o=!1;if(!A(t)){const r=t=>{const n=Me(t,e,!0);n&&(o=!0,b(i,n))};!n&&e.mixins.length&&e.mixins.forEach(r),t.extends&&r(t.extends),t.mixins&&t.mixins.forEach(r)}return r||o?(T(r)?r.forEach((t=>i[t]=null)):b(i,r),t.__emits=i):t.__emits=null}function Le(t,e){return!(!t||!y(e))&&(e=e.slice(2).replace(/Once$/,""),I(t,e[0].toLowerCase()+e.slice(1))||I(t,q(e))||I(t,e))}let Fe=0;const Ve=t=>Fe+=t;function Ue(t,e,n={},r,i){let o=t[e];Fe++,Zn();const s=o&&je(o(n)),a=er(Wn,{key:n.key||`_${e}`},s||(r?r():[]),s&&1===t._?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),Fe--,a}function je(t){return t.some((t=>!nr(t)||t.type!==Qn&&!(t.type===Wn&&!je(t.children))))?t:null}let qe=null,Be=null;function Ge(t){const e=qe;return qe=t,Be=t&&t.type.__scopeId||null,e}function Ye(t){Be=t}function Ke(){Be=null}const He=t=>We;function We(t,e=qe){if(!e)return t;const n=(...n)=>{Fe||Zn(!0);const r=Ge(e),i=t(...n);return Ge(r),Fe||tr(),i};return n._c=!0,n}function ze(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:o,propsOptions:[s],slots:a,attrs:u,emit:c,render:l,renderCache:h,data:f,setupState:d,ctx:p}=t;let v;const m=Ge(t);try{let t;if(4&n.shapeFlag){const e=i||r;v=hr(l.call(e,e,h,o,d,f,p)),t=u}else{const n=e;0,v=hr(n.length>1?n(o,{attrs:u,slots:a,emit:c}):n(o,null)),t=e.props?u:$e(u)}let m=v;if(!1!==e.inheritAttrs&&t){const e=Object.keys(t),{shapeFlag:n}=m;e.length&&(1&n||6&n)&&(s&&e.some(g)&&(t=Xe(t,s)),m=ur(m,t))}n.dirs&&(m.dirs=m.dirs?m.dirs.concat(n.dirs):n.dirs),n.transition&&(m.transition=n.transition),v=m}catch(y){Xn.length=0,fe(y,t,1),v=ar(Qn)}return Ge(m),v}function Qe(t){let e;for(let n=0;n<t.length;n++){const r=t[n];if(!nr(r))return;if(r.type!==Qn||"v-if"===r.children){if(e)return;e=r}}return e}const $e=t=>{let e;for(const n in t)("class"===n||"style"===n||y(n))&&((e||(e={}))[n]=t[n]);return e},Xe=(t,e)=>{const n={};for(const r in t)g(r)&&r.slice(9)in e||(n[r]=t[r]);return n};function Je(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(e[o]!==t[o]&&!Le(n,o))return!0}return!1}function Ze(t){if(A(t)&&(t=t()),T(t)){t=Qe(t)}return hr(t)}function tn(t,e,n,r=!1){const i={},o={};H(o,ir,1),t.propsDefaults=Object.create(null),en(t,e,i,o),n?t.props=r?i:$t(i,!1,wt,qt,Yt):t.type.props?t.props=i:t.props=o,t.attrs=o}function en(t,e,n,r){const[i,o]=t.propsOptions;if(e)for(const s in e){const o=e[s];if(L(s))continue;let a;i&&I(i,a=U(s))?n[a]=o:Le(t.emitsOptions,s)||(r[s]=o)}if(o){const e=te(n);for(let r=0;r<o.length;r++){const s=o[r];n[s]=nn(i,e,s,e[s],t)}}}function nn(t,e,n,r,i){const o=t[n];if(null!=o){const t=I(o,"default");if(t&&void 0===r){const t=o.default;if(o.type!==Function&&A(t)){const{propsDefaults:o}=i;n in o?r=o[n]:(Cr(i),r=o[n]=t(e),Cr(null))}else r=t}o[0]&&(I(e,n)||t?!o[1]||""!==r&&r!==q(n)||(r=!0):r=!1)}return r}function rn(t,e,n=!1){if(!e.deopt&&t.__props)return t.__props;const r=t.props,i={},o=[];let s=!1;if(!A(t)){const r=t=>{s=!0;const[n,r]=rn(t,e,!0);b(i,n),r&&o.push(...r)};!n&&e.mixins.length&&e.mixins.forEach(r),t.extends&&r(t.extends),t.mixins&&t.mixins.forEach(r)}if(!r&&!s)return t.__props=d;if(T(r))for(let a=0;a<r.length;a++){const t=U(r[a]);on(t)&&(i[t]=f)}else if(r)for(const a in r){const t=U(a);if(on(t)){const e=r[a],n=i[t]=T(e)||A(e)?{type:e}:e;if(n){const e=un(Boolean,n.type),r=un(String,n.type);n[0]=e>-1,n[1]=r<0||e<r,(e>-1||I(n,"default"))&&o.push(t)}}}return t.__props=[i,o]}function on(t){return"$"!==t[0]}function sn(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function an(t,e){return sn(t)===sn(e)}function un(t,e){return T(e)?e.findIndex((e=>an(e,t))):A(e)&&an(e,t)?0:-1}function cn(t,e,n=Or,r=!1){if(n){const i=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...r)=>{if(n.isUnmounted)return;ot(),Cr(n);const i=he(e,n,t,r);return Cr(null),st(),i});return r?i.unshift(o):i.push(o),o}}const ln=t=>(e,n=Or)=>!Rr&&cn(t,e,n),hn=ln("bm"),fn=ln("m"),dn=ln("bu"),pn=ln("u"),vn=ln("bum"),mn=ln("um"),yn=ln("rtg"),gn=ln("rtc"),bn={};function wn(t,e,n){return _n(t,e,n)}function _n(t,e,{immediate:n,deep:r,flush:i,onTrack:o,onTrigger:s}=f,a=Or){let u,c,l=!1;if(ne(t)?(u=()=>t.value,l=!!t._shallow):Xt(t)?(u=()=>t,r=!0):u=T(t)?()=>t.map((t=>ne(t)?t.value:Xt(t)?Tn(t):A(t)?le(t,a,2,[a&&a.proxy]):void 0)):A(t)?e?()=>le(t,a,2,[a&&a.proxy]):()=>{if(!a||!a.isUnmounted)return c&&c(),he(t,a,3,[h])}:p,e&&r){const t=u;u=()=>Tn(t())}let h=t=>{c=y.options.onStop=()=>{le(t,a,4)}},d=T(t)?[]:bn;const v=()=>{if(y.active)if(e){const t=y();(r||l||Y(t,d))&&(c&&c(),he(e,a,3,[t,d===bn?void 0:d,h]),d=t)}else y()};let m;v.allowRecurse=!!e,m="sync"===i?v:"post"===i?()=>Un(v,a&&a.suspense):()=>{!a||a.isMounted?function(t){De(t,ge,ye,be)}(v):v()};const y=Z(u,{lazy:!0,onTrack:o,onTrigger:s,scheduler:m});return Lr(y,a),e?n?v():d=y():"post"===i?Un(y,a&&a.suspense):y(),()=>{tt(y),a&&w(a.effects,y)}}function In(t,e,n){const r=this.proxy;return _n(N(t)?()=>r[t]:t.bind(r),e.bind(r),n,this)}function Tn(t,e=new Set){if(!O(t)||e.has(t))return t;if(e.add(t),ne(t))Tn(t.value,e);else if(T(t))for(let n=0;n<t.length;n++)Tn(t[n],e);else if(S(t)||E(t))t.forEach((t=>{Tn(t,e)}));else for(const n in t)Tn(t[n],e);return t}const En=t=>t.type.__isKeepAlive;function Sn(t,e,n=Or){const r=t.__wdc||(t.__wdc=()=>{let e=n;for(;e;){if(e.isDeactivated)return;e=e.parent}t()});if(cn(e,r,n),n){let t=n.parent;for(;t&&t.parent;)En(t.parent.vnode)&&kn(r,e,n,t),t=t.parent}}function kn(t,e,n,r){const i=cn(e,t,r,!0);mn((()=>{w(r[e],i)}),n)}const An=t=>"_"===t[0]||"$stable"===t,Nn=t=>T(t)?t.map(hr):[hr(t)],Dn=(t,e,n)=>We((t=>Nn(e(t))),n),On=(t,e)=>{const n=t._ctx;for(const r in t){if(An(r))continue;const i=t[r];if(A(i))e[r]=Dn(0,i,n);else if(null!=i){const t=Nn(i);e[r]=()=>t}}},Cn=(t,e)=>{const n=Nn(e);t.slots.default=()=>n};function xn(t,e){if(null===qe)return t;const n=qe.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[t,o,s,a=f]=e[i];A(t)&&(t={mounted:t,updated:t}),r.push({dir:t,instance:n,value:o,oldValue:void 0,arg:s,modifiers:a})}return t}function Rn(t,e,n,r){const i=t.dirs,o=e&&e.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);const u=a.dir[r];u&&he(u,n,8,[t.el,a,t,e])}}function Pn(){return{app:null,config:{isNativeTag:v,performance:!1,globalProperties:{},optionMergeStrategies:{},isCustomElement:v,errorHandler:void 0,warnHandler:void 0},mixins:[],components:{},directives:{},provides:Object.create(null)}}let Mn=0;function Ln(t,e){return function(n,r=null){null==r||O(r)||(r=null);const i=Pn(),o=new Set;let s=!1;const a=i.app={_uid:Mn++,_component:n,_props:r,_container:null,_context:i,version:qr,get config(){return i.config},set config(t){},use:(t,...e)=>(o.has(t)||(t&&A(t.install)?(o.add(t),t.install(a,...e)):A(t)&&(o.add(t),t(a,...e))),a),mixin:t=>(i.mixins.includes(t)||(i.mixins.push(t),(t.props||t.emits)&&(i.deopt=!0)),a),component:(t,e)=>e?(i.components[t]=e,a):i.components[t],directive:(t,e)=>e?(i.directives[t]=e,a):i.directives[t],mount(o,u,c){if(!s){const l=ar(n,r);return l.appContext=i,u&&e?e(l,o):t(l,o,c),s=!0,a._container=o,o.__vue_app__=a,l.component.proxy}},unmount(){s&&(t(null,a._container),delete a._container.__vue_app__)},provide:(t,e)=>(i.provides[t]=e,a)};return a}}function Fn(t){return A(t)?{setup:t,name:t.name}:t}const Vn={scheduler:Ae,allowRecurse:!0},Un=function(t,e){e&&e.pendingBranch?T(t)?e.effects.push(...t):e.effects.push(t):De(t,_e,we,Ie)},jn=(t,e,n,r)=>{if(T(t))return void t.forEach(((t,i)=>jn(t,e&&(T(e)?e[i]:e),n,r)));let i;if(r){if(r.type.__asyncLoader)return;i=4&r.shapeFlag?r.component.exposed||r.component.proxy:r.el}else i=null;const{i:o,r:s}=t,a=e&&e.r,u=o.refs===f?o.refs={}:o.refs,c=o.setupState;if(null!=a&&a!==s&&(N(a)?(u[a]=null,I(c,a)&&(c[a]=null)):ne(a)&&(a.value=null)),N(s)){const t=()=>{u[s]=i,I(c,s)&&(c[s]=i)};i?(t.id=-1,Un(t,n)):t()}else if(ne(s)){const t=()=>{s.value=i};i?(t.id=-1,Un(t,n)):t()}else A(s)&&le(s,o,12,[i,u])};function qn(t){return function(t,e){const{insert:n,remove:r,patchProp:i,forcePatchProp:o,createElement:s,createText:a,createComment:u,setText:c,setElementText:l,parentNode:h,nextSibling:v,setScopeId:m=p,cloneNode:y,insertStaticContent:g}=t,w=(t,e,n,r=null,i=null,o=null,s=!1,a=null,u=!1)=>{t&&!rr(t,e)&&(r=rt(t),$(t,i,o,!0),t=null),-2===e.patchFlag&&(u=!1,e.dynamicChildren=null);const{type:c,ref:l,shapeFlag:h}=e;switch(c){case zn:_(t,e,n,r);break;case Qn:T(t,e,n,r);break;case $n:null==t&&E(e,n,r,s);break;case Wn:M(t,e,n,r,i,o,s,a,u);break;default:1&h?A(t,e,n,r,i,o,s,a,u):6&h?F(t,e,n,r,i,o,s,a,u):(64&h||128&h)&&c.process(t,e,n,r,i,o,s,a,u,at)}null!=l&&i&&jn(l,t&&t.ref,o,e)},_=(t,e,r,i)=>{if(null==t)n(e.el=a(e.children),r,i);else{const n=e.el=t.el;e.children!==t.children&&c(n,e.children)}},T=(t,e,r,i)=>{null==t?n(e.el=u(e.children||""),r,i):e.el=t.el},E=(t,e,n,r)=>{[t.el,t.anchor]=g(t.children,e,n,r)},S=({el:t,anchor:e},r,i)=>{let o;for(;t&&t!==e;)o=v(t),n(t,r,i),t=o;n(e,r,i)},k=({el:t,anchor:e})=>{let n;for(;t&&t!==e;)n=v(t),r(t),t=n;r(e)},A=(t,e,n,r,i,o,s,a,u)=>{s=s||"svg"===e.type,null==t?N(e,n,r,i,o,s,a,u):x(t,e,i,o,s,a,u)},N=(t,e,r,o,a,u,c,h)=>{let f,d;const{type:p,props:v,shapeFlag:m,transition:g,patchFlag:b,dirs:w}=t;if(t.el&&void 0!==y&&-1===b)f=t.el=y(t.el);else{if(f=t.el=s(t.type,u,v&&v.is,v),8&m?l(f,t.children):16&m&&O(t.children,f,null,o,a,u&&"foreignObject"!==p,c,h||!!t.dynamicChildren),w&&Rn(t,null,o,"created"),v){for(const e in v)L(e)||i(f,e,null,v[e],u,t.children,o,a,nt);(d=v.onVnodeBeforeMount)&&Bn(d,o,t)}D(f,t,t.scopeId,c,o)}w&&Rn(t,null,o,"beforeMount");const _=(!a||a&&!a.pendingBranch)&&g&&!g.persisted;_&&g.beforeEnter(f),n(f,e,r),((d=v&&v.onVnodeMounted)||_||w)&&Un((()=>{d&&Bn(d,o,t),_&&g.enter(f),w&&Rn(t,null,o,"mounted")}),a)},D=(t,e,n,r,i)=>{if(n&&m(t,n),r)for(let o=0;o<r.length;o++)m(t,r[o]);if(i){if(e===i.subTree){const e=i.vnode;D(t,e,e.scopeId,e.slotScopeIds,i.parent)}}},O=(t,e,n,r,i,o,s,a,u=0)=>{for(let c=u;c<t.length;c++){const u=t[c]=s?fr(t[c]):hr(t[c]);w(null,u,e,n,r,i,o,s,a)}},x=(t,e,n,r,s,a,u)=>{const c=e.el=t.el;let{patchFlag:h,dynamicChildren:d,dirs:p}=e;h|=16&t.patchFlag;const v=t.props||f,m=e.props||f;let y;if((y=m.onVnodeBeforeUpdate)&&Bn(y,n,e,t),p&&Rn(e,t,n,"beforeUpdate"),h>0){if(16&h)P(c,e,v,m,n,r,s);else if(2&h&&v.class!==m.class&&i(c,"class",null,m.class,s),4&h&&i(c,"style",v.style,m.style,s),8&h){const a=e.dynamicProps;for(let e=0;e<a.length;e++){const u=a[e],l=v[u],h=m[u];(h!==l||o&&o(c,u))&&i(c,u,l,h,s,t.children,n,r,nt)}}1&h&&t.children!==e.children&&l(c,e.children)}else u||null!=d||P(c,e,v,m,n,r,s);const g=s&&"foreignObject"!==e.type;d?R(t.dynamicChildren,d,c,n,r,g,a):u||Y(t,e,c,null,n,r,g,a,!1),((y=m.onVnodeUpdated)||p)&&Un((()=>{y&&Bn(y,n,e,t),p&&Rn(e,t,n,"updated")}),r)},R=(t,e,n,r,i,o,s)=>{for(let a=0;a<e.length;a++){const u=t[a],c=e[a],l=u.type===Wn||!rr(u,c)||6&u.shapeFlag||64&u.shapeFlag?h(u.el):n;w(u,c,l,null,r,i,o,s,!0)}},P=(t,e,n,r,s,a,u)=>{if(n!==r){for(const c in r){if(L(c))continue;const l=r[c],h=n[c];(l!==h||o&&o(t,c))&&i(t,c,h,l,u,e.children,s,a,nt)}if(n!==f)for(const o in n)L(o)||o in r||i(t,o,n[o],null,u,e.children,s,a,nt)}},M=(t,e,r,i,o,s,u,c,l)=>{const h=e.el=t?t.el:a(""),f=e.anchor=t?t.anchor:a("");let{patchFlag:d,dynamicChildren:p,slotScopeIds:v}=e;d>0&&(l=!0),v&&(c=c?c.concat(v):v),null==t?(n(h,r,i),n(f,r,i),O(e.children,r,f,o,s,u,c,l)):d>0&&64&d&&p&&t.dynamicChildren?(R(t.dynamicChildren,p,r,o,s,u,c),(null!=e.key||o&&e===o.subTree)&&Gn(t,e,!0)):Y(t,e,r,f,o,s,u,c,l)},F=(t,e,n,r,i,o,s,a,u)=>{e.slotScopeIds=a,null==t?512&e.shapeFlag?i.ctx.activate(e,n,r,s,u):V(e,n,r,i,o,s,u):j(t,e,u)},V=(t,e,n,r,i,o,s)=>{const a=t.component=function(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||Nr,o={uid:Dr++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,update:null,render:null,proxy:null,exposed:null,withProxy:null,effects:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:rn(r,i),emitsOptions:Me(r,i),emit:null,emitted:null,propsDefaults:f,ctx:f,data:f,props:f,attrs:f,slots:f,refs:f,setupState:f,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=Pe.bind(null,o),o}(t,r,i);if(En(t)&&(a.ctx.renderer=at),function(t,e=!1){Rr=e;const{props:n,children:r}=t.vnode,i=xr(t);tn(t,n,i,e),((t,e)=>{if(32&t.vnode.shapeFlag){const n=e._;n?(t.slots=e,H(e,"_",n)):On(e,t.slots={})}else t.slots={},e&&Cn(t,e);H(t.slots,ir,1)})(t,r);const o=i?function(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,kr);const{setup:r}=n;if(r){const n=t.setupContext=r.length>1?function(t){const e=e=>{t.exposed=ae(e)};return{attrs:t.attrs,slots:t.slots,emit:t.emit,expose:e}}(t):null;Or=t,ot();const i=le(r,t,0,[t.props,n]);if(st(),Or=null,C(i)){if(e)return i.then((e=>{Pr(t,e)})).catch((e=>{fe(e,t,0)}));t.asyncDep=i}else Pr(t,i)}else Mr(t)}(t,e):void 0;Rr=!1}(a),a.asyncDep){if(i&&i.registerDep(a,B),!t.el){const t=a.subTree=ar(Qn);T(null,t,e,n)}}else B(a,t,e,n,i,o,s)},j=(t,e,n)=>{const r=e.component=t.component;if(function(t,e,n){const{props:r,children:i,component:o}=t,{props:s,children:a,patchFlag:u}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(!(n&&u>=0))return!(!i&&!a||a&&a.$stable)||r!==s&&(r?!s||Je(r,s,c):!!s);if(1024&u)return!0;if(16&u)return r?Je(r,s,c):!!s;if(8&u){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const n=t[e];if(s[n]!==r[n]&&!Le(c,n))return!0}}return!1}(t,e,n)){if(r.asyncDep&&!r.asyncResolved)return void G(r,e,n);r.next=e,function(t){const e=ve.indexOf(t);e>me&&ve.splice(e,1)}(r.update),r.update()}else e.component=t.component,e.el=t.el,r.vnode=e},B=(t,e,n,r,i,o,s)=>{t.update=Z((function(){if(t.isMounted){let e,{next:n,bu:r,u:a,parent:u,vnode:c}=t,l=n;n?(n.el=c.el,G(t,n,s)):n=c,r&&K(r),(e=n.props&&n.props.onVnodeBeforeUpdate)&&Bn(e,u,n,c);const f=ze(t),d=t.subTree;t.subTree=f,w(d,f,h(d.el),rt(d),t,i,o),n.el=f.el,null===l&&function({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}(t,f.el),a&&Un(a,i),(e=n.props&&n.props.onVnodeUpdated)&&Un((()=>{Bn(e,u,n,c)}),i)}else{let s;const{el:a,props:u}=e,{bm:c,m:l,parent:h}=t;c&&K(c),(s=u&&u.onVnodeBeforeMount)&&Bn(s,h,e);const f=t.subTree=ze(t);if(a&&lt?lt(e.el,f,t,i,null):(w(null,f,n,r,t,i,o),e.el=f.el),l&&Un(l,i),s=u&&u.onVnodeMounted){const t=e;Un((()=>{Bn(s,h,t)}),i)}const{a:d}=t;d&&256&e.shapeFlag&&Un(d,i),t.isMounted=!0,e=n=r=null}}),Vn)},G=(t,e,n)=>{e.component=t;const r=t.vnode.props;t.vnode=e,t.next=null,function(t,e,n,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=t,a=te(i),[u]=t.propsOptions;if(!(r||s>0)||16&s){let r;en(t,e,i,o);for(const o in a)e&&(I(e,o)||(r=q(o))!==o&&I(e,r))||(u?!n||void 0===n[o]&&void 0===n[r]||(i[o]=nn(u,e||f,o,void 0,t)):delete i[o]);if(o!==a)for(const t in o)e&&I(e,t)||delete o[t]}else if(8&s){const n=t.vnode.dynamicProps;for(let r=0;r<n.length;r++){const s=n[r],c=e[s];if(u)if(I(o,s))o[s]=c;else{const e=U(s);i[e]=nn(u,a,e,c,t)}else o[s]=c}}ut(t,"set","$attrs")}(t,e.props,r,n),((t,e,n)=>{const{vnode:r,slots:i}=t;let o=!0,s=f;if(32&r.shapeFlag){const t=e._;t?n&&1===t?o=!1:(b(i,e),n||1!==t||delete i._):(o=!e.$stable,On(e,i)),s=e}else e&&(Cn(t,e),s={default:1});if(o)for(const a in i)An(a)||a in s||delete i[a]})(t,e.children,n),ot(),Oe(void 0,t.update),st()},Y=(t,e,n,r,i,o,s,a,u=!1)=>{const c=t&&t.children,h=t?t.shapeFlag:0,f=e.children,{patchFlag:d,shapeFlag:p}=e;if(d>0){if(128&d)return void z(c,f,n,r,i,o,s,a,u);if(256&d)return void W(c,f,n,r,i,o,s,a,u)}8&p?(16&h&&nt(c,i,o),f!==c&&l(n,f)):16&h?16&p?z(c,f,n,r,i,o,s,a,u):nt(c,i,o,!0):(8&h&&l(n,""),16&p&&O(f,n,r,i,o,s,a,u))},W=(t,e,n,r,i,o,s,a,u)=>{e=e||d;const c=(t=t||d).length,l=e.length,h=Math.min(c,l);let f;for(f=0;f<h;f++){const r=e[f]=u?fr(e[f]):hr(e[f]);w(t[f],r,n,null,i,o,s,a,u)}c>l?nt(t,i,o,!0,!1,h):O(e,n,r,i,o,s,a,u,h)},z=(t,e,n,r,i,o,s,a,u)=>{let c=0;const l=e.length;let h=t.length-1,f=l-1;for(;c<=h&&c<=f;){const r=t[c],l=e[c]=u?fr(e[c]):hr(e[c]);if(!rr(r,l))break;w(r,l,n,null,i,o,s,a,u),c++}for(;c<=h&&c<=f;){const r=t[h],c=e[f]=u?fr(e[f]):hr(e[f]);if(!rr(r,c))break;w(r,c,n,null,i,o,s,a,u),h--,f--}if(c>h){if(c<=f){const t=f+1,h=t<l?e[t].el:r;for(;c<=f;)w(null,e[c]=u?fr(e[c]):hr(e[c]),n,h,i,o,s,a,u),c++}}else if(c>f)for(;c<=h;)$(t[c],i,o,!0),c++;else{const p=c,v=c,m=new Map;for(c=v;c<=f;c++){const t=e[c]=u?fr(e[c]):hr(e[c]);null!=t.key&&m.set(t.key,c)}let y,g=0;const b=f-v+1;let _=!1,I=0;const T=new Array(b);for(c=0;c<b;c++)T[c]=0;for(c=p;c<=h;c++){const r=t[c];if(g>=b){$(r,i,o,!0);continue}let l;if(null!=r.key)l=m.get(r.key);else for(y=v;y<=f;y++)if(0===T[y-v]&&rr(r,e[y])){l=y;break}void 0===l?$(r,i,o,!0):(T[l-v]=c+1,l>=I?I=l:_=!0,w(r,e[l],n,null,i,o,s,a,u),g++)}const E=_?function(t){const e=t.slice(),n=[0];let r,i,o,s,a;const u=t.length;for(r=0;r<u;r++){const u=t[r];if(0!==u){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)a=(o+s)/2|0,t[n[a]]<u?o=a+1:s=a;u<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}o=n.length,s=n[o-1];for(;o-- >0;)n[o]=s,s=e[s];return n}(T):d;for(y=E.length-1,c=b-1;c>=0;c--){const t=v+c,h=e[t],f=t+1<l?e[t+1].el:r;0===T[c]?w(null,h,n,f,i,o,s,a,u):_&&(y<0||c!==E[y]?Q(h,n,f,2):y--)}}},Q=(t,e,r,i,o=null)=>{const{el:s,type:a,transition:u,children:c,shapeFlag:l}=t;if(6&l)return void Q(t.component.subTree,e,r,i);if(128&l)return void t.suspense.move(e,r,i);if(64&l)return void a.move(t,e,r,at);if(a===Wn){n(s,e,r);for(let t=0;t<c.length;t++)Q(c[t],e,r,i);return void n(t.anchor,e,r)}if(a===$n)return void S(t,e,r);if(2!==i&&1&l&&u)if(0===i)u.beforeEnter(s),n(s,e,r),Un((()=>u.enter(s)),o);else{const{leave:t,delayLeave:i,afterLeave:o}=u,a=()=>n(s,e,r),c=()=>{t(s,(()=>{a(),o&&o()}))};i?i(s,a,c):c()}else n(s,e,r)},$=(t,e,n,r=!1,i=!1)=>{const{type:o,props:s,ref:a,children:u,dynamicChildren:c,shapeFlag:l,patchFlag:h,dirs:f}=t;if(null!=a&&jn(a,null,n,null),256&l)return void e.ctx.deactivate(t);const d=1&l&&f;let p;if((p=s&&s.onVnodeBeforeUnmount)&&Bn(p,e,t),6&l)et(t.component,n,r);else{if(128&l)return void t.suspense.unmount(n,r);d&&Rn(t,null,e,"beforeUnmount"),64&l?t.type.remove(t,e,n,i,at,r):c&&(o!==Wn||h>0&&64&h)?nt(c,e,n,!1,!0):(o===Wn&&(128&h||256&h)||!i&&16&l)&&nt(u,e,n),r&&X(t)}((p=s&&s.onVnodeUnmounted)||d)&&Un((()=>{p&&Bn(p,e,t),d&&Rn(t,null,e,"unmounted")}),n)},X=t=>{const{type:e,el:n,anchor:i,transition:o}=t;if(e===Wn)return void J(n,i);if(e===$n)return void k(t);const s=()=>{r(n),o&&!o.persisted&&o.afterLeave&&o.afterLeave()};if(1&t.shapeFlag&&o&&!o.persisted){const{leave:e,delayLeave:r}=o,i=()=>e(n,s);r?r(t.el,s,i):i()}else s()},J=(t,e)=>{let n;for(;t!==e;)n=v(t),r(t),t=n;r(e)},et=(t,e,n)=>{const{bum:r,effects:i,update:o,subTree:s,um:a}=t;if(r&&K(r),i)for(let u=0;u<i.length;u++)tt(i[u]);o&&(tt(o),$(s,t,e,n)),a&&Un(a,e),Un((()=>{t.isUnmounted=!0}),e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve())},nt=(t,e,n,r=!1,i=!1,o=0)=>{for(let s=o;s<t.length;s++)$(t[s],e,n,r,i)},rt=t=>6&t.shapeFlag?rt(t.component.subTree):128&t.shapeFlag?t.suspense.next():v(t.anchor||t.el),it=(t,e,n)=>{null==t?e._vnode&&$(e._vnode,null,null,!0):w(e._vnode||null,t,e,null,null,null,n),Ce(),e._vnode=t},at={p:w,um:$,m:Q,r:X,mt:V,mc:O,pc:Y,pbc:R,n:rt,o:t};let ct,lt;e&&([ct,lt]=e(at));return{render:it,hydrate:ct,createApp:Ln(it,ct)}}(t)}function Bn(t,e,n,r=null){he(t,e,7,[n,r])}function Gn(t,e,n=!1){const r=t.children,i=e.children;if(T(r)&&T(i))for(let o=0;o<r.length;o++){const t=r[o];let e=i[o];1&e.shapeFlag&&!e.dynamicChildren&&((e.patchFlag<=0||32===e.patchFlag)&&(e=i[o]=fr(i[o]),e.el=t.el),n||Gn(t,e))}}function Yn(t,e){return function(t,e,n=!0,r=!1){const i=qe||Or;if(i){const n=i.type;if("components"===t){const t=Fr(n);if(t&&(t===e||t===U(e)||t===B(U(e))))return n}const o=Hn(i[t]||n[t],e)||Hn(i.appContext[t],e);return!o&&r?n:o}}("components",t,!0,e)||t}const Kn=Symbol();function Hn(t,e){return t&&(t[e]||t[U(e)]||t[B(U(e))])}const Wn=Symbol(void 0),zn=Symbol(void 0),Qn=Symbol(void 0),$n=Symbol(void 0),Xn=[];let Jn=null;function Zn(t=!1){Xn.push(Jn=t?null:[])}function tr(){Xn.pop(),Jn=Xn[Xn.length-1]||null}function er(t,e,n,r,i){const o=ar(t,e,n,r,i,!0);return o.dynamicChildren=Jn||d,tr(),Jn&&Jn.push(o),o}function nr(t){return!!t&&!0===t.__v_isVNode}function rr(t,e){return t.type===e.type&&t.key===e.key}const ir="__vInternal",or=({key:t})=>null!=t?t:null,sr=({ref:t})=>null!=t?N(t)||ne(t)||A(t)?{i:qe,r:t}:t:null,ar=function(t,e=null,n=null,i=0,o=null,s=!1){t&&t!==Kn||(t=Qn);if(nr(t)){const r=ur(t,e,!0);return n&&dr(r,n),r}u=t,A(u)&&"__vccOpts"in u&&(t=t.__vccOpts);var u;if(e){(Zt(e)||ir in e)&&(e=b({},e));let{class:t,style:n}=e;t&&!N(t)&&(e.class=a(t)),O(n)&&(Zt(n)&&!T(n)&&(n=b({},n)),e.style=r(n))}const c=N(t)?1:(t=>t.__isSuspense)(t)?128:(t=>t.__isTeleport)(t)?64:O(t)?4:A(t)?2:0,l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&or(e),ref:e&&sr(e),scopeId:Be,slotScopeIds:null,children:null,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:c,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null};if(dr(l,n),128&c){const{content:t,fallback:e}=function(t){const{shapeFlag:e,children:n}=t;let r,i;return 32&e?(r=Ze(n.default),i=Ze(n.fallback)):(r=Ze(n),i=hr(null)),{content:r,fallback:i}}(l);l.ssContent=t,l.ssFallback=e}!s&&Jn&&(i>0||6&c)&&32!==i&&Jn.push(l);return l};function ur(t,e,n=!1){const{props:i,ref:o,patchFlag:s,children:u}=t,c=e?function(...t){const e=b({},t[0]);for(let n=1;n<t.length;n++){const i=t[n];for(const t in i)if("class"===t)e.class!==i.class&&(e.class=a([e.class,i.class]));else if("style"===t)e.style=r([e.style,i.style]);else if(y(t)){const n=e[t],r=i[t];n!==r&&(e[t]=n?[].concat(n,i[t]):r)}else""!==t&&(e[t]=i[t])}return e}(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&or(c),ref:e&&e.ref?n&&o?T(o)?o.concat(sr(e)):[o,sr(e)]:sr(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:u,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Wn?-1===s?16:16|s:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ur(t.ssContent),ssFallback:t.ssFallback&&ur(t.ssFallback),el:t.el,anchor:t.anchor}}function cr(t=" ",e=0){return ar(zn,null,t,e)}function lr(t="",e=!1){return e?(Zn(),er(Qn,null,t)):ar(Qn,null,t)}function hr(t){return null==t||"boolean"==typeof t?ar(Qn):T(t)?ar(Wn,null,t):"object"==typeof t?null===t.el?t:ur(t):ar(zn,null,String(t))}function fr(t){return null===t.el?t:ur(t)}function dr(t,e){let n=0;const{shapeFlag:r}=t;if(null==e)e=null;else if(T(e))n=16;else if("object"==typeof e){if(1&r||64&r){const n=e.default;return void(n&&(n._c&&Ve(1),dr(t,n()),n._c&&Ve(-1)))}{n=32;const r=e._;r||ir in e?3===r&&qe&&(1024&qe.vnode.patchFlag?(e._=2,t.patchFlag|=1024):e._=1):e._ctx=qe}}else A(e)?(e={default:e,_ctx:qe},n=32):(e=String(e),64&r?(n=16,e=[cr(e)]):n=8);t.children=e,t.shapeFlag|=n}function pr(t,e){if(Or){let n=Or.provides;const r=Or.parent&&Or.parent.provides;r===n&&(n=Or.provides=Object.create(r)),n[t]=e}else;}function vr(t,e,n=!1){const r=Or||qe;if(r){const i=null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&A(e)?e():e}}let mr=!0;function yr(t,e,n=[],r=[],i=[],o=!1){const{mixins:s,extends:a,data:u,computed:c,methods:l,watch:h,provide:d,inject:v,components:m,directives:y,beforeMount:g,mounted:w,beforeUpdate:_,updated:I,activated:E,deactivated:S,beforeDestroy:k,beforeUnmount:N,destroyed:D,unmounted:C,render:x,renderTracked:R,renderTriggered:P,errorCaptured:M,expose:L}=e,F=t.proxy,V=t.ctx,U=t.appContext.mixins;if(o&&x&&t.render===p&&(t.render=x),o||(mr=!1,gr("beforeCreate","bc",e,t,U),mr=!0,wr(t,U,n,r,i)),a&&yr(t,a,n,r,i,!0),s&&wr(t,s,n,r,i),v)if(T(v))for(let f=0;f<v.length;f++){const t=v[f];V[t]=vr(t)}else for(const f in v){const t=v[f];O(t)?V[f]=vr(t.from||f,t.default,!0):V[f]=vr(t)}if(l)for(const f in l){const t=l[f];A(t)&&(V[f]=t.bind(F))}if(o?u&&n.push(u):(n.length&&n.forEach((e=>_r(t,e,F))),u&&_r(t,u,F)),c)for(const f in c){const t=c[f],e=Vr({get:A(t)?t.bind(F,F):A(t.get)?t.get.bind(F,F):p,set:!A(t)&&A(t.set)?t.set.bind(F):p});Object.defineProperty(V,f,{enumerable:!0,configurable:!0,get:()=>e.value,set:t=>e.value=t})}var j;if(h&&r.push(h),!o&&r.length&&r.forEach((t=>{for(const e in t)Ir(t[e],V,F,e)})),d&&i.push(d),!o&&i.length&&i.forEach((t=>{const e=A(t)?t.call(F):t;Reflect.ownKeys(e).forEach((t=>{pr(t,e[t])}))})),o&&(m&&b(t.components||(t.components=b({},t.type.components)),m),y&&b(t.directives||(t.directives=b({},t.type.directives)),y)),o||gr("created","c",e,t,U),g&&hn(g.bind(F)),w&&fn(w.bind(F)),_&&dn(_.bind(F)),I&&pn(I.bind(F)),E&&Sn(E.bind(F),"a",j),S&&function(t,e){Sn(t,"da",e)}(S.bind(F)),M&&((t,e=Or)=>{cn("ec",t,e)})(M.bind(F)),R&&gn(R.bind(F)),P&&yn(P.bind(F)),N&&vn(N.bind(F)),C&&mn(C.bind(F)),T(L)&&!o)if(L.length){const e=t.exposed||(t.exposed=ae({}));L.forEach((t=>{e[t]=function(t,e){return ne(t[e])?t[e]:new ue(t,e)}(F,t)}))}else t.exposed||(t.exposed=f)}function gr(t,e,n,r,i){for(let o=0;o<i.length;o++)br(t,e,i[o],r);br(t,e,n,r)}function br(t,e,n,r){const{extends:i,mixins:o}=n,s=n[t];if(i&&br(t,e,i,r),o)for(let a=0;a<o.length;a++)br(t,e,o[a],r);s&&he(s.bind(r.proxy),r,e)}function wr(t,e,n,r,i){for(let o=0;o<e.length;o++)yr(t,e[o],n,r,i,!0)}function _r(t,e,n){mr=!1;const r=e.call(n,n);mr=!0,O(r)&&(t.data===f?t.data=zt(r):b(t.data,r))}function Ir(t,e,n,r){const i=r.includes(".")?function(t,e){const n=e.split(".");return()=>{let e=t;for(let t=0;t<n.length&&e;t++)e=e[n[t]];return e}}(n,r):()=>n[r];if(N(t)){const n=e[t];A(n)&&wn(i,n)}else if(A(t))wn(i,t.bind(n));else if(O(t))if(T(t))t.forEach((t=>Ir(t,e,n,r)));else{const r=A(t.handler)?t.handler.bind(n):e[t.handler];A(r)&&wn(i,r,t)}}function Tr(t,e,n){const r=n.appContext.config.optionMergeStrategies,{mixins:i,extends:o}=e;o&&Tr(t,o,n),i&&i.forEach((e=>Tr(t,e,n)));for(const s in e)r&&I(r,s)?t[s]=r[s](t[s],e[s],n.proxy,s):t[s]=e[s]}const Er=t=>t?xr(t)?t.exposed?t.exposed:t.proxy:Er(t.parent):null,Sr=b(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Er(t.parent),$root:t=>Er(t.root),$emit:t=>t.emit,$options:t=>function(t){const e=t.type,{__merged:n,mixins:r,extends:i}=e;if(n)return n;const o=t.appContext.mixins;if(!o.length&&!r&&!i)return e;const s={};return o.forEach((e=>Tr(s,e,t))),Tr(s,e,t),e.__merged=s}(t),$forceUpdate:t=>()=>Ae(t.update),$nextTick:t=>ke.bind(t.proxy),$watch:t=>In.bind(t)}),kr={get({_:t},e){const{ctx:n,setupState:r,data:i,props:o,accessCache:s,type:a,appContext:u}=t;if("__v_skip"===e)return!0;let c;if("$"!==e[0]){const a=s[e];if(void 0!==a)switch(a){case 0:return r[e];case 1:return i[e];case 3:return n[e];case 2:return o[e]}else{if(r!==f&&I(r,e))return s[e]=0,r[e];if(i!==f&&I(i,e))return s[e]=1,i[e];if((c=t.propsOptions[0])&&I(c,e))return s[e]=2,o[e];if(n!==f&&I(n,e))return s[e]=3,n[e];mr&&(s[e]=4)}}const l=Sr[e];let h,d;return l?("$attrs"===e&&at(t,0,e),l(t)):(h=a.__cssModules)&&(h=h[e])?h:n!==f&&I(n,e)?(s[e]=3,n[e]):(d=u.config.globalProperties,I(d,e)?d[e]:void 0)},set({_:t},e,n){const{data:r,setupState:i,ctx:o}=t;if(i!==f&&I(i,e))i[e]=n;else if(r!==f&&I(r,e))r[e]=n;else if(I(t.props,e))return!1;return("$"!==e[0]||!(e.slice(1)in t))&&(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:o}},s){let a;return void 0!==n[s]||t!==f&&I(t,s)||e!==f&&I(e,s)||(a=o[0])&&I(a,s)||I(r,s)||I(Sr,s)||I(i.config.globalProperties,s)}},Ar=b({},kr,{get(t,e){if(e!==Symbol.unscopables)return kr.get(t,e,t)},has:(t,n)=>"_"!==n[0]&&!e(n)}),Nr=Pn();let Dr=0;let Or=null;const Cr=t=>{Or=t};function xr(t){return 4&t.vnode.shapeFlag}let Rr=!1;function Pr(t,e,n){A(e)?t.render=e:O(e)&&(t.setupState=ae(e)),Mr(t)}function Mr(t,e){const n=t.type;t.render||(t.render=n.render||p,t.render._rc&&(t.withProxy=new Proxy(t.ctx,Ar))),Or=t,ot(),yr(t,n),st(),Or=null}function Lr(t,e=Or){e&&(e.effects||(e.effects=[])).push(t)}function Fr(t){return A(t)&&t.displayName||t.name}function Vr(t){const e=function(t){let e,n;return A(t)?(e=t,n=p):(e=t.get,n=t.set),new ce(e,n,A(t)||!t.set)}(t);return Lr(e.effect),e}function Ur(t,e,n){const r=arguments.length;return 2===r?O(e)&&!T(e)?nr(e)?ar(t,null,[e]):ar(t,e):ar(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&nr(n)&&(n=[n]),ar(t,e,n))}function jr(t,e){let n;if(T(t)||N(t)){n=new Array(t.length);for(let r=0,i=t.length;r<i;r++)n[r]=e(t[r],r)}else if("number"==typeof t){n=new Array(t);for(let r=0;r<t;r++)n[r]=e(r+1,r)}else if(O(t))if(t[Symbol.iterator])n=Array.from(t,e);else{const r=Object.keys(t);n=new Array(r.length);for(let i=0,o=r.length;i<o;i++){const o=r[i];n[i]=e(t[o],o,i)}}else n=[];return n}const qr="3.0.11",Br="http://www.w3.org/2000/svg",Gr="undefined"!=typeof document?document:null;let Yr,Kr;const Hr={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?Gr.createElementNS(Br,t):Gr.createElement(t,n?{is:n}:void 0);return"select"===t&&r&&null!=r.multiple&&i.setAttribute("multiple",r.multiple),i},createText:t=>Gr.createTextNode(t),createComment:t=>Gr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Gr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,n,r){const i=r?Kr||(Kr=Gr.createElementNS(Br,"svg")):Yr||(Yr=Gr.createElement("div"));i.innerHTML=t;const o=i.firstChild;let s=o,a=s;for(;s;)a=s,Hr.insert(s,e,n),s=i.firstChild;return[o,a]}};const Wr=/\s*!important$/;function zr(t,e,n){if(T(n))n.forEach((n=>zr(t,e,n)));else if(e.startsWith("--"))t.setProperty(e,n);else{const r=function(t,e){const n=$r[e];if(n)return n;let r=U(e);if("filter"!==r&&r in t)return $r[e]=r;r=B(r);for(let i=0;i<Qr.length;i++){const n=Qr[i]+r;if(n in t)return $r[e]=n}return e}(t,e);Wr.test(n)?t.setProperty(q(r),n.replace(Wr,""),"important"):t[r]=n}}const Qr=["Webkit","Moz","ms"],$r={};const Xr="http://www.w3.org/1999/xlink";let Jr=Date.now,Zr=!1;if("undefined"!=typeof window){Jr()>document.createEvent("Event").timeStamp&&(Jr=()=>performance.now());const t=navigator.userAgent.match(/firefox\/(\d+)/i);Zr=!!(t&&Number(t[1])<=53)}let ti=0;const ei=Promise.resolve(),ni=()=>{ti=0};function ri(t,e,n,r){t.addEventListener(e,n,r)}function ii(t,e,n,r,i=null){const o=t._vei||(t._vei={}),s=o[e];if(r&&s)s.value=r;else{const[n,a]=function(t){let e;if(oi.test(t)){let n;for(e={};n=t.match(oi);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[q(t.slice(2)),e]}(e);if(r){ri(t,n,o[e]=function(t,e){const n=t=>{const r=t.timeStamp||Jr();(Zr||r>=n.attached-1)&&he(function(t,e){if(T(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map((t=>e=>!e._stopped&&t(e)))}return e}(t,n.value),e,5,[t])};return n.value=t,n.attached=(()=>ti||(ei.then(ni),ti=Jr()))(),n}(r,i),a)}else s&&(!function(t,e,n,r){t.removeEventListener(e,n,r)}(t,n,s,a),o[e]=void 0)}}const oi=/(?:Once|Passive|Capture)$/;const si=/^on[a-z]/;const ai=t=>{const e=t.props["onUpdate:modelValue"];return T(e)?t=>K(e,t):e};function ui(t){t.target.composing=!0}function ci(t){const e=t.target;e.composing&&(e.composing=!1,function(t,e){const n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}(e,"input"))}const li={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t._assign=ai(i);const o=r||"number"===t.type;ri(t,e?"change":"input",(e=>{if(e.target.composing)return;let r=t.value;n?r=r.trim():o&&(r=W(r)),t._assign(r)})),n&&ri(t,"change",(()=>{t.value=t.value.trim()})),e||(ri(t,"compositionstart",ui),ri(t,"compositionend",ci),ri(t,"change",ci))},mounted(t,{value:e}){t.value=null==e?"":e},beforeUpdate(t,{value:e,modifiers:{trim:n,number:r}},i){if(t._assign=ai(i),t.composing)return;if(document.activeElement===t){if(n&&t.value.trim()===e)return;if((r||"number"===t.type)&&W(t.value)===e)return}const o=null==e?"":e;t.value!==o&&(t.value=o)}},hi={created(t,e,n){t._assign=ai(n),ri(t,"change",(()=>{const e=t._modelValue,n=vi(t),r=t.checked,i=t._assign;if(T(e)){const t=c(e,n),o=-1!==t;if(r&&!o)i(e.concat(n));else if(!r&&o){const n=[...e];n.splice(t,1),i(n)}}else if(S(e)){const t=new Set(e);r?t.add(n):t.delete(n),i(t)}else i(mi(t,r))}))},mounted:fi,beforeUpdate(t,e,n){t._assign=ai(n),fi(t,e,n)}};function fi(t,{value:e,oldValue:n},r){t._modelValue=e,T(e)?t.checked=c(e,r.props.value)>-1:S(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=u(e,mi(t,!0)))}const di={created(t,{value:e,modifiers:{number:n}},r){const i=S(e);ri(t,"change",(()=>{const e=Array.prototype.filter.call(t.options,(t=>t.selected)).map((t=>n?W(vi(t)):vi(t)));t._assign(t.multiple?i?new Set(e):e:e[0])})),t._assign=ai(r)},mounted(t,{value:e}){pi(t,e)},beforeUpdate(t,e,n){t._assign=ai(n)},updated(t,{value:e}){pi(t,e)}};function pi(t,e){const n=t.multiple;if(!n||T(e)||S(e)){for(let r=0,i=t.options.length;r<i;r++){const i=t.options[r],o=vi(i);if(n)T(e)?i.selected=c(e,o)>-1:i.selected=e.has(o);else if(u(vi(i),e))return void(t.selectedIndex=r)}n||(t.selectedIndex=-1)}}function vi(t){return"_value"in t?t._value:t.value}function mi(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const yi=["ctrl","shift","alt","meta"],gi={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&0!==t.button,middle:t=>"button"in t&&1!==t.button,right:t=>"button"in t&&2!==t.button,exact:(t,e)=>yi.some((n=>t[`${n}Key`]&&!e.includes(n)))},bi=(t,e)=>(n,...r)=>{for(let t=0;t<e.length;t++){const r=gi[e[t]];if(r&&r(n,e))return}return t(n,...r)},wi={beforeMount(t,{value:e},{transition:n}){t._vod="none"===t.style.display?"":t.style.display,n&&e?n.beforeEnter(t):_i(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),_i(t,!0),r.enter(t)):r.leave(t,(()=>{_i(t,!1)})):_i(t,e))},beforeUnmount(t,{value:e}){_i(t,e)}};function _i(t,e){t.style.display=e?t._vod:"none"}const Ii=b({patchProp:(t,e,r,i,o=!1,s,a,u,c)=>{switch(e){case"class":!function(t,e,n){if(null==e&&(e=""),n)t.setAttribute("class",e);else{const n=t._vtc;n&&(e=(e?[e,...n]:[...n]).join(" ")),t.className=e}}(t,i,o);break;case"style":!function(t,e,n){const r=t.style;if(n)if(N(n)){if(e!==n){const e=r.display;r.cssText=n,"_vod"in t&&(r.display=e)}}else{for(const t in n)zr(r,t,n[t]);if(e&&!N(e))for(const t in e)null==n[t]&&zr(r,t,"")}else t.removeAttribute("style")}(t,r,i);break;default:y(e)?g(e)||ii(t,e,0,i,a):function(t,e,n,r){if(r)return"innerHTML"===e||!!(e in t&&si.test(e)&&A(n));if("spellcheck"===e||"draggable"===e)return!1;if("form"===e)return!1;if("list"===e&&"INPUT"===t.tagName)return!1;if("type"===e&&"TEXTAREA"===t.tagName)return!1;if(si.test(e)&&N(n))return!1;return e in t}(t,e,i,o)?function(t,e,n,r,i,o,s){if("innerHTML"===e||"textContent"===e)return r&&s(r,i,o),void(t[e]=null==n?"":n);if("value"!==e||"PROGRESS"===t.tagName){if(""===n||null==n){const r=typeof t[e];if(""===n&&"boolean"===r)return void(t[e]=!0);if(null==n&&"string"===r)return t[e]="",void t.removeAttribute(e);if("number"===r)return t[e]=0,void t.removeAttribute(e)}try{t[e]=n}catch(u_){}}else{t._value=n;const e=null==n?"":n;t.value!==e&&(t.value=e)}}(t,e,i,s,a,u,c):("true-value"===e?t._trueValue=i:"false-value"===e&&(t._falseValue=i),function(t,e,r,i){if(i&&e.startsWith("xlink:"))null==r?t.removeAttributeNS(Xr,e.slice(6,e.length)):t.setAttributeNS(Xr,e,r);else{const i=n(e);null==r||i&&!1===r?t.removeAttribute(e):t.setAttribute(e,i?"":r)}}(t,e,i,o))}},forcePatchProp:(t,e)=>"value"===e},Hr);let Ti;const Ei=(...t)=>{const e=(Ti||(Ti=qn(Ii))).createApp(...t),{mount:n}=e;return e.mount=t=>{const r=function(t){if(N(t)){return document.querySelector(t)}return t}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */(t);if(!r)return;const i=e._component;A(i)||i.render||i.template||(i.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};var Si=function(t,e){return(Si=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function ki(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Si(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Ai=function(){return(Ai=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Ni(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(u_){o(u_)}}function a(t){try{u(r.throw(t))}catch(u_){o(u_)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function Di(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(u_){o=[6,u_],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function Oi(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ci(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function xi(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ri={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,h=(3&o)<<4|a>>4,f=(15&a)<<2|c>>6,d=63&c;u||(d=64,s||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();var c=o<<2|s>>4;if(r.push(c),64!==a){var l=s<<4&240|a>>2;if(r.push(l),64!==u){var h=a<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function Pi(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=Pi(t[n],e[n]));return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Mi=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Li(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Fi(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(u_){return!1}}function Vi(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Ui(){return"indexedDB"in self&&null!=indexedDB}function ji(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}}))}function qi(){return!(!navigator||!navigator.cookieEnabled)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bi=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,Gi.prototype.create),o}return ki(e,t),e}(Error),Gi=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?Yi(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new Bi(i,a,r);return u},t}();function Yi(t,e){return t.replace(Ki,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var Ki=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Wi(t,e){var n=new zi(t,e);return n.subscribe.bind(n)}var zi=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=Qi),void 0===r.error&&(r.error=Qi),void 0===r.complete&&(r.complete=Qi);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(u_){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(u_){"undefined"!=typeof console&&console.error&&console.error(u_)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function Qi(){}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(t){return t&&t._delegate?t._delegate:t}var Ji=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),Zi=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new Mi;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(u_){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Ai({identifier:"[DEFAULT]",optional:!1},t),n=e.identifier,r=e.optional,i=this.normalizeInstanceIdentifier(n);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u_){if(r)return null;throw u_}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(u_){}try{for(var r=Oi(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=Ci(i.value,2),s=o[0],a=o[1],u=this.normalizeInstanceIdentifier(s);try{var c=this.getOrInitializeService({instanceIdentifier:u});a.resolve(c)}catch(u_){}}}catch(l){e={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Ni(this,void 0,void 0,(function(){var t;return Di(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(xi(xi([],Ci(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),Ci(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var r=t.instanceIdentifier,i=void 0===r?"[DEFAULT]":r,o=t.options,s=void 0===o?{}:o,a=this.normalizeInstanceIdentifier(i);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:a,options:s});try{for(var c=Oi(this.instancesDeferred.entries()),l=c.next();!l.done;l=c.next()){var h=Ci(l.value,2),f=h[0],d=h[1];a===this.normalizeInstanceIdentifier(f)&&d.resolve(u)}}catch(p){e={error:p}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(u,a),u},t.prototype.onInit=function(t){var e=this;return this.onInitCallbacks.add(t),function(){e.onInitCallbacks.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,r;try{for(var i=Oi(this.onInitCallbacks),o=i.next();!o.done;o=i.next()){var s=o.value;try{s(t,e)}catch(a){}}}catch(u){n={error:u}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(s){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var to,eo=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new Zi(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function no(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ro,io,oo=[];(io=ro||(ro={}))[io.DEBUG=0]="DEBUG",io[io.VERBOSE=1]="VERBOSE",io[io.INFO=2]="INFO",io[io.WARN=3]="WARN",io[io.ERROR=4]="ERROR",io[io.SILENT=5]="SILENT";var so,ao={debug:ro.DEBUG,verbose:ro.VERBOSE,info:ro.INFO,warn:ro.WARN,error:ro.ERROR,silent:ro.SILENT},uo=ro.INFO,co=((to={})[ro.DEBUG]="log",to[ro.VERBOSE]="log",to[ro.INFO]="info",to[ro.WARN]="warn",to[ro.ERROR]="error",to),lo=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=co[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,no(["["+i+"]  "+t.name+":"],n))}},ho=function(){function t(t){this.name=t,this._logLevel=uo,this._logHandler=lo,this._userLogHandler=null,oo.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in ro))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?ao[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,no([this,ro.DEBUG],t)),this._logHandler.apply(this,no([this,ro.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,no([this,ro.VERBOSE],t)),this._logHandler.apply(this,no([this,ro.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,no([this,ro.INFO],t)),this._logHandler.apply(this,no([this,ro.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,no([this,ro.WARN],t)),this._logHandler.apply(this,no([this,ro.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,no([this,ro.ERROR],t)),this._logHandler.apply(this,no([this,ro.ERROR],t))},t}();function fo(t){oo.forEach((function(e){e.setLogLevel(t)}))}var po,vo=((so={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",so["bad-app-name"]="Illegal App name: '{$appName}",so["duplicate-app"]="Firebase App named '{$appName}' already exists",so["app-deleted"]="Firebase App named '{$appName}' already deleted",so["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",so["invalid-log-argument"]="First argument to `onLog` must be null or a function.",so),mo=new Gi("app","Firebase",vo),yo=((po={})["@firebase/app"]="fire-core",po["@firebase/analytics"]="fire-analytics",po["@firebase/app-check"]="fire-app-check",po["@firebase/auth"]="fire-auth",po["@firebase/database"]="fire-rtdb",po["@firebase/functions"]="fire-fn",po["@firebase/installations"]="fire-iid",po["@firebase/messaging"]="fire-fcm",po["@firebase/performance"]="fire-perf",po["@firebase/remote-config"]="fire-rc",po["@firebase/storage"]="fire-gcs",po["@firebase/firestore"]="fire-fst",po["fire-js"]="fire-js",po["firebase-wrapper"]="fire-js-all",po),go=new ho("@firebase/app"),bo=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Pi(void 0,t),this.container=new eo(e.name),this._addComponent(new Ji("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){var n;void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(u_){go.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,u_)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw mo.create("app-deleted",{appName:this.name_})},t}();bo.prototype.name&&bo.prototype.options||bo.prototype.delete||console.log("dc");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function wo(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw mo.create("bad-app-name",{appName:String(s)});if(Hi(e,s))throw mo.create("duplicate-app",{appName:s});var a=new t(n,o,r);return e[s]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=yo[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void go.warn(u.join(" "))}o(new Ji(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:fo,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw mo.create("invalid-log-argument");!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=ao[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:ro[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=oo;r<i.length;r++)n(i[r])}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e)},apps:null,SDK_VERSION:"8.6.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function i(t){if(!Hi(e,t=t||"[DEFAULT]"))throw mo.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return go.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var a=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[s])throw mo.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&Pi(a,o.serviceProps),r[s]=a,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,s);return n.apply(this,o.multipleInstances?t:[])}}for(var u=0,c=Object.keys(e);u<c.length;u++){var l=c[u];e[l]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _o=function t(){var e=wo(bo);return e.INTERNAL=Ai(Ai({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Pi(e,t)},createSubscribe:Wi,ErrorFactory:Gi,deepExtend:Pi}),e}(),Io=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if("object"==typeof self&&self.self===self&&void 0!==self.firebase){go.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var To=self.firebase.SDK_VERSION;To&&To.indexOf("LITE")>=0&&go.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Eo=_o.initializeApp;_o.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Fi()&&go.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Eo.apply(void 0,t)};var So,ko,Ao=_o;(So=Ao).INTERNAL.registerComponent(new Ji("platform-logger",(function(t){return new Io(t)}),"PRIVATE")),So.registerVersion("@firebase/app","0.6.22",ko),So.registerVersion("fire-js","");function No(t){return Array.prototype.slice.call(t)}function Do(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function Oo(t,e,n){var r,i=new Promise((function(i,o){Do(r=t[e].apply(t,n)).then(i,o)}));return i.request=r,i}function Co(t,e,n){var r=Oo(t,e,n);return r.then((function(t){if(t)return new Fo(t,r.request)}))}function xo(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function Ro(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return Oo(this[e],r,arguments)})}))}function Po(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function Mo(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return Co(this[e],r,arguments)})}))}function Lo(t){this._index=t}function Fo(t,e){this._cursor=t,this._request=e}function Vo(t){this._store=t}function Uo(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function jo(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new Uo(n)}function qo(t){this._db=t}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Ao.registerVersion("firebase","8.6.2","app"),xo(Lo,"_index",["name","keyPath","multiEntry","unique"]),Ro(Lo,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Mo(Lo,"_index",IDBIndex,["openCursor","openKeyCursor"]),xo(Fo,"_cursor",["direction","key","primaryKey","value"]),Ro(Fo,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(Fo.prototype[t]=function(){var e=this,n=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,n),Do(e._request).then((function(t){if(t)return new Fo(t,e._request)}))}))})})),Vo.prototype.createIndex=function(){return new Lo(this._store.createIndex.apply(this._store,arguments))},Vo.prototype.index=function(){return new Lo(this._store.index.apply(this._store,arguments))},xo(Vo,"_store",["name","keyPath","indexNames","autoIncrement"]),Ro(Vo,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Mo(Vo,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),Po(Vo,"_store",IDBObjectStore,["deleteIndex"]),Uo.prototype.objectStore=function(){return new Vo(this._tx.objectStore.apply(this._tx,arguments))},xo(Uo,"_tx",["objectStoreNames","mode"]),Po(Uo,"_tx",IDBTransaction,["abort"]),jo.prototype.createObjectStore=function(){return new Vo(this._db.createObjectStore.apply(this._db,arguments))},xo(jo,"_db",["name","version","objectStoreNames"]),Po(jo,"_db",IDBDatabase,["deleteObjectStore","close"]),qo.prototype.transaction=function(){return new Uo(this._db.transaction.apply(this._db,arguments))},xo(qo,"_db",["name","version","objectStoreNames"]),Po(qo,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[Vo,Lo].forEach((function(e){t in e.prototype&&(e.prototype[t.replace("open","iterate")]=function(){var e=No(arguments),n=e[e.length-1],r=this._store||this._index,i=r[t].apply(r,e.slice(0,-1));i.onsuccess=function(){n(i.result)}})}))})),[Lo,Vo].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(i){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)}))}))})}));var Bo,Go=((Bo={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Bo["not-registered"]="Firebase Installation is not registered.",Bo["installation-not-found"]="Firebase Installation not found.",Bo["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Bo["app-offline"]="Could not process request. Application offline.",Bo["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Bo),Yo=new Gi("installations","Installations",Go);function Ko(t){return t instanceof Bi&&t.code.includes("request-failed")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function Wo(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function zo(t,e){return Ni(this,void 0,void 0,(function(){var n,r;return Di(this,(function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,Yo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function Qo(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function $o(t,e){var n=e.refreshToken,r=Qo(t);return r.append("Authorization",function(t){return"FIS_v2 "+t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n)),r}function Xo(t){return Ni(this,void 0,void 0,(function(){var e;return Di(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}}))}))}function Jo(t,e){var n=e.fid;return Ni(this,void 0,void 0,(function(){var e,r,i,o,s,a;return Di(this,(function(u){switch(u.label){case 0:return e=Ho(t),r=Qo(t),i={fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:"w:0.4.26"},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,Xo((function(){return fetch(e,o)}))];case 1:return(s=u.sent()).ok?[4,s.json()]:[3,3];case 2:return a=u.sent(),[2,{fid:a.fid||n,registrationStatus:2,refreshToken:a.refreshToken,authToken:Wo(a.authToken)}];case 3:return[4,zo("Create Installation",s)];case 4:throw u.sent()}}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(t){return new Promise((function(e){setTimeout(e,t)}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ts=/^[cdef][\w-]{21}$/;function es(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,xi([],Ci(e)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t);return ts.test(e)?e:""}catch(n){return""}}function ns(t){return t.appName+"!"+t.appId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rs=new Map;function is(t,e){var n=ns(t);os(n,e),function(t,e){var n=as();n&&n.postMessage({key:t,fid:e});us()}(n,e)}function os(t,e){var n,r,i=rs.get(t);if(i)try{for(var o=Oi(i),s=o.next();!s.done;s=o.next()){(0,s.value)(e)}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var ss=null;function as(){return!ss&&"BroadcastChannel"in self&&((ss=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){os(t.data.key,t.data.fid)}),ss}function us(){0===rs.size&&ss&&(ss.close(),ss=null)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cs,ls="firebase-installations-store",hs=null;function fs(){var t,e,n;return hs||(t=function(t){switch(t.oldVersion){case 0:t.createObjectStore(ls)}},e=Oo(indexedDB,"open",["firebase-installations-database",1]),(n=e.request)&&(n.onupgradeneeded=function(e){t&&t(new jo(n.result,e.oldVersion,n.transaction))}),hs=e.then((function(t){return new qo(t)}))),hs}function ds(t,e){return Ni(this,void 0,void 0,(function(){var n,r,i,o,s;return Di(this,(function(a){switch(a.label){case 0:return n=ns(t),[4,fs()];case 1:return r=a.sent(),i=r.transaction(ls,"readwrite"),[4,(o=i.objectStore(ls)).get(n)];case 2:return s=a.sent(),[4,o.put(e,n)];case 3:return a.sent(),[4,i.complete];case 4:return a.sent(),s&&s.fid===e.fid||is(t,e.fid),[2,e]}}))}))}function ps(t){return Ni(this,void 0,void 0,(function(){var e,n,r;return Di(this,(function(i){switch(i.label){case 0:return e=ns(t),[4,fs()];case 1:return n=i.sent(),[4,(r=n.transaction(ls,"readwrite")).objectStore(ls).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function vs(t,e){return Ni(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Di(this,(function(u){switch(u.label){case 0:return n=ns(t),[4,fs()];case 1:return r=u.sent(),i=r.transaction(ls,"readwrite"),[4,(o=i.objectStore(ls)).get(n)];case 2:return s=u.sent(),void 0!==(a=e(s))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(a,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!a||s&&s.fid===a.fid||is(t,a.fid),[2,a]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(t){return Ni(this,void 0,void 0,(function(){var e,n,r;return Di(this,(function(i){switch(i.label){case 0:return[4,vs(t,(function(n){var r=function(t){return bs(t||{fid:es(),registrationStatus:0})}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Yo.create("app-offline"))};var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return Ni(this,void 0,void 0,(function(){var n,r;return Di(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,Jo(t,e)];case 1:return n=i.sent(),[2,ds(t,n)];case 2:return Ko(r=i.sent())&&409===r.customData.serverCode?[4,ps(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,ds(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:ys(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function ys(t){return Ni(this,void 0,void 0,(function(){var e,n,r,i;return Di(this,(function(o){switch(o.label){case 0:return[4,gs(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,Zo(100)];case 3:return o.sent(),[4,gs(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,ms(t)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,e]}}))}))}function gs(t){return vs(t,(function(t){if(!t)throw Yo.create("installation-not-found");return bs(t)}))}function bs(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}function ws(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return Ni(this,void 0,void 0,(function(){var t,i,o,s,a,u,c;return Di(this,(function(l){switch(l.label){case 0:return t=function(t,e){var n=e.fid;return Ho(t)+"/"+n+"/authTokens:generate"}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n,e),i=$o(n,e),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),s={installation:{sdkVersion:"w:0.4.26"}},a={method:"POST",headers:i,body:JSON.stringify(s)},[4,Xo((function(){return fetch(t,a)}))];case 1:return(u=l.sent()).ok?[4,u.json()]:[3,3];case 2:return c=l.sent(),[2,Wo(c)];case 3:return[4,zo("Generate Auth Token",u)];case 4:throw l.sent()}}))}))}function _s(t,e){return void 0===e&&(e=!1),Ni(this,void 0,void 0,(function(){var n,r,i;return Di(this,(function(o){switch(o.label){case 0:return[4,vs(t.appConfig,(function(r){if(!Ts(r))throw Yo.create("not-registered");var i=r.authToken;if(!e&&function(t){return 2===t.requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}(i))return r;if(1===i.requestStatus)return n=function(t,e){return Ni(this,void 0,void 0,(function(){var n,r;return Di(this,(function(i){switch(i.label){case 0:return[4,Is(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,Zo(100)];case 3:return i.sent(),[4,Is(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,_s(t,e)]:[2,r]}}))}))}(t,e),r;if(!navigator.onLine)throw Yo.create("app-offline");var o=function(t){var e={requestStatus:1,requestTime:Date.now()};return Ai(Ai({},t),{authToken:e})}(r);return n=function(t,e){return Ni(this,void 0,void 0,(function(){var n,r,i;return Di(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,ws(t,e)];case 1:return n=o.sent(),i=Ai(Ai({},e),{authToken:n}),[4,ds(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!Ko(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,ps(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=Ai(Ai({},e),{authToken:{requestStatus:0}}),[4,ds(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(t,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function Is(t){return vs(t,(function(t){if(!Ts(t))throw Yo.create("not-registered");var e,n=t.authToken;return 1===(e=n).requestStatus&&e.requestTime+1e4<Date.now()?Ai(Ai({},t),{authToken:{requestStatus:0}}):t}))}function Ts(t){return void 0!==t&&2===t.registrationStatus}function Es(t){return Ni(this,void 0,void 0,(function(){var e;return Di(this,(function(n){switch(n.label){case 0:return[4,ms(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(t,e){return Ni(this,void 0,void 0,(function(){var n,r,i,o;return Di(this,(function(s){switch(s.label){case 0:return n=function(t,e){var n=e.fid;return Ho(t)+"/"+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e),r=$o(t,e),i={method:"DELETE",headers:r},[4,Xo((function(){return fetch(n,i)}))];case 1:return(o=s.sent()).ok?[3,3]:[4,zo("Delete Installation",o)];case 2:throw s.sent();case 3:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ks(t,e){var n=t.appConfig;return function(t,e){as();var n=ns(t),r=rs.get(n);r||(r=new Set,rs.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=ns(t),r=rs.get(n);r&&(r.delete(e),0===r.size&&rs.delete(n),us())}(n,e)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(t){return Yo.create("missing-app-config-values",{valueName:t})}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(cs=Ao).INTERNAL.registerComponent(new Ji("installations",(function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw As("App Configuration");if(!t.name)throw As("App Name");try{for(var r=Oi(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw As(o)}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return function(t){return Ni(this,void 0,void 0,(function(){var e,n,r;return Di(this,(function(i){switch(i.label){case 0:return[4,ms(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):_s(t).catch(console.error),[2,n.fid]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),Ni(this,void 0,void 0,(function(){return Di(this,(function(n){switch(n.label){case 0:return[4,Es(t.appConfig)];case 1:return n.sent(),[4,_s(t,e)];case 2:return[2,n.sent().token]}}))}))}(n,t)},delete:function(){return function(t){return Ni(this,void 0,void 0,(function(){var e,n;return Di(this,(function(r){switch(r.label){case 0:return[4,vs(e=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw Yo.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw Yo.create("app-offline");case 3:return[4,Ss(e,n)];case 4:return r.sent(),[4,ps(e)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(t){return ks(n,t)}}}),"PUBLIC")),cs.registerVersion("@firebase/installations","0.4.26");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ns,Ds,Os,Cs,xs="https://www.googletagmanager.com/gtag/js";(Ds=Ns||(Ns={})).EVENT="event",Ds.SET="set",Ds.CONFIG="config",(Cs=Os||(Os={})).ADD_SHIPPING_INFO="add_shipping_info",Cs.ADD_PAYMENT_INFO="add_payment_info",Cs.ADD_TO_CART="add_to_cart",Cs.ADD_TO_WISHLIST="add_to_wishlist",Cs.BEGIN_CHECKOUT="begin_checkout",Cs.CHECKOUT_PROGRESS="checkout_progress",Cs.EXCEPTION="exception",Cs.GENERATE_LEAD="generate_lead",Cs.LOGIN="login",Cs.PAGE_VIEW="page_view",Cs.PURCHASE="purchase",Cs.REFUND="refund",Cs.REMOVE_FROM_CART="remove_from_cart",Cs.SCREEN_VIEW="screen_view",Cs.SEARCH="search",Cs.SELECT_CONTENT="select_content",Cs.SELECT_ITEM="select_item",Cs.SELECT_PROMOTION="select_promotion",Cs.SET_CHECKOUT_OPTION="set_checkout_option",Cs.SHARE="share",Cs.SIGN_UP="sign_up",Cs.TIMING_COMPLETE="timing_complete",Cs.VIEW_CART="view_cart",Cs.VIEW_ITEM="view_item",Cs.VIEW_ITEM_LIST="view_item_list",Cs.VIEW_PROMOTION="view_promotion",Cs.VIEW_SEARCH_RESULTS="view_search_results";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Rs,Ps=new ho("@firebase/analytics");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(t,e,n,r,i,o){return Ni(this,void 0,void 0,(function(){var s,a,u,c;return Di(this,(function(l){switch(l.label){case 0:s=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),s?[4,e[s]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return a=l.sent(),(u=a.find((function(t){return t.measurementId===i})))?[4,e[u.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return c=l.sent(),Ps.error(c),[3,8];case 8:return t(Ns.CONFIG,i,o),[2]}}))}))}function Ls(t,e,n,r,i){return Ni(this,void 0,void 0,(function(){var o,s,a,u,c,l,h,f;return Di(this,(function(d){switch(d.label){case 0:return d.trys.push([0,4,,5]),o=[],i&&i.send_to?(s=i.send_to,Array.isArray(s)||(s=[s]),[4,Promise.all(n)]):[3,2];case 1:for(a=d.sent(),u=function(t){var n=a.find((function(e){return e.measurementId===t})),r=n&&e[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,l=s;c<l.length&&(h=l[c],"break"!==u(h));c++);d.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return d.sent(),t(Ns.EVENT,r,i||{}),[3,5];case 4:return f=d.sent(),Ps.error(f),[3,5];case 5:return[2]}}))}))}function Fs(t,e,n,r,i){var o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(t,e,n,r){return function(i,o,s){return Ni(this,void 0,void 0,(function(){var a;return Di(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==Ns.EVENT?[3,2]:[4,Ls(t,e,n,o,s)];case 1:return u.sent(),[3,5];case 2:return i!==Ns.CONFIG?[3,4]:[4,Ms(t,e,n,r,o,s)];case 3:return u.sent(),[3,5];case 4:t(Ns.SET,o),u.label=5;case 5:return[3,7];case 6:return a=u.sent(),Ps.error(a),[3,7];case 7:return[2]}}))}))}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}var Vs=((Rs={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Rs["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Rs["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Rs["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Rs["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Rs["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Rs["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Rs["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Rs["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',Rs),Us=new Gi("analytics","Analytics",Vs),js=new(function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}());function qs(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function Bs(t){var e;return Ni(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Di(this,(function(c){switch(c.label){case 0:return n=t.appId,r=t.apiKey,i={method:"GET",headers:qs(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(s=c.sent()).status||304===s.status)return[3,6];a="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,s.json()];case 3:return u=c.sent(),(null===(e=u.error)||void 0===e?void 0:e.message)&&(a=u.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw Us.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a});case 6:return[2,s.json()]}}))}))}function Gs(t,e,n,r){var i=e.throttleEndTimeMillis,o=e.backoffCount;return void 0===r&&(r=js),Ni(this,void 0,void 0,(function(){var e,s,a,u,c,l,h;return Di(this,(function(f){switch(f.label){case 0:e=t.appId,s=t.measurementId,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,Ys(n,i)];case 2:return f.sent(),[3,4];case 3:if(a=f.sent(),s)return Ps.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+a.message+"]"),[2,{appId:e,measurementId:s}];throw a;case 4:return f.trys.push([4,6,,7]),[4,Bs(t)];case 5:return u=f.sent(),r.deleteThrottleMetadata(e),[2,u];case 6:if(!function(t){if(!(t instanceof Bi&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c=f.sent())){if(r.deleteThrottleMetadata(e),s)return Ps.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:e,measurementId:s}];throw c}return l=503===Number(c.customData.httpStatus)?$i(o,r.intervalMillis,30):$i(o,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1},r.setThrottleMetadata(e,h),Ps.debug("Calling attemptFetch again in "+l+" millis"),[2,Gs(t,h,n,r)];case 7:return[2]}}))}))}function Ys(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(Us.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var Ks=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(t,e,n,r,i,o){return Ni(this,void 0,void 0,(function(){var s,a,u,c,l,h,f;return Di(this,(function(d){switch(d.label){case 0:return(s=function(t,e,n){return void 0===e&&(e=js),Ni(this,void 0,void 0,(function(){var r,i,o,s,a,u,c=this;return Di(this,(function(l){if(r=t.options,i=r.appId,o=r.apiKey,s=r.measurementId,!i)throw Us.create("no-app-id");if(!o){if(s)return[2,{measurementId:s,appId:i}];throw Us.create("no-api-key")}return a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new Ks,setTimeout((function(){return Ni(c,void 0,void 0,(function(){return Di(this,(function(t){return u.abort(),[2]}))}))}),void 0!==n?n:6e4),[2,Gs({appId:i,apiKey:o,measurementId:s},a,u,e)]}))}))}(t)).then((function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&Ps.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(t){return Ps.error(t)})),e.push(s),a=function(){return Ni(this,void 0,void 0,(function(){var t;return Di(this,(function(e){switch(e.label){case 0:return Ui()?[3,1]:(Ps.warn(Us.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,ji()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),Ps.warn(Us.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(t){return t?r.getId():void 0})),[4,Promise.all([s,a])];case 1:return u=d.sent(),c=u[0],l=u[1],function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(xs))return r}return null}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */()||function(t,e){var n=document.createElement("script");n.src=xs+"?l="+t+"&id="+e,n.async=!0,document.head.appendChild(n)}(o,c.measurementId),i("js",new Date),(f={}).origin="firebase",f.update=!0,h=f,null!=l&&(h.firebase_id=l),i(Ns.CONFIG,c.measurementId,h),[2,c.measurementId]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ws,zs,Qs={},$s=[],Xs={},Js="dataLayer",Zs="gtag",ta=!1;function ea(t){if(ta)throw Us.create("already-initialized");t.dataLayerName&&(Js=t.dataLayerName),t.gtagName&&(Zs=t.gtagName)}function na(t,e){!function(){var t=[];if(Vi()&&t.push("This is a browser extension environment."),qi()||t.push("Cookies are not available."),t.length>0){var e=t.map((function(t,e){return"("+(e+1)+") "+t})).join(" "),n=Us.create("invalid-analytics-context",{errorInfo:e});Ps.warn(n.message)}}();var n,r,i=t.options.appId;if(!i)throw Us.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Us.create("no-api-key");Ps.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Qs[i])throw Us.create("already-exists",{id:i});if(!ta){n=Js,r=[],Array.isArray(window[n])?r=window[n]:window[n]=r;var o=Fs(Qs,$s,Xs,Js,Zs),s=o.wrappedGtag,a=o.gtagCore;zs=s,Ws=a,ta=!0}return Qs[i]=Hs(t,$s,Xs,e,Ws,Js),{app:t,logEvent:function(t,e,n){(
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t,e,n,r,i){return Ni(this,void 0,void 0,(function(){var o,s;return Di(this,(function(a){switch(a.label){case 0:return i&&i.global?(t(Ns.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=a.sent(),s=Ai(Ai({},r),{send_to:o}),t(Ns.EVENT,n,s),a.label=3;case 3:return[2]}}))}))})(zs,Qs[i],t,e,n).catch((function(t){return Ps.error(t)}))},setCurrentScreen:function(t,e){(function(t,e,n,r){return Ni(this,void 0,void 0,(function(){var i;return Di(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(Ns.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(Ns.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(zs,Qs[i],t,e).catch((function(t){return Ps.error(t)}))},setUserId:function(t,e){(function(t,e,n,r){return Ni(this,void 0,void 0,(function(){var i;return Di(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(Ns.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(Ns.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(zs,Qs[i],t,e).catch((function(t){return Ps.error(t)}))},setUserProperties:function(t,e){(function(t,e,n,r){return Ni(this,void 0,void 0,(function(){var i,o,s,a,u;return Di(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,s=Object.keys(n);o<s.length;o++)a=s[o],i["user_properties."+a]=n[a];return t(Ns.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:u=c.sent(),t(Ns.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(zs,Qs[i],t,e).catch((function(t){return Ps.error(t)}))},setAnalyticsCollectionEnabled:function(t){(function(t,e){return Ni(this,void 0,void 0,(function(){var n;return Di(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}}))}))})(Qs[i],t).catch((function(t){return Ps.error(t)}))},INTERNAL:{delete:function(){return delete Qs[i],Promise.resolve()}}}}function ra(){return Ni(this,void 0,void 0,(function(){return Di(this,(function(t){switch(t.label){case 0:if(Vi())return[2,!1];if(!qi())return[2,!1];if(!Ui())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,ji()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}}))}))}!function(t){t.INTERNAL.registerComponent(new Ji("analytics",(function(t){return na(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:ea,EventName:Os,isSupported:ra})),t.INTERNAL.registerComponent(new Ji("analytics-internal",(function(t){try{return{logEvent:t.getProvider("analytics").getImmediate().logEvent}}catch(u_){throw Us.create("interop-component-reg-failed",{reason:u_})}}),"PRIVATE")),t.registerVersion("@firebase/analytics","0.6.10")}(Ao),function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var s=n.setTimeout;r.prototype.c=function(t){s(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new r;return e.prototype.s=function(t){var e=this.f();t.Qa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Qa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Qa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=i(t),s=r.next();!s.done;s=r.next())o(s.value).Qa(e,n)}))},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e((function(t,e){function i(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,o(r.value).Qa(i(s.length-1),e),r=n.next()}while(!r.done)}))},e}));var o=o||{},s=this||self,a=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&a.test(t)?t:""}function l(){}function h(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function f(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){return"function"==h(t)}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var v="closure_uid_"+(1e9*Math.random()>>>0),m=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function g(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:g).apply(null,arguments)}function w(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function _(t,e){function n(){}n.prototype=e.prototype,t.ab=e.prototype,t.prototype=new n,t.prototype.constructor=t}function I(t){return t}function T(t,e,n){this.code=k+t,this.message=e||A[t]||"",this.a=n||null}function E(t){var e=t&&t.code;return e?new T(e.substring(k.length),t.message,t.serverResponse):null}_(T,Error),T.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},T.prototype.toJSON=function(){return this.w()};var S,k="auth/",A={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},N={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function D(t){for(var e in N)if(N[e].id===t)return{firebaseEndpoint:(t=N[e]).Ta,secureTokenEndpoint:t.Za,identityPlatformEndpoint:t.Wa};return null}function O(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function C(t){if(Error.captureStackTrace)Error.captureStackTrace(this,C);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function x(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");C.call(this,n+t[r])}function R(t,e){throw new x("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function P(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function M(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function L(){this.b=this.a=null}S=D("__EID__")?"__EID__":void 0,_(C,Error),C.prototype.name="CustomError",_(x,C),x.prototype.name="AssertionError",P.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var F=new P((function(){return new U}),(function(t){t.reset()}));function V(){var t=ye,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function U(){this.next=this.b=this.a=null}L.prototype.add=function(t,e){var n=F.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},U.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},U.prototype.reset=function(){this.next=this.b=this.a=null};var j=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},q=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var B=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},G=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},Y=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function K(t,e){return 0<=j(t,e)}function H(t,e){var n;return(n=0<=(e=j(t,e)))&&Array.prototype.splice.call(t,e,1),n}function W(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function z(t){return Array.prototype.concat.apply([],arguments)}function Q(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var $,X=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},J=/&/g,Z=/</g,tt=/>/g,et=/"/g,nt=/'/g,rt=/\x00/g,it=/[\x00&<>"']/;function ot(t,e){return-1!=t.indexOf(e)}function st(t,e){return t<e?-1:t>e?1:0}t:{var at=s.navigator;if(at){var ut=at.userAgent;if(ut){$=ut;break t}}$=""}function ct(t){return ot($,t)}function lt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ht(t){for(var e in t)return!1;return!0}function ft(t){var e,n={};for(e in t)n[e]=t[e];return n}var dt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<dt.length;o++)n=dt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function vt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break t}}catch(a){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(p(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(a){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;R("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function mt(t,e){this.a=t===wt&&e||"",this.b=bt}function yt(t){return t instanceof mt&&t.constructor===mt&&t.b===bt?t.a:(R("expected object of type Const, got '"+t+"'"),"type_error:Const")}mt.prototype.sa=!0,mt.prototype.ra=function(){return this.a},mt.prototype.toString=function(){return"Const{"+this.a+"}"};var gt,bt={},wt={};function _t(){if(void 0===gt){var t=null,e=s.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:I,createScript:I,createScriptURL:I})}catch(n){s.console&&s.console.error(n.message)}gt=t}else gt=t}return gt}function It(t,e){this.a=e===At?t:""}function Tt(t){return t instanceof It&&t.constructor===It?t.a:(R("expected object of type TrustedResourceUrl, got '"+t+"' of type "+h(t)),"type_error:TrustedResourceUrl")}function Et(t,e){var n=yt(t);if(!kt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=_t();return new It(t=e?e.createScriptURL(t):t,At)}(t=n.replace(St,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof mt?yt(t):encodeURIComponent(String(t))})))}It.prototype.sa=!0,It.prototype.ra=function(){return this.a.toString()},It.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var St=/%{(\w+)}/g,kt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,At={};function Nt(t,e){this.a=e===Mt?t:""}function Dt(t){return t instanceof Nt&&t.constructor===Nt?t.a:(R("expected object of type SafeUrl, got '"+t+"' of type "+h(t)),"type_error:SafeUrl")}Nt.prototype.sa=!0,Nt.prototype.ra=function(){return this.a.toString()},Nt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ot=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Ct=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,xt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Rt(t){if(t instanceof Nt)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),xt.test(t))t=new Nt(t,Mt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Ct);t=e&&Ot.test(e[1])?new Nt(t,Mt):null}return t}function Pt(t){return t instanceof Nt?t:(t="object"==typeof t&&t.sa?t.ra():String(t),xt.test(t)||(t="about:invalid#zClosurez"),new Nt(t,Mt))}var Mt={},Lt=new Nt("about:invalid#zClosurez",Mt);function Ft(t,e,n){this.a=n===Vt?t:""}Ft.prototype.sa=!0,Ft.prototype.ra=function(){return this.a.toString()},Ft.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Vt={};function Ut(t,e,n,r){return t=t instanceof Nt?t:Pt(t),e=e||s,n=n instanceof mt?yt(n):n||"",e.open(Dt(t),n,r,void 0)}function jt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function qt(t){return it.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(J,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(Z,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(tt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(et,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(nt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(rt,"&#0;"))),t}function Bt(t){return Bt[" "](t),t}Bt[" "]=l;var Gt,Yt,Kt=ct("Opera"),Ht=ct("Trident")||ct("MSIE"),Wt=ct("Edge"),zt=Wt||Ht,Qt=ct("Gecko")&&!(ot($.toLowerCase(),"webkit")&&!ct("Edge"))&&!(ct("Trident")||ct("MSIE"))&&!ct("Edge"),$t=ot($.toLowerCase(),"webkit")&&!ct("Edge");function Xt(){var t=s.document;return t?t.documentMode:void 0}t:{var Jt="",Zt=(Yt=$,Qt?/rv:([^\);]+)(\)|;)/.exec(Yt):Wt?/Edge\/([\d\.]+)/.exec(Yt):Ht?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Yt):$t?/WebKit\/(\S+)/.exec(Yt):Kt?/(?:Version)[ \/]?(\S+)/.exec(Yt):void 0);if(Zt&&(Jt=Zt?Zt[1]:""),Ht){var te=Xt();if(null!=te&&te>parseFloat(Jt)){Gt=String(te);break t}}Gt=Jt}var ee,ne={};function re(t){return function(t,e){var n=ne;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=X(String(Gt)).split("."),r=X(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=st(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||st(0==s[2].length,0==a[2].length)||st(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}if(s.document&&Ht){var ie=Xt();ee=ie||(parseInt(Gt,10)||void 0)}else ee=void 0;var oe=ee;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Yt){}var se=!Ht||9<=Number(oe);function ae(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ue(t,e){lt(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:he.hasOwnProperty(n)?t.setAttribute(he[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var ce,le,he={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function fe(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||p(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(p(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(d(o)){s="function"==typeof o.item;break t}}s=!1}q(s?Q(o):o,r)}}}function de(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function pe(t){s.setTimeout((function(){throw t}),0)}function ve(t,e){le||function(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);le=function(){t.then(ge)}}else le=function(){var t=ge;!d(s.setImmediate)||s.Window&&s.Window.prototype&&!ct("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(ce||(ce=function(){var t=s.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ct("Presto")&&(t=function(){var t=de(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=b((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ct("Trident")&&!ct("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Gb;n.Gb=null,t()}},function(t){r.next={Gb:t},r=r.next,e.port2.postMessage(0)}}return function(t){s.setTimeout(t,0)}}()),ce(t)):s.setImmediate(t)}}(),me||(le(),me=!0),ye.add(t,e)}var me=!1,ye=new L;function ge(){for(var t;t=V();){try{t.a.call(t.b)}catch(e){pe(e)}M(F,t)}me=!1}function be(t,e){if(this.a=we,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=l)try{var n=this;t.call(e,(function(t){Re(n,_e,t)}),(function(t){if(!(t instanceof je))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(u_){}Re(n,Ie,t)}))}catch(r){Re(this,Ie,r)}}var we=0,_e=2,Ie=3;function Te(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Te.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ee=new P((function(){return new Te}),(function(t){t.reset()}));function Se(t,e,n){var r=Ee.get();return r.g=t,r.b=e,r.f=n,r}function ke(t){if(t instanceof be)return t;var e=new be(l);return Re(e,_e,t),e}function Ae(t){return new be((function(e,n){n(t)}))}function Ne(t,e,n){Pe(t,e,n,null)||ve(w(e,t))}function De(t){return new be((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Ne(t[o],w(i,o,!0),w(i,o,!1));else e(r)}))}function Oe(t,e){if(t.a==we)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,s=n.b;s&&(s.c||(r++,s.a==t&&(i=s),!(i&&1<r)));s=s.next)i||(o=s);i&&(n.a==we&&1==r?Oe(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Le(n),Fe(n,i,Ie,e)))}t.c=null}else Re(t,Ie,e)}function Ce(t,e){t.b||t.a!=_e&&t.a!=Ie||Me(t),t.f?t.f.next=e:t.b=e,t.f=e}function xe(t,e,n,r){var i=Se(null,null,null);return i.a=new be((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(s){o(s)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof je?o(e):t(i)}catch(s){o(s)}}:o})),i.a.c=t,Ce(t,i),i.a}function Re(t,e,n){t.a==we&&(t===n&&(e=Ie,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Pe(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Me(t),e!=Ie||n instanceof je||function(t,e){t.g=!0,ve((function(){t.g&&Ue.call(null,e)}))}(t,n)))}function Pe(t,e,n,r){if(t instanceof be)return Ce(t,Se(e||l,n||null,r)),!0;if(O(t))return t.then(e,n,r),!0;if(p(t))try{var i=t.then;if(d(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}function s(t){a||(a=!0,n.call(i,t))}var a=!1;try{e.call(t,s,o)}catch(u){o(u)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Me(t){t.h||(t.h=!0,ve(t.gc,t))}function Le(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Fe(t,e,n,r){if(n==Ie&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ve(e,n,r);else try{e.c?e.g.call(e.f):Ve(e,n,r)}catch(u_){Ue.call(null,u_)}M(Ee,e)}function Ve(t,e,n){e==_e?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}be.prototype.then=function(t,e,n){return xe(this,d(t)?t:null,d(e)?e:null,n)},be.prototype.$goog_Thenable=!0,(t=be.prototype).oa=function(t,e){return(t=Se(t,t,e)).c=!0,Ce(this,t),this},t.o=function(t,e){return xe(this,null,t,e)},t.cancel=function(t){if(this.a==we){var e=new je(t);ve((function(){Oe(this,e)}),this)}},t.$c=function(t){this.a=we,Re(this,_e,t)},t.ad=function(t){this.a=we,Re(this,Ie,t)},t.gc=function(){for(var t;t=Le(this);)Fe(this,t,this.a,this.i);this.h=!1};var Ue=pe;function je(t){C.call(this,t)}function qe(){this.xa=this.xa,this.pa=this.pa}_(je,C),je.prototype.name="cancel";var Be={};function Ge(t){if(!t.xa&&(t.xa=!0,t.Da(),0)){var e=function(t){return Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++m)}(t);delete Be[e]}}qe.prototype.xa=!1,qe.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Ye=Object.freeze||function(t){return t},Ke=!Ht||9<=Number(oe),He=Ht&&!re("9"),We=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",l,e),s.removeEventListener("test",l,e)}catch(n){}return t}();function ze(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Qe(t,e){if(ze.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Qt){t:{try{Bt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:$e[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}ze.prototype.preventDefault=function(){this.defaultPrevented=!0},_(Qe,ze);var $e=Ye({2:"touch",3:"pen",4:"mouse"});Qe.prototype.preventDefault=function(){Qe.ab.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,He)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Qe.prototype.g=function(){return this.a};var Xe="closure_listenable_"+(1e6*Math.random()|0),Je=0;function Ze(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Va=i,this.key=++Je,this.va=this.Pa=!1}function tn(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Va=null}function en(t){this.src=t,this.a={},this.b=0}function nn(t,e){var n=e.type;n in t.a&&H(t.a[n],e)&&(tn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function rn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Va==r)return i}return-1}en.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=rn(t,e,r,i);return-1<s?(e=t[s],n||(e.Pa=!1)):((e=new Ze(e,this.src,o,!!r,i)).Pa=n,t.push(e)),e};var on="closure_lm_"+(1e6*Math.random()|0),sn={};function an(t,e,n,r,i){if(r&&r.once)cn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)an(t,e[o],n,r,i);else n=gn(n),t&&t[Xe]?wn(t,e,n,p(r)?!!r.capture:!!r,i):un(t,e,n,!1,r,i)}function un(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=p(i)?!!i.capture:!!i,a=mn(t);if(a||(t[on]=a=new en(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=vn,e=Ke?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)We||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(fn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function cn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,r,i);else n=gn(n),t&&t[Xe]?_n(t,e,n,p(r)?!!r.capture:!!r,i):un(t,e,n,!0,r,i)}function ln(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)ln(t,e[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=gn(n),t&&t[Xe]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(n=rn(o=t.a[e],n,r,i))&&(tn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=mn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=rn(e,n,r,i)),(n=-1<t?e[t]:null)&&hn(n))}function hn(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[Xe])nn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(fn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=mn(e))?(nn(n,t),0==n.b&&(n.src=null,e[on]=null)):tn(t)}}}function fn(t){return t in sn?sn[t]:sn[t]="on"+t}function dn(t,e,n,r){var i=!0;if((t=mn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=pn(o,r),i=i&&!1!==o)}return i}function pn(t,e){var n=t.listener,r=t.Va||t.src;return t.Pa&&hn(t),n.call(r,e)}function vn(t,e){if(t.va)return!0;if(!Ke){if(!e)t:{e=["window","event"];for(var n=s,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Qe(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(a){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=dn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=dn(r[i],t,!1,e),n=n&&o}return n}return pn(t,new Qe(e,this))}function mn(t){return(t=t[on])instanceof en?t:null}var yn="__closure_events_fn_"+(1e9*Math.random()>>>0);function gn(t){return d(t)?t:(t[yn]||(t[yn]=function(e){return t.handleEvent(e)}),t[yn])}function bn(){qe.call(this),this.v=new en(this),this.ac=this,this.gb=null}function wn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function _n(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function In(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.va&&s.capture==n){var a=s.listener,u=s.Va||s.src;s.Pa&&nn(t.v,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function Tn(t,e,n){if(d(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function En(t){var e=null;return new be((function(n,r){-1==(e=Tn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw s.clearTimeout(e),t}))}function Sn(t){if(t.W&&"function"==typeof t.W)return t.W();if("string"==typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function kn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.W||"function"!=typeof t.W){if(f(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function An(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof An)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Nn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Dn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Dn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Dn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}_(bn,qe),bn.prototype[Xe]=!0,bn.prototype.addEventListener=function(t,e,n,r){an(this,t,e,n,r)},bn.prototype.removeEventListener=function(t,e,n,r){ln(this,t,e,n,r)},bn.prototype.dispatchEvent=function(t){var e,n=this.gb;if(n)for(e=[];n;n=n.gb)e.push(n);n=this.ac;var r=t.type||t;if("string"==typeof t)t=new ze(t,n);else if(t instanceof ze)t.target=t.target||n;else{var i=t;pt(t=new ze(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=In(s,r,!0,t)&&i}if(i=In(s=t.b=n,r,!0,t)&&i,i=In(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=In(s=t.b=e[o],r,!1,t)&&i;return i},bn.prototype.Da=function(){if(bn.ab.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)tn(n[r]);delete e.a[t],e.b--}}this.gb=null},(t=An.prototype).W=function(){Nn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return Nn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Dn(this.b,t)?this.b[t]:e},t.set=function(t,e){Dn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var On=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Cn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Cn?(this.i=void 0!==e?e:t.i,xn(this,t.c),this.l=t.l,this.a=t.a,Rn(this,t.g),this.f=t.f,Pn(this,Zn(t.b)),this.h=t.h):t&&(n=String(t).match(On))?(this.i=!!e,xn(this,n[1]||"",!0),this.l=Un(n[2]||""),this.a=Un(n[3]||"",!0),Rn(this,n[4]),this.f=Un(n[5]||"",!0),Pn(this,n[6]||"",!0),this.h=Un(n[7]||"")):(this.i=!!e,this.b=new Wn(null,this.i))}function xn(t,e,n){t.c=n?Un(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Rn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Pn(t,e,n){e instanceof Wn?(t.b=e,function(t,e){e&&!t.f&&(zn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&($n(this,e),Jn(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=jn(e,Kn)),t.b=new Wn(e,t.i))}function Mn(t,e,n){t.b.set(e,n)}function Ln(t,e){return t.b.get(e)}function Fn(t){return t instanceof Cn?new Cn(t):new Cn(t,void 0)}function Vn(t,e,n,r){var i=new Cn(null,void 0);return t&&xn(i,t),e&&(i.a=e),n&&Rn(i,n),r&&(i.f=r),i}function Un(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function jn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,qn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function qn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Cn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(jn(e,Bn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(jn(e,Bn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(jn(n,"/"==n.charAt(0)?Yn:Gn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",jn(n,Hn)),t.join("")},Cn.prototype.resolve=function(t){var e=new Cn(this),n=!!t.c;n?xn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Rn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ot(i,"./")||ot(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Pn(e,Zn(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Bn=/[#\/\?@]/g,Gn=/[#\?:]/g,Yn=/[#\?]/g,Kn=/[#\?@]/g,Hn=/#/g;function Wn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function zn(t){t.a||(t.a=new An,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Qn(t){var e=kn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Wn(null,void 0);t=Sn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Jn(n,i,o):n.add(i,o)}return n}function $n(t,e){zn(t),e=tr(t,e),Dn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Dn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Nn(t)))}function Xn(t,e){return zn(t),e=tr(t,e),Dn(t.a.b,e)}function Jn(t,e,n){$n(t,e),0<n.length&&(t.c=null,t.a.set(tr(t,e),Q(n)),t.b+=n.length)}function Zn(t){var e=new Wn;return e.c=t.c,t.a&&(e.a=new An(t.a),e.b=t.b),e}function tr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function er(t){var e=[];return rr(new nr,t,e),e.join("")}function nr(){}function rr(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),rr(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&("function"!=typeof(o=e[r])&&(n.push(i),sr(r,n),n.push(":"),rr(t,o,n),i=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":sr(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Wn.prototype).add=function(t,e){zn(this),this.c=null,t=tr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){zn(this),this.a.forEach((function(n,r){q(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){zn(this);for(var t=this.a.W(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.W=function(t){zn(this);var e=[];if("string"==typeof t)Xn(this,t)&&(e=z(e,this.a.get(tr(this,t))));else{t=this.a.W();for(var n=0;n<t.length;n++)e=z(e,t[n])}return e},t.set=function(t,e){return zn(this),this.c=null,Xn(this,t=tr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var ir={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},or=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function sr(t,e){e.push('"',t.replace(or,(function(t){var e=ir[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ir[t]=e),e})),'"')}function ar(){var t=Ar();return Ht&&!!oe&&11==oe||/Edge\/\d+/.test(t)}function ur(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function cr(t,e){e=e||s.window;var n="about:blank";t&&(n=Dt(Rt(t)||Lt)),e.location.href=n}function lr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<lr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function hr(t){return!!((t=(t||Ar()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function fr(t){t=t||s.window;try{t.close()}catch(e){}}function dr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Ar().toLowerCase(),r&&(e.target=r,ot(n,"crios/")&&(e.target="_blank")),Er(Ar())==Ir&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Nt?n:Rt(void 0!==n.href?n.href:String(n))||Lt,n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((ct("iPhone")&&!ct("iPod")&&!ct("iPad")||ct("iPad")||ct("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(vt(s=de(document,"A"),"HTMLAnchorElement"),e=e instanceof Nt?e:Pt(e),s.href=Dt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=Ut("",r,n,s),t=Dt(e),s&&(zt&&ot(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+qt(t)+'">',t=new Ft(t=(r=_t())?r.createHTML(t):t,null,Vt),r=s.document)&&(r.write(function(t){return t instanceof Ft&&t.constructor===Ft?t.a:(R("expected object of type SafeHtml, got '"+t+"' of type "+h(t)),"type_error:SafeHtml")}(t)),r.close())):(s=Ut(e,r,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var pr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vr=/^[^@]+@[^@]+$/;function mr(){var t=null;return new be((function(e){"complete"==s.document.readyState?e():(t=function(){e()},cn(window,"load",t))})).o((function(e){throw ln(window,"load",t),e}))}function yr(t){return t=t||Ar(),!("file:"!==xr()&&"ionic:"!==xr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function gr(){var t=s.window;try{return!(!t||t==t.top)}catch(e){return!1}}function br(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function wr(){return Ao.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Ao.INTERNAL.hasOwnProperty("node")?"Node":br()?"Worker":"Browser"}function _r(){var t=wr();return"ReactNative"===t||"Node"===t}var Ir="Firefox",Tr="Chrome";function Er(t){var e=t.toLowerCase();return ot(e,"opera/")||ot(e,"opr/")||ot(e,"opios/")?"Opera":ot(e,"iemobile")?"IEMobile":ot(e,"msie")||ot(e,"trident/")?"IE":ot(e,"edge/")?"Edge":ot(e,"firefox/")?Ir:ot(e,"silk/")?"Silk":ot(e,"blackberry")?"Blackberry":ot(e,"webos")?"Webos":!ot(e,"safari/")||ot(e,"chrome/")||ot(e,"crios/")||ot(e,"android")?!ot(e,"chrome/")&&!ot(e,"crios/")||ot(e,"edge/")?ot(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Tr:"Safari"}var Sr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function kr(t,e){e=e||[];var n,r=[],i={};for(n in Sr)i[Sr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=wr())?r=Er(i=Ar()):"Worker"===r&&(r=Er(i=Ar())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Ar(){return s.navigator&&s.navigator.userAgent||""}function Nr(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Dr(){try{var t=s.localStorage,e=Fr();if(t)return t.setItem(e,"1"),t.removeItem(e),!ar()||!!s.indexedDB}catch(n){return br()&&!!s.indexedDB}return!1}function Or(){return(Cr()||"chrome-extension:"===xr()||yr())&&!_r()&&Dr()&&!br()}function Cr(){return"http:"===xr()||"https:"===xr()}function xr(){return s.location&&s.location.protocol||null}function Rr(t){return!hr(t=t||Ar())&&Er(t)!=Ir}function Pr(t){return void 0===t?null:er(t)}function Mr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Lr(t){if(null!==t)return JSON.parse(t)}function Fr(t){return t||Math.floor(1e9*Math.random()).toString()}function Vr(t){return"Safari"!=Er(t=t||Ar())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Ur(){var t=s.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function jr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Ar(),e=wr(),this.b=hr(t)||"ReactNative"===e}function qr(){var t=s.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Br(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Gr(){return!(!Nr("fireauth.oauthhelper",s)&&!Nr("fireauth.iframe",s))}jr.prototype.get=function(){var t=s.navigator;return!t||"boolean"!=typeof t.onLine||!Cr()&&"chrome-extension:"!==xr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Yr,Kr={};function Hr(t){Kr[t]||(Kr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Wr={};Object.defineProperty(Wr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Wr,"abcd",{configurable:!0,enumerable:!0,value:2}),Yr=2==Wr.abcd}catch(Yt){Yr=!1}function zr(t,e,n){Yr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Qr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&zr(t,n,e[n])}function $r(t){var e={};return Qr(e,t),e}function Xr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)zr(e,n,Xr(t[n]));return e}function Jr(t){var e=t&&(t[ri]?"phone":null);if(!(e&&t&&t[ni]))throw new T("internal-error","Internal assert: invalid MultiFactorInfo object");zr(this,"uid",t[ni]),zr(this,"displayName",t[ti]||null);var n=null;t[ei]&&(n=new Date(t[ei]).toUTCString()),zr(this,"enrollmentTime",n),zr(this,"factorId",e)}function Zr(t){try{var e=new ii(t)}catch(n){e=null}return e}Jr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ti="displayName",ei="enrolledAt",ni="mfaEnrollmentId",ri="phoneInfo";function ii(t){Jr.call(this,t),zr(this,"phoneNumber",t[ri])}function oi(t){var e={},n=t[ci],r=t[hi],i=t[fi];if(t=Zr(t[li]),!i||i!=ai&&i!=ui&&!n||i==ui&&!r||i==si&&!t)throw Error("Invalid checkActionCode response!");i==ui?(e[pi]=n||null,e[mi]=n||null,e[di]=r):(e[pi]=r||null,e[mi]=r||null,e[di]=n||null),e[vi]=t||null,zr(this,gi,i),zr(this,yi,Xr(e))}_(ii,Jr),ii.prototype.w=function(){var t=ii.ab.w.call(this);return t.phoneNumber=this.phoneNumber,t};var si="REVERT_SECOND_FACTOR_ADDITION",ai="EMAIL_SIGNIN",ui="VERIFY_AND_CHANGE_EMAIL",ci="email",li="mfaInfo",hi="newEmail",fi="requestType",di="email",pi="fromEmail",vi="multiFactorInfo",mi="previousEmail",yi="data",gi="operation";function bi(t){var e=Ln(t=Fn(t),wi)||null,n=Ln(t,_i)||null,r=Ln(t,Ei)||null;if(r=r&&ki[r]||null,!e||!n||!r)throw new T("argument-error",wi+", "+_i+"and "+Ei+" are required in a valid action code URL.");Qr(this,{apiKey:e,operation:r,code:n,continueUrl:Ln(t,Ii)||null,languageCode:Ln(t,Ti)||null,tenantId:Ln(t,Si)||null})}var wi="apiKey",_i="oobCode",Ii="continueUrl",Ti="languageCode",Ei="mode",Si="tenantId",ki={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:si,signIn:ai,verifyAndChangeEmail:ui,verifyEmail:"VERIFY_EMAIL"};function Ai(t){try{return new bi(t)}catch(e){return null}}function Ni(t){var e=t[Ri];if(void 0===e)throw new T("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new T("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Di];if(n&&"object"==typeof n){e=n[Li];var r=n[Pi];if(n=n[Mi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new T("argument-error",Pi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new T("argument-error",Mi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new T("argument-error",Li+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new T("missing-android-pkg-name")}}else if(void 0!==n)throw new T("argument-error",Di+" property must be a non null object when specified.");if(this.f=null,(e=t[xi])&&"object"==typeof e){if("string"==typeof(e=e[Fi])&&e.length)this.f=e;else if(void 0!==e)throw new T("argument-error",Fi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new T("argument-error",xi+" property must be a non null object when specified.");if(void 0!==(e=t[Ci])&&"boolean"!=typeof e)throw new T("argument-error",Ci+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Oi])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new T("argument-error",Oi+" property must be a non empty string when specified.");this.i=t||null}var Di="android",Oi="dynamicLinkDomain",Ci="handleCodeInApp",xi="iOS",Ri="url",Pi="installApp",Mi="minimumVersion",Li="packageName",Fi="bundleId";function Vi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Ui=null;function ji(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Ui[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Ui){Ui={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Ui[o]&&(Ui[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e.push(t)})),e}function qi(t){var e=Gi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Bi(t){try{return new qi(t)}catch(e){return null}}function Gi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=ji(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var s=r[e++],a=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(a>>10)),t[n++]=String.fromCharCode(56320+(1023&a))}else o=r[e++],s=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}return JSON.parse(t.join(""))}catch(u){}return null}qi.prototype.T=function(){return this.f},qi.prototype.l=function(){return this.c},qi.prototype.toString=function(){return this.h};var Yi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ki=["client_id","response_type","scope","redirect_uri","state"],Hi={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Ki},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Ki},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Ki},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:Yi},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function Wi(t){for(var e in Hi)if(Hi[e].fa==t)return Hi[e];return null}function zi(t){var e={};e["facebook.com"]=Zi,e["google.com"]=eo,e["github.com"]=to,e["twitter.com"]=no;var n=t&&t[$i];try{if(n)return e[n]?new e[n](t):new Ji(t);if(void 0!==t[Qi])return new Xi(t)}catch(r){}return null}var Qi="idToken",$i="providerId";function Xi(t){var e=t[$i];if(!e&&t[Qi]){var n=Bi(t[Qi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),zr(this,"providerId",e),zr(this,"isNewUser",n)}function Ji(t){Xi.call(this,t),zr(this,"profile",Xr((t=Lr(t.rawUserInfo||"{}"))||{}))}function Zi(t){if(Ji.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function to(t){if(Ji.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");zr(this,"username",this.profile&&this.profile.login||null)}function eo(t){if(Ji.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function no(t){if(Ji.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");zr(this,"username",t.screenName||null)}function ro(t){var e=Fn(t),n=Ln(e,"link"),r=Ln(Fn(n),"link");return e=Ln(e,"deep_link_id"),Ln(Fn(e),"link")||e||r||n||t}function io(t,e){if(!t&&!e)throw new T("internal-error","Internal assert: no raw session string available");if(t&&e)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?oo:so}_(Ji,Xi),_(Zi,Ji),_(to,Ji),_(eo,Ji),_(no,Ji);var oo="enroll",so="signin";function ao(){}function uo(t,e){return t.then((function(t){if(t[Js]){var n=Bi(t[Js]);if(!n||e!=n.i)throw new T("user-mismatch");return t}throw new T("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==k+"user-not-found"?new T("user-mismatch"):t}))}function co(t,e){if(!e)throw new T("internal-error","failed to construct a credential");this.a=e,zr(this,"providerId",t),zr(this,"signInMethod",t)}function lo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function ho(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new co(t.providerId,t.pendingToken)}catch(e){}return null}function fo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&zr(this,"idToken",e.idToken),e.accessToken&&zr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&zr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new T("internal-error","failed to construct a credential");zr(this,"accessToken",e.oauthToken),zr(this,"secret",e.oauthTokenSecret)}zr(this,"providerId",t),zr(this,"signInMethod",n)}function po(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Qn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function vo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new fo(t.providerId,e,t.signInMethod)}catch(n){}}return null}function mo(t,e){this.Qc=e||[],Qr(this,{providerId:t,isOAuthProvider:!0}),this.Ib={},this.pb=(Wi(t)||{}).Ja||null,this.ob=null}function yo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');mo.call(this,t,[])}function go(t){mo.call(this,t,Ki),this.a=[]}function bo(){go.call(this,"facebook.com")}function wo(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new bo).credential({accessToken:e})}function _o(){go.call(this,"github.com")}function Io(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new _o).credential({accessToken:e})}function To(){go.call(this,"google.com"),this.Ca("profile")}function Eo(t,e){var n=t;return p(t)&&(n=t.idToken,e=t.accessToken),(new To).credential({idToken:n,accessToken:e})}function So(){mo.call(this,"twitter.com",Yi)}function ko(t,e){var n=t;if(p(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new fo("twitter.com",n,"twitter.com")}function No(t,e,n){this.a=t,this.f=e,zr(this,"providerId","password"),zr(this,"signInMethod",n===Oo.EMAIL_LINK_SIGN_IN_METHOD?Oo.EMAIL_LINK_SIGN_IN_METHOD:Oo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Do(t){return t&&t.email&&t.password?new No(t.email,t.password,t.signInMethod):null}function Oo(){Qr(this,{providerId:"password",isOAuthProvider:!1})}function Co(t,e){if(!(e=xo(e)))throw new T("argument-error","Invalid email link!");return new No(t,e.code,Oo.EMAIL_LINK_SIGN_IN_METHOD)}function xo(t){return(t=Ai(t=ro(t)))&&t.operation===ai?t:null}function Ro(t){if(!(t.eb&&t.cb||t.La&&t.ea))throw new T("internal-error");this.a=t,zr(this,"providerId","phone"),this.fa="phone",zr(this,"signInMethod","phone")}function Po(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return q(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Ro(e)}return null}function Mo(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.eb,code:t.a.cb}}function Lo(t){try{this.a=t||Ao.auth()}catch(e){throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Qr(this,{providerId:"phone",isOAuthProvider:!1})}function Fo(t,e){if(!t)throw new T("missing-verification-id");if(!e)throw new T("missing-verification-code");return new Ro({eb:t,cb:e})}function Vo(t){if(t.temporaryProof&&t.phoneNumber)return new Ro({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return Eo(o,n);case"facebook.com":return wo(n);case"github.com":return Io(n);case"twitter.com":return ko(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new co(e,s):new fo(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new go(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function Uo(t){if(!t.isOAuthProvider)throw new T("invalid-oauth-provider")}function jo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new T("invalid-auth-event");if(this.g&&this.a)throw new T("invalid-auth-event");if(this.g&&!this.f)throw new T("invalid-auth-event")}function qo(t){return(t=t||{}).type?new jo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&E(t.error),t.postBody,t.tenantId):null}function Bo(){this.b=null,this.a=[]}io.prototype.Ha=function(){return this.a?ke(this.a):ke(this.b)},io.prototype.w=function(){return this.type==oo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},ao.prototype.ka=function(){},ao.prototype.b=function(){},ao.prototype.c=function(){},ao.prototype.w=function(){},co.prototype.ka=function(t){return wa(t,lo(this))},co.prototype.b=function(t,e){var n=lo(this);return n.idToken=e,_a(t,n)},co.prototype.c=function(t,e){return uo(Ia(t,lo(this)),e)},co.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},fo.prototype.ka=function(t){return wa(t,po(this))},fo.prototype.b=function(t,e){var n=po(this);return n.idToken=e,_a(t,n)},fo.prototype.c=function(t,e){return uo(Ia(t,po(this)),e)},fo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},mo.prototype.Ka=function(t){return this.Ib=ft(t),this},_(yo,mo),_(go,mo),go.prototype.Ca=function(t){return K(this.a,t)||this.a.push(t),this},go.prototype.Qb=function(){return Q(this.a)},go.prototype.credential=function(t,e){var n;if(!(n=p(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new fo(this.providerId,n,this.providerId)},_(bo,go),zr(bo,"PROVIDER_ID","facebook.com"),zr(bo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),_(_o,go),zr(_o,"PROVIDER_ID","github.com"),zr(_o,"GITHUB_SIGN_IN_METHOD","github.com"),_(To,go),zr(To,"PROVIDER_ID","google.com"),zr(To,"GOOGLE_SIGN_IN_METHOD","google.com"),_(So,mo),zr(So,"PROVIDER_ID","twitter.com"),zr(So,"TWITTER_SIGN_IN_METHOD","twitter.com"),No.prototype.ka=function(t){return this.signInMethod==Oo.EMAIL_LINK_SIGN_IN_METHOD?ru(t,Oa,{email:this.a,oobCode:this.f}):ru(t,Ja,{email:this.a,password:this.f})},No.prototype.b=function(t,e){return this.signInMethod==Oo.EMAIL_LINK_SIGN_IN_METHOD?ru(t,Ca,{idToken:e,email:this.a,oobCode:this.f}):ru(t,Ya,{idToken:e,email:this.a,password:this.f})},No.prototype.c=function(t,e){return uo(this.ka(t),e)},No.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Qr(Oo,{PROVIDER_ID:"password"}),Qr(Oo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Qr(Oo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Ro.prototype.ka=function(t){return t.fb(Mo(this))},Ro.prototype.b=function(t,e){var n=Mo(this);return n.idToken=e,ru(t,tu,n)},Ro.prototype.c=function(t,e){var n=Mo(this);return n.operation="REAUTH",uo(t=ru(t,eu,n),e)},Ro.prototype.w=function(){var t={providerId:"phone"};return this.a.eb&&(t.verificationId=this.a.eb),this.a.cb&&(t.verificationCode=this.a.cb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Lo.prototype.fb=function(t,e){var n=this.a.a;return ke(e.verify()).then((function(r){if("string"!=typeof r)throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=p(t)?t.session:null,o=p(t)?t.phoneNumber:t;return(i&&i.type==oo?i.Ha().then((function(t){return function(t,e){return ru(t,Ha,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==so?i.Ha().then((function(e){return function(t,e){return ru(t,Wa,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return ru(t,Ba,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Qr(Lo,{PROVIDER_ID:"phone"}),Qr(Lo,{PHONE_SIGN_IN_METHOD:"phone"}),jo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},jo.prototype.T=function(){return this.h},jo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Go,Yo=null;function Ko(t){var e="unauthorized-domain",n=void 0,r=Fn(t);t=r.a,"chrome-extension"==(r=r.c)?n=jt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=jt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",T.call(this,e,n)}function Ho(t,e,n){T.call(this,t,n),(t=e||{}).Jb&&zr(this,"email",t.Jb),t.ea&&zr(this,"phoneNumber",t.ea),t.credential&&zr(this,"credential",t.credential),t.Zb&&zr(this,"tenantId",t.Zb)}function Wo(t){if(t.code){var e=t.code||"";0==e.indexOf(k)&&(e=e.substring(k.length));var n={credential:Vo(t),Zb:t.tenantId};if(t.email)n.Jb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new T(e,t.message||void 0);return new Ho(e,n,t.message)}return null}function zo(){}function Qo(t){return t.c||(t.c=t.b())}function $o(){}function Xo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(u_){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Jo(){}function Zo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.qc,this),this.a.onerror=b(this.Sb,this),this.a.onprogress=b(this.rc,this),this.a.ontimeout=b(this.vc,this)}function ts(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function es(t,e,n){this.reset(t,e,n,void 0,void 0)}function ns(t){this.f=t,this.b=this.c=this.a=null}function rs(t,e){this.name=t,this.value=e}_(Ko,T),_(Ho,T),Ho.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&pt(t,e),t},Ho.prototype.toJSON=function(){return this.w()},zo.prototype.c=null,_($o,zo),$o.prototype.a=function(){var t=Xo(this);return t?new ActiveXObject(t):new XMLHttpRequest},$o.prototype.b=function(){var t={};return Xo(this)&&(t[0]=!0,t[1]=!0),t},Go=new $o,_(Jo,zo),Jo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Zo;throw Error("Unsupported browser")},Jo.prototype.b=function(){return{}},(t=Zo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ts(this,4)},t.Sb=function(){this.status=500,this.response=this.responseText="",ts(this,4)},t.vc=function(){this.Sb()},t.rc=function(){this.status=200,ts(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},es.prototype.a=null,es.prototype.reset=function(t,e,n,r,i){delete this.a},rs.prototype.toString=function(){return this.name};var is=new rs("SEVERE",1e3),os=new rs("WARNING",900),ss=new rs("CONFIG",700),as=new rs("FINE",500);function us(t){return t.c?t.c:t.a?us(t.a):(R("Root logger has no level set."),null)}ns.prototype.log=function(t,e,n){if(t.value>=us(this).value)for(d(e)&&(e=e()),t=new es(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var cs={},ls=null;function hs(t){var e;if(ls||(ls=new ns(""),cs[""]=ls,ls.c=ss),!(e=cs[t])){e=new ns(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=hs(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,cs[t]=e}return e}function fs(t,e){t&&t.log(as,e,void 0)}function ds(t){this.f=t}function ps(t){bn.call(this),this.u=t,this.h=void 0,this.readyState=vs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=hs("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}_(ds,zo),ds.prototype.a=function(){return new ps(this.f)},ds.prototype.b=function(t){return function(){return t}}({}),_(ps,bn);var vs=0;function ms(t){t.c.read().then(t.pc.bind(t)).catch(t.Ua.bind(t))}function ys(t){t.readyState=4,t.g=null,t.c=null,t.m=null,gs(t)}function gs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function bs(t){bn.call(this),this.headers=new An,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=ws,this.u=this.S=!1}(t=ps.prototype).open=function(t,e){if(this.readyState!=vs)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,gs(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Ua.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ys(this)),this.readyState=vs},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,gs(this)),this.a&&(this.readyState=3,gs(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):void 0!==s.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,ms(this)):t.text().then(this.tc.bind(this),this.Ua.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ys(this):gs(this),3==this.readyState&&ms(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,ys(this))},t.sc=function(t){this.a&&(this.response=t,ys(this))},t.Ua=function(t){var e=this.i;e&&e.log(os,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&ys(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(os,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(os,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ps.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),_(bs,bn);var ws="";bs.prototype.b=hs("goog.net.XhrIo");var _s=/^https?$/i,Is=["POST","PUT"];function Ts(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.R=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Go.a(),t.C=t.D?Qo(t.D):Qo(Go),t.a.onreadystatechange=b(t.Vb,t);try{fs(t.b,xs(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(a){return fs(t.b,xs(t,"Error opening Xhr: "+a.message)),void Ss(t,a)}e=r||"";var o=new An(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"==typeof t)q(t,e,void 0);else for(var n=kn(t),r=Sn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=Es,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=s.FormData&&e instanceof s.FormData,!K(Is,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{Ds(t),0<t.g&&(t.u=function(t){return Ht&&re(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),fs(t.b,xs(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=b(t.Ma,t)):t.s=Tn(t.Ma,t.g,t)),fs(t.b,xs(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(a){fs(t.b,xs(t,"Send error: "+a.message)),Ss(t,a)}}function Es(t){return"content-type"==t.toLowerCase()}function Ss(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,ks(t),Ns(t)}function ks(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function As(t){if(t.c&&void 0!==o)if(t.C[1]&&4==Os(t)&&2==Cs(t))fs(t.b,xs(t,"Local request error detected and ignored"));else if(t.i&&4==Os(t))Tn(t.Vb,0,t);else if(t.dispatchEvent("readystatechange"),4==Os(t)){fs(t.b,xs(t,"Request complete")),t.c=!1;try{var e,n=Cs(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var a=String(t.l).match(On)[1]||null;if(!a&&s.self&&s.self.location){var u=s.self.location.protocol;a=u.substr(0,u.length-1)}i=!_s.test(a?a.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Os(t)?t.a.statusText:""}catch(l){fs(t.b,"Can not get status: "+l.message),c=""}t.h=c+" ["+Cs(t)+"]",ks(t)}}finally{Ns(t)}}}function Ns(t,e){if(t.a){Ds(t);var n=t.a,r=t.C[0]?l:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(u_){(t=t.b)&&t.log(is,"Problem encountered resetting onreadystatechange: "+u_.message,void 0)}}}function Ds(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(s.clearTimeout(t.s),t.s=null)}function Os(t){return t.a?t.a.readyState:0}function Cs(t){try{return 2<Os(t)?t.a.status:-1}catch(e){return-1}}function xs(t,e){return e+" ["+t.R+" "+t.l+" "+Cs(t)+"]"}function Rs(t){var e=Ys;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ps(t,e,n){t.a=!0,t.c=n,t.f=!e,Vs(t)}function Ms(t){if(t.a){if(!t.v)throw new Us(t);t.v=!1}}function Ls(t,e,n,r){t.g.push([e,n,r]),t.a&&Vs(t)}function Fs(t){return Y(t.g,(function(t){return d(t[1])}))}function Vs(t){if(t.h&&t.a&&Fs(t)){var e=t.h,n=Bs[e];n&&(s.clearTimeout(n.a),delete Bs[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(O(e)||"function"==typeof s.Promise&&e instanceof s.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,Fs(t)||(n=!0)}}t.c=e,r&&(u=b(t.m,t,!0),r=b(t.m,t,!1),e instanceof Rs?(Ls(e,u,r),e.C=!0):e.then(u,r)),n&&(e=new qs(e),Bs[e.a]=e,t.h=e.a)}function Us(){C.call(this)}function js(){C.call(this)}function qs(t){this.a=s.setTimeout(b(this.c,this),0),this.b=t}(t=bs.prototype).Ma=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",fs(this.b,xs(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(fs(this.b,xs(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ns(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ns(this,!0)),bs.ab.Da.call(this)},t.Vb=function(){this.xa||(this.O||this.i||this.f?As(this):this.Jc())},t.Jc=function(){As(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ws:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(is,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return fs(this.b,"Can not get response: "+e.message),null}},Rs.prototype.cancel=function(t){if(this.a)this.c instanceof Rs&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new js(this),Ms(this),Ps(this,!1,t))}},Rs.prototype.m=function(t,e){this.i=!1,Ps(this,t,e)},Rs.prototype.then=function(t,e,n){var r,i,o=new be((function(t,e){r=t,i=e}));return Ls(this,r,(function(t){t instanceof js?o.cancel():i(t)})),o.then(t,e,n)},Rs.prototype.$goog_Thenable=!0,_(Us,C),Us.prototype.message="Deferred has already fired",Us.prototype.name="AlreadyCalledError",_(js,C),js.prototype.message="Deferred was canceled",js.prototype.name="CanceledError",qs.prototype.c=function(){throw delete Bs[this.a],this.b};var Bs={};function Gs(t){var e,n=document,r=Tt(t).toString(),i=de(document,"SCRIPT"),o={Wb:i,Ma:void 0},a=new Rs(o);return e=window.setTimeout((function(){Ks(i,!0);var t=new zs(Ws,"Timeout reached for loading script "+r);Ms(a),Ps(a,!1,t)}),5e3),o.Ma=e,i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ks(i,!1,e),Ms(a),Ps(a,!0,null))},i.onerror=function(){Ks(i,!0,e);var t=new zs(Hs,"Error while loading script "+r);Ms(a),Ps(a,!1,t)},pt(o={},{type:"text/javascript",charset:"UTF-8"}),ue(i,o),function(t,e){vt(t,"HTMLScriptElement"),t.src=Tt(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=s?e=c(e.document):(null===u&&(u=c(s.document)),e=u),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function Ys(){if(this&&this.Wb){var t=this.Wb;t&&"SCRIPT"==t.tagName&&Ks(t,!0,this.Ma)}}function Ks(t,e,n){null!=n&&s.clearTimeout(n),t.onload=l,t.onerror=l,t.onreadystatechange=l,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Hs=0,Ws=1;function zs(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),C.call(this,n),this.code=t}function Qs(t){this.f=t}function $s(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Zs,this.g=ft(t.secureTokenHeaders||ta),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||ea,this.a=ft(t.firebaseHeaders||na),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==wr(),!(n=s.XMLHttpRequest||n&&Ao.INTERNAL.node&&Ao.INTERNAL.node.XMLHttpRequest)&&!br())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,br()?this.f=new ds(self):_r()?this.f=new Qs(n):this.f=new Jo,this.b=null}_(zs,C),_(Qs,zo),Qs.prototype.a=function(){return new this.f},Qs.prototype.b=function(){return{}};var Xs,Js="idToken",Zs=new jr(3e4,6e4),ta={"Content-Type":"application/x-www-form-urlencoded"},ea=new jr(3e4,6e4),na={"Content-Type":"application/json"};function ra(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function ia(t,e){e&&(t.l=oa("https://securetoken.googleapis.com/v1/token",e),t.h=oa("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=oa("https://identitytoolkit.googleapis.com/v2/",e))}function oa(t,e){return t=Fn(t),e=Fn(e.url),t.f=t.a+t.f,xn(t,e.c),t.a=e.a,Rn(t,e.g),t.toString()}function sa(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function aa(t,e,n,r,i,o,a){(function(){var t=Ar();return!((t=Er(t)!=Tr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Ht&&oe&&!(9<oe))})()||br()?t=b(t.u,t):(Xs||(Xs=new be((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{s[ca]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ls(t,null,e,void 0)}(Gs(Et(ua,{onload:ca})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=b(t.s,t)),t(e,n,r,i,o,a)}$s.prototype.T=function(){return this.b},$s.prototype.u=function(t,e,n,r,i,o){if(br()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new bs(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}wn(a,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return fs(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),_n(a,"ready",(function(){u&&clearTimeout(u),Ge(this)})),_n(a,"timeout",(function(){u&&clearTimeout(u),Ge(this),e&&e(null)})),Ts(a,t,n,r,i)};var ua=new mt(wt,"https://apis.google.com/js/client.js?onload=%{onload}"),ca="__fcb"+Math.floor(1e6*Math.random()).toString();function la(t,e,n,r,i,o,s){var a=Fn(e+n);Mn(a,"key",t.c),s&&Mn(a,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Mn(a,c,i[c]);return new be((function(e,n){aa(t,a.toString(),(function(t){t?t.error?n(ou(t,o||{})):e(t):n(new T("network-request-failed"))}),r,u?void 0:er(Mr(i)),t.a,t.v.get())}))}function ha(t){if("string"!=typeof(t=t.email)||!vr.test(t))throw new T("invalid-email")}function fa(t){"email"in t&&ha(t)}function da(t){if(!t[Js]){if(t.mfaPendingCredential)throw new T("multi-factor-auth-required",null,ft(t));throw new T("internal-error")}}function pa(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new T("internal-error")}else{if(!t.sessionInfo)throw new T("missing-verification-id");if(!t.code)throw new T("missing-verification-code")}}$s.prototype.s=function(t,e,n,r,i){var o=this;Xs.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},$s.prototype.zb=function(){return ru(this,Ka,{})},$s.prototype.Bb=function(t,e){return ru(this,Ga,{idToken:t,email:e})},$s.prototype.Cb=function(t,e){return ru(this,Ya,{idToken:t,password:e})};var va={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ma(t){if(!t.phoneVerificationInfo)throw new T("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new T("missing-verification-code")}function ya(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new T("internal-error")}function ga(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(Xn(t=new Wn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function ba(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Wo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Wo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Wo(t)):t.errorMessage&&(e=iu(t.errorMessage)),e)throw e;da(t)}function wa(t,e){return e.returnIdpCredential=!0,ru(t,za,e)}function _a(t,e){return e.returnIdpCredential=!0,ru(t,$a,e)}function Ia(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,ru(t,Qa,e)}function Ta(t){if(!t.oobCode)throw new T("invalid-action-code")}(t=$s.prototype).Db=function(t,e){var n={idToken:t},r=[];return lt(va,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),ru(this,Ga,n)},t.vb=function(t,e){return pt(t={requestType:"PASSWORD_RESET",email:t},e),ru(this,Va,t)},t.wb=function(t,e){return pt(t={requestType:"EMAIL_SIGNIN",email:t},e),ru(this,Ma,t)},t.ub=function(t,e){return pt(t={requestType:"VERIFY_EMAIL",idToken:t},e),ru(this,La,t)},t.Eb=function(t,e,n){return pt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),ru(this,Fa,t)},t.fb=function(t){return ru(this,Za,t)},t.nb=function(t,e){return ru(this,qa,{oobCode:t,newPassword:e})},t.Ra=function(t){return ru(this,Sa,{oobCode:t})},t.jb=function(t){return ru(this,Ea,{oobCode:t})};var Ea={endpoint:"setAccountInfo",A:Ta,Z:"email",B:!0},Sa={endpoint:"resetPassword",A:Ta,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new T("internal-error")},B:!0},ka={endpoint:"signupNewUser",A:function(t){if(ha(t),!t.password)throw new T("weak-password")},G:da,V:!0,B:!0},Aa={endpoint:"createAuthUri",B:!0},Na={endpoint:"deleteAccount",N:["idToken"]},Da={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new T("internal-error")}},Oa={endpoint:"emailLinkSignin",N:["email","oobCode"],A:ha,G:da,V:!0,B:!0},Ca={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:ha,G:da,V:!0},xa={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:ma,G:da,B:!0,Na:!0},Ra={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:ma,G:da,B:!0,Na:!0},Pa={endpoint:"getAccountInfo"},Ma={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new T("internal-error");ha(t)},Z:"email",B:!0},La={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},Fa={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},Va={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new T("internal-error");ha(t)},Z:"email",B:!0},Ua={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},ja={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new T("internal-error")}},qa={endpoint:"resetPassword",A:Ta,Z:"email",B:!0},Ba={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Ga={endpoint:"setAccountInfo",N:["idToken"],A:fa,V:!0},Ya={endpoint:"setAccountInfo",N:["idToken"],A:function(t){if(fa(t),!t.password)throw new T("weak-password")},G:da,V:!0},Ka={endpoint:"signupNewUser",G:da,V:!0,B:!0},Ha={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new T("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},Wa={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},za={endpoint:"verifyAssertion",A:ya,Ya:ga,G:ba,V:!0,B:!0},Qa={endpoint:"verifyAssertion",A:ya,Ya:ga,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new T("user-not-found");if(t.errorMessage)throw iu(t.errorMessage);da(t)},V:!0,B:!0},$a={endpoint:"verifyAssertion",A:function(t){if(ya(t),!t.idToken)throw new T("internal-error")},Ya:ga,G:ba,V:!0},Xa={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new T("invalid-custom-token")},G:da,V:!0,B:!0},Ja={endpoint:"verifyPassword",A:function(t){if(ha(t),!t.password)throw new T("wrong-password")},G:da,V:!0,B:!0},Za={endpoint:"verifyPhoneNumber",A:pa,G:da,B:!0},tu={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new T("internal-error");pa(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Wo(t);da(t)}},eu={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:pa,G:da,B:!0},nu={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Js]^!!t.refreshToken)throw new T("internal-error")},B:!0,Na:!0};function ru(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.N))return Ae(new T("internal-error"));var r,i=!!e.Na,o=e.Ub||"POST";return ke(n).then(e.A).then((function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),la(t,i?t.i:t.h,e.endpoint,o,n,e.Hb,e.lb||!1)})).then((function(t){return r=t,e.Ya?e.Ya(n,r):r})).then(e.G).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new T("internal-error");return r[e.Z]}))}function iu(t){return ou({error:{errors:[{message:t}],code:400,message:t}})}function ou(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new T(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",pt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new T(r[i],e);return!e&&t&&(e=Pr(t)),new T("internal-error",e)}function su(t){this.b=t,this.a=null,this.rb=function(t){return(lu||(lu=new be((function(t,e){function n(){Ur(),Nr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Ur(),e(Error("Network Error"))},timeout:uu.get()})}if(Nr("gapi.iframes.Iframe"))t();else if(Nr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Nr("gapi.load")?n():e(Error("Network Error"))},ke(Gs(r=Et(au,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw lu=null,t})))).then((function(){return new be((function(e,n){Nr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),cu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var au=new mt(wt,"https://apis.google.com/js/api.js?onload=%{onload}"),uu=new jr(3e4,6e4),cu=new jr(5e3,15e3),lu=null;function hu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,this.g?t=Vn((t=Fn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):t=Vn("https",this.l,null,"/__/auth/iframe"),this.a=t,Mn(this.a,"apiKey",this.h),Mn(this.a,"appName",this.i),this.b=null,this.c=[]}function fu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function du(t){try{return Ao.app(t).auth().Ga()}catch(e){return[]}}function pu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function vu(t){var e=ur();return function(t){return ru(t,Ua,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Fn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Fn(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:pr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Ko(ur())}))}function mu(t){return t.m||(t.m=mr().then((function(){if(!t.u){var e=t.c,n=t.i,r=du(t.b),i=new hu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=Q(r||[]),t.u=i.toString()}t.v=new su(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.rb.then((function(){t.a.register("authEvent",e,Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.v,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=qo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",ke(n)}return n.status="ERROR",ke(n)}))}(t)}))),t.m}function yu(t){return t.l||(t.C=t.c?kr(t.c,du(t.b)):null,t.l=new $s(t.g,D(t.i),t.C),t.f&&ia(t.l,t.f)),t.l}function gu(t,e,n,r,i,o,s,a,u,c,l,h){return(t=new fu(t,e,n,r,i,h)).l=o,t.g=s,t.i=a,t.b=ft(u||null),t.f=c,t.yb(l).toString()}function bu(t){if(this.a=t||Ao.INTERNAL.reactNative&&Ao.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function wu(t){this.b=t,this.a={},this.f=b(this.c,this)}hu.prototype.toString=function(){return this.f?Mn(this.a,"v",this.f):$n(this.a.b,"v"),this.b?Mn(this.a,"eid",this.b):$n(this.a.b,"eid"),this.c.length?Mn(this.a,"fw",this.c.join(",")):$n(this.a.b,"fw"),this.a.toString()},fu.prototype.yb=function(t){return this.h=t,this},fu.prototype.toString=function(){if(this.v){var t=Fn(this.v.url);t=Vn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Vn("https",this.u,null,"/__/auth/handler");if(Mn(t,"apiKey",this.s),Mn(t,"appName",this.c),Mn(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=Ao.app(this.c).auth().la()}catch(a){n=null}for(var r in e.ob=n,Mn(t,"providerId",this.a.providerId),e=Mr((n=this.a).Ib))e[r]=e[r].toString();r=n.Qc,e=ft(e);for(var i=0;i<r.length;i++){var o=r[i];o in e&&delete e[o]}n.pb&&n.ob&&!e[n.pb]&&(e[n.pb]=n.ob),ht(e)||Mn(t,"customParameters",Pr(e))}if("function"==typeof this.a.Qb&&((n=this.a.Qb()).length&&Mn(t,"scopes",n.join(","))),this.l?Mn(t,"redirectUrl",this.l):$n(t.b,"redirectUrl"),this.g?Mn(t,"eventId",this.g):$n(t.b,"eventId"),this.i?Mn(t,"v",this.i):$n(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Ln(t,s)&&Mn(t,s,this.b[s]);return this.h?Mn(t,"tid",this.h):$n(t.b,"tid"),this.f?Mn(t,"eid",this.f):$n(t.b,"eid"),(s=du(this.c)).length&&Mn(t,"fw",s.join(",")),t.toString()},(t=pu.prototype).Ob=function(t,e,n){var r=new T("popup-closed-by-user"),i=new T("web-storage-unsupported"),o=this,s=!1;return this.ma().then((function(){(function(t){var e={type:"webStorageSupport"};return mu(t).then((function(){return function(t,e){return t.rb.then((function(){return new be((function(n){t.a.send(e.type,e,n,Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.v,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&fr(t),e(i),s=!0)}))})).o((function(){})).then((function(){if(!s)return function(t){return new be((function(e){return function n(){En(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return En(n).then((function(){e(r)}))}))},t.Xb=function(){var t=Ar();return!Rr(t)&&!Vr(t)},t.Tb=function(){return!1},t.Mb=function(t,e,n,r,i,o,s,a){if(!t)return Ae(new T("popup-blocked"));if(s&&!Rr())return this.ma().o((function(e){fr(t),i(e)})),r(),ke();this.a||(this.a=vu(yu(this)));var u=this;return this.a.then((function(){var e=u.ma().o((function(e){throw fr(t),i(e),e}));return r(),e})).then((function(){(Uo(n),s)||cr(gu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,a,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Nb=function(t,e,n,r){this.a||(this.a=vu(yu(this)));var i=this;return this.a.then((function(){Uo(e),cr(gu(i.s,i.g,i.b,t,e,ur(),n,i.c,void 0,i.i,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ma=function(){var t=this;return mu(this).then((function(){return t.v.rb})).o((function(){throw t.a=null,new T("network-request-failed")}))},t.$b=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Sa=function(t){W(this.h,(function(e){return e==t}))},(t=bu.prototype).get=function(t){return ke(this.a.getItem(t)).then((function(t){return t&&Lr(t)}))},t.set=function(t,e){return ke(this.a.setItem(t,Pr(e)))},t.U=function(t){return ke(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var _u,Iu=[];function Tu(t,e,n){ht(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Eu(t){this.a=t}function Su(t){this.c=t,this.b=!1,this.a=[]}function ku(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return Ae(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new be((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}},t.a.push(c),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return Au(t,c),e})).o((function(e){throw Au(t,c),e}))}function Au(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),W(t.a,(function(t){return t==e}))}}function Nu(){if(!xu())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;br()&&self?(this.v=function(){var t=br()?self:null;if(q(Iu,(function(n){n.b==t&&(e=n)})),!e){var e=new wu(t);Iu.push(e)}return e}(),Tu(this.v,"keyChanged",(function(e,n){return Fu(t).then((function(e){return 0<e.length&&q(t.a,(function(t){t(e)})),{keyProcessed:K(e,n.key)}}))})),Tu(this.v,"ping",(function(){return ke(["keyChanged"])}))):function(){var t=s.navigator;return t&&t.serviceWorker?ke().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):ke(null)}().then((function(e){(t.h=e)&&(t.g=new Su(new Eu(e)),ku(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&K(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function Du(t){return new be((function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new be((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return Du(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function Ou(t){return t.i||(t.i=Du(t)),t.i}function Cu(t,e){var n=0;return new be((function r(i,o){Ou(t).then(e).then(i).o((function(e){if(!(3<++n))return Ou(t).then((function(e){return e.close(),t.i=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function xu(){try{return!!s.indexedDB}catch(Yt){return!1}}function Ru(t){return t.objectStore("firebaseLocalStorage")}function Pu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Mu(t){return new be((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Lu(t,e){return t.g&&t.h&&function(){var t=s.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?ku(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):ke()}function Fu(t){return Ou(t).then((function(t){var e=Ru(Pu(t,!1));return e.getAll?Mu(e.getAll()):new be((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=lr(t.c,n),t.c=n}return r}))}function Vu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Uu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=ke().then((function(){if(xu()){var t=Fr(),r="__sak"+t;return _u||(_u=new Nu),(n=_u).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){q(e.a,(function(e){e(t)}))})),t}))}function ju(){this.a={},this.type="inMemory"}function qu(){if(!function(){var t="Node"==wr();if(!(t=Bu()||t&&Ao.INTERNAL.node&&Ao.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==wr())throw new T("internal-error","The LocalStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Bu()||Ao.INTERNAL.node.localStorage,this.type="localStorage"}function Bu(){try{var t=s.localStorage,e=Fr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Gu(){this.type="nullStorage"}function Yu(){if(!function(){var t="Node"==wr();if(!(t=Ku()||t&&Ao.INTERNAL.node&&Ao.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==wr())throw new T("internal-error","The SessionStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Ku()||Ao.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Ku(){try{var t=s.sessionStorage,e=Fr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Hu(){var t={};t.Browser=Qu,t.Node=$u,t.ReactNative=Xu,t.Worker=Ju,this.a=t[wr()]}wu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];q(r,(function(e){i.push(ke().then((function(){return e(t.origin,t.data.data)})))})),De(i).then((function(r){var i=[];q(r,(function(t){i.push({fulfilled:t.Pb,value:t.value,reason:t.reason?t.reason.message:void 0})})),q(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},Eu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Su.prototype.close=function(){for(;0<this.a.length;)Au(this,this.a[0]);this.b=!0},(t=Nu.prototype).set=function(t,e){var n=this,r=!1;return Cu(this,(function(e){return Mu((e=Ru(Pu(e,!0))).get(t))})).then((function(i){return Cu(n,(function(o){if(o=Ru(Pu(o,!0)),i)return i.value=e,Mu(o.put(i));n.b++,r=!0;var s={};return s.fbase_key=t,s.value=e,Mu(o.add(s))}))})).then((function(){return n.c[t]=e,Lu(n,t)})).oa((function(){r&&n.b--}))},t.get=function(t){return Cu(this,(function(e){return Mu(Ru(Pu(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.U=function(t){var e=this,n=!1;return Cu(this,(function(r){return n=!0,e.b++,Mu(Ru(Pu(r,!0)).delete(t))})).then((function(){return delete e.c[t],Lu(e,t)})).oa((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){function e(){t.f=setTimeout((function(){t.l=Fu(t).then((function(e){0<e.length&&q(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}Vu(t),e()}(this),this.a.push(t)},t.ia=function(t){W(this.a,(function(e){return e==t})),0==this.a.length&&Vu(this)},(t=Uu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.U=function(t){return this.b.then((function(e){return e.U(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){W(this.a,(function(e){return e==t}))},(t=ju.prototype).get=function(t){return ke(this.a[t])},t.set=function(t,e){return this.a[t]=e,ke()},t.U=function(t){return delete this.a[t],ke()},t.ca=function(){},t.ia=function(){},(t=qu.prototype).get=function(t){var e=this;return ke().then((function(){return Lr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return ke().then((function(){var r=Pr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return ke().then((function(){e.a.removeItem(t)}))},t.ca=function(t){s.window&&an(s.window,"storage",t)},t.ia=function(t){s.window&&ln(s.window,"storage",t)},(t=Gu.prototype).get=function(){return ke(null)},t.set=function(){return ke()},t.U=function(){return ke()},t.ca=function(){},t.ia=function(){},(t=Yu.prototype).get=function(t){var e=this;return ke().then((function(){return Lr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return ke().then((function(){var r=Pr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return ke().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Wu,zu,Qu={F:qu,bb:Yu},$u={F:qu,bb:Yu},Xu={F:bu,bb:Gu},Ju={F:qu,bb:Gu},Zu={rd:"local",NONE:"none",td:"session"};function tc(){var t=!(Vr(Ar())||!gr()),e=Rr(),n=Dr();this.m=t,this.h=e,this.l=n,this.a={},Wu||(Wu=new Hu),t=Wu;try{this.g=!ar()&&Gr()||!s.indexedDB?new t.a.F:new Uu(br()?new ju:new t.a.F)}catch(r){this.g=new ju,this.h=!0}try{this.i=new t.a.bb}catch(r){this.i=new ju}this.v=new ju,this.f=b(this.Yb,this),this.b={}}function ec(){return zu||(zu=new tc),zu}function nc(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function rc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function ic(t,e,n){return n=rc(e,n),"local"==e.F&&(t.b[n]=null),nc(t,e.F).U(n)}function oc(t){t.c&&(clearInterval(t.c),t.c=null)}function sc(t){this.a=t,this.b=ec()}(t=tc.prototype).get=function(t,e){return nc(this,t.F).get(rc(t,e))},t.set=function(t,e,n){var r=rc(t,n),i=this,o=nc(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=rc(t,e),this.l&&(this.b[t]=s.localStorage.getItem(t)),ht(this.a)&&(nc(this,"local").ca(this.f),this.h||(ar()||!Gr())&&s.indexedDB||!this.l||function(t){oc(t),t.c=setInterval((function(){for(var e in t.a){var n=s.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Qe({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Yb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=rc(t,e),this.a[t]&&(W(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),ht(this.a)&&(nc(this,"local").ia(this.f),oc(this))},t.Yb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?nc(this,"local").ia(this.f):oc(this),this.m)if(n=s.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?s.localStorage.setItem(e,r):s.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===s.localStorage.getItem(e)||(o.b[e]=s.localStorage.getItem(e),o.mb(e))},Ht&&oe&&10==oe&&s.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else q(t,b(this.mb,this))},t.mb=function(t){this.a[t]&&q(this.a[t],(function(t){t()}))};var ac,uc={name:"authEvent",F:"local"};function cc(){this.a=ec()}function lc(t,e){this.b=hc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===ac&&(ac=s.Int32Array?new Int32Array(gc):gc),this.reset()}_(lc,(function(){this.b=-1}));for(var hc=64,fc=hc-1,dc=[],pc=0;pc<fc;pc++)dc[pc]=0;var vc=z(128,dc);function mc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&l^~c&h)+(0|ac[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+s|0,u=a,a=i,i=r,r=s+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function yc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(mc(t),i=0);else{if(!f(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(mc(t),i=0)}}t.c=i,t.g+=n}lc.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):Q(this.h)};var gc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function bc(){lc.call(this,8,wc)}_(bc,lc);var wc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function _c(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new cc,this.g=new sc(this.h),this.f=null,this.b=[],this.a=this.c=null}function Ic(t){return new T("invalid-cordova-configuration",t)}function Tc(t){var e=new bc;yc(e,t),t=[];var n=8*e.g;56>e.c?yc(e,vc,56-e.c):yc(e,vc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(mc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return G(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function Ec(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function Sc(t){return t.f||(t.f=t.ma().then((function(){return new be((function(e){t.Ea((function n(r){return e(r),t.Sa(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),kc(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=ro(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Lr(Ln(o=Fn(i),"firebaseError")||null))?E(o):null)?new jo(r.c,r.b,null,null,o,null,r.T()):new jo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Ec(t,i)}))}var n=new jo("unknown",null,null,null,new T("no-auth-event")),r=!1,i=En(500).then((function(){return kc(t).then((function(){r||Ec(t,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Nr("BuildInfo.packageName",s).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},Yo||(Yo=new Bo),function(t){var e=Yo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Nr("universalLinks.subscribe",s))&&t(null,e.b))}(e)}(t)}))}))),t.f}function kc(t){var e=null;return function(t){return t.b.get(uc,t.a).then((function(t){return qo(t)}))}(t.g).then((function(n){return e=n,ic((n=t.g).b,uc,n.a)})).then((function(){return e}))}function Ac(t){this.a=t,this.b=ec()}(t=_c.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(yr(void 0)?mr().then((function(){return new be((function(t,e){var n=s.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Ae(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Nr("universalLinks.subscribe",s))throw Ic("cordova-universal-links-plugin-fix is not installed");if(void 0===Nr("BuildInfo.packageName",s))throw Ic("cordova-plugin-buildinfo is not installed");if("function"!=typeof Nr("cordova.plugins.browsertab.openUrl",s))throw Ic("cordova-plugin-browsertab is not installed");if("function"!=typeof Nr("cordova.InAppBrowser.open",s))throw Ic("cordova-plugin-inappbrowser is not installed")}),(function(){throw new T("cordova-not-ready")}))},t.Ob=function(t,e){return e(new T("operation-not-supported-in-this-environment")),ke()},t.Mb=function(){return Ae(new T("operation-not-supported-in-this-environment"))},t.$b=function(){return!1},t.Xb=function(){return!0},t.Tb=function(){return!0},t.Nb=function(t,e,n,r){if(this.c)return Ae(new T("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,l=null;return this.c=ke().then((function(){return Uo(e),Sc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new jo(e,r,null,o,new T("no-auth-event"),null,i),u=Nr("BuildInfo.packageName",s);if("string"!=typeof u)throw new T("invalid-cordova-configuration");var c=Nr("BuildInfo.displayName",s),l={};if(Ar().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Ar().toLowerCase().match(/android/))return Ae(new T("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=Tc(o),l.sessionId=o;var h=gu(t.v,t.i,t.l,e,n,null,r,t.m,l,t.u,i,t.s);return t.ma().then((function(){var e=t.h;return t.C.a.set(uc,a.w(),e)})).then((function(){var e=Nr("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof e)throw new T("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Nr("cordova.plugins.browsertab.openUrl",s)))throw new T("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Nr("cordova.InAppBrowser.open",s)))throw new T("invalid-cordova-configuration");e=Ar(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new be((function(t,e){u=function(){var e=Nr("cordova.plugins.browsertab.close",s);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){a||(a=En(2e3).then((function(){e(new T("redirect-cancelled-by-user"))})))},l=function(){qr()&&c()},o.addEventListener("resume",c,!1),Ar().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(t){return kc(i).then((function(){throw t}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.Sa(u),i.c=null}))},t.Ea=function(t){this.b.push(t),Sc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new jo("unknown",null,null,null,new T("no-auth-event")),t(e))}))},t.Sa=function(t){W(this.b,(function(e){return e==t}))};var Nc={name:"pendingRedirect",F:"session"};function Dc(t){return ic(t.b,Nc,t.a)}function Oc(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=b(this.s,this),this.b=new Kc,this.C=new $c,this.g=new Ac(Gc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Cc(this.D,this.v,this.m,S,this.J)}function Cc(t,e,n,r,i){var o=Ao.SDK_VERSION||null;return yr()?new _c(t,e,n,o,r,i):new pu(t,e,n,o,r,i)}function xc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o((function(n){throw t.a==e&&t.reset(),n}))}function Rc(t){t.a.Xb()&&xc(t).o((function(e){var n=new jo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Uc(e)&&t.s(n)})),t.a.Tb()||Hc(t.b)}function Pc(t,e){K(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Nc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?Dc(t.g).then((function(){xc(t).o((function(e){var n=new jo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Uc(e)&&t.s(n)}))})):Rc(t)})).o((function(){Rc(t)}))}function Mc(t,e){W(t.h,(function(t){return t==e}))}Oc.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=Cc(this.D,this.v,this.m,null,this.J),this.i={}},Oc.prototype.s=function(t){if(!t)throw new T("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return Hc(this.b),e};var Lc=new jr(2e3,1e4),Fc=new jr(3e4,6e4);function Vc(t,e,n,r,i,o,s){return t.a.Mb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,s)}function Uc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function jc(t,e,n,r,i){var o;return function(t){return t.b.set(Nc,"pending",t.a)}(t.g).then((function(){return t.a.Nb(e,n,r,i).o((function(e){if(Uc(e))throw new T("operation-not-supported-in-this-environment");return o=e,Dc(t.g).then((function(){throw o}))})).then((function(){return t.a.$b()?new be((function(){})):Dc(t.g).then((function(){return t.qa()})).then((function(){})).o((function(){}))}))}))}function qc(t,e,n,r,i){return t.a.Ob(r,(function(t){e.na(n,null,t,i)}),Lc.get())}Oc.prototype.qa=function(){return this.b.qa()};var Bc={};function Gc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Yc(t,e,n,r){var i=Gc(e,n,r);return Bc[i]||(Bc[i]=new Oc(t,e,n,r)),Bc[i]}function Kc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Hc(t){t.g||(t.g=!0,Qc(t,!1,null,null))}function Wc(t){t.g&&!t.i&&Qc(t,!1,null,null)}function zc(t,e){if(t.b=function(){return ke(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Qc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ae(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):zc(t,n):zc(t,{user:null}),t.f=[],t.c=[]}function $c(){}function Xc(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(t){this.ib=t},enumerable:!1})}function Jc(t,e){this.a=e,zr(this,"verificationId",t)}function Zc(t,e,n,r){return new Lo(t).fb(e,n).then((function(t){return new Jc(t,r)}))}function tl(t){var e=Gi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Qr(this,{token:t,expirationTime:Br(1e3*e.exp),authTime:Br(1e3*e.auth_time),issuedAtTime:Br(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function el(t,e,n){var r=e&&e[rl];if(!r)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=ft(e),this.g=n,this.c=new io(null,r),this.b=[];var i=this;q(e[nl]||[],(function(t){(t=Zr(t))&&i.b.push(t)})),zr(this,"auth",this.a),zr(this,"session",this.c),zr(this,"hints",this.b)}Kc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Kc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Qc(this,!0,null,t.a),ke()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.T(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){Qc(t,a,e,null)})).o((function(e){Qc(t,a,null,e)}))}(this,t,e):Ae(new T("invalid-auth-event")):(Qc(this,!1,null,null),ke())}else Ae(new T("invalid-auth-event"))},Kc.prototype.qa=function(){var t=this;return new be((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new T("timeout");t.a&&t.a.cancel(),t.a=En(Fc.get()).then((function(){t.b||(t.g=!0,Qc(t,!0,null,e))}))}(t))}))},$c.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),ke()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then((function(t){e.na(r,t,null,n)})).o((function(t){e.na(r,null,t,n)}))}(t,e):Ae(new T("invalid-auth-event"))}else Ae(new T("invalid-auth-event"))},Jc.prototype.confirm=function(t){return t=Fo(this.verificationId,t),this.a(t)};var nl="mfaInfo",rl="mfaPendingCredential";function il(t,e,n,r){T.call(this,"multi-factor-auth-required",r,e),this.b=new el(t,e,n),zr(this,"resolver",this.b)}function ol(t,e,n){if(t&&p(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new il(e,t.serverResponse,n,t.message)}catch(r){}return null}function sl(){}function al(t){zr(this,"factorId",t.fa),this.a=t}function ul(t){if(al.call(this,t),this.a.fa!=Lo.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function cl(t,e){for(var n in ze.call(this,t),e)this[n]=e[n]}function ll(t,e){this.a=t,this.b=[],this.c=b(this.yc,this),an(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&q(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ni]=t.uid),t.displayName&&(r[ti]=t.displayName),t.enrollmentTime&&(r[ei]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ri]=t.phoneNumber);try{e=new ii(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),hl(this,n)}function hl(t,e){t.b=e,zr(t,"enrolledFactors",e)}function fl(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function dl(t,e){t.stop(),t.b=En(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then((function(){return function(){var t=s.document,e=null;return qr()||!t?ke():new be((function(n){e=function(){qr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return t.h()})).then((function(){dl(t,!0)})).o((function(e){t.i(e)&&dl(t,!1)}))}function pl(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function vl(t,e){void 0===e&&(t.b?e=(e=t.b).a-e.g:e=0),t.c=Date.now()+1e3*e}function ml(t,e){t.b=Bi(e[Js]||""),t.a=e.refreshToken,vl(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function yl(t,e){return function(t,e){return new be((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?aa(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(ou(t)):t.access_token&&t.refresh_token?n(t):r(new T("internal-error")):r(new T("network-request-failed"))}),"POST",Qn(e).toString(),t.g,t.m.get()):r(new T("internal-error"))}))}(t.f,e).then((function(e){return t.b=Bi(e.access_token),t.a=e.refresh_token,vl(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function gl(t,e){this.a=t||null,this.b=e||null,Qr(this,{lastSignInTime:Br(e||null),creationTime:Br(t||null)})}function bl(t,e,n,r,i,o){Qr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function wl(t,e,n){this.J=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r=Ao.SDK_VERSION?kr(Ao.SDK_VERSION):null;this.a=new $s(this.l,D(S),r),t.emulatorConfig&&ia(this.a,t.emulatorConfig),this.b=new pl(this.a),Nl(this,e[Js]),ml(this.b,e),zr(this,"refreshToken",this.b.a),Cl(this,n||{}),bn.call(this),this.R=!1,this.s&&Or()&&(this.i=Yc(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(t){return new fl((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.aa=b(this.hb,this);var i=this;this.ya=null,this.Oa=function(t){i.wa(t.h)},this.ja=null,this.Aa=function(t){ia(i.a,t.c)},this.X=null,this.$=[],this.Ba=function(t){Tl(i,t.f)},this.ba=null,this.O=new ll(this,n),zr(this,"multiFactor",this.O)}function _l(t,e){t.ja&&ln(t.ja,"languageCodeChanged",t.Oa),(t.ja=e)&&an(e,"languageCodeChanged",t.Oa)}function Il(t,e){t.X&&ln(t.X,"emulatorConfigChanged",t.Aa),(t.X=e)&&an(e,"emulatorConfigChanged",t.Aa)}function Tl(t,e){t.$=e,sa(t.a,Ao.SDK_VERSION?kr(Ao.SDK_VERSION,t.$):null)}function El(t,e){t.ba&&ln(t.ba,"frameworkChanged",t.Ba),(t.ba=e)&&an(e,"frameworkChanged",t.Ba)}function Sl(t){try{return Ao.app(t.m).auth()}catch(e){throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function kl(t){t.D||t.u.b||(t.u.start(),ln(t,"tokenChanged",t.aa),an(t,"tokenChanged",t.aa))}function Al(t){ln(t,"tokenChanged",t.aa),t.u.stop()}function Nl(t,e){t.za=e,zr(t,"_lat",e)}function Dl(t){for(var e=[],n=0;n<t.S.length;n++)e.push(t.S[n](t));return De(e).then((function(){return t}))}function Ol(t){t.i&&!t.R&&(t.R=!0,Pc(t.i,t))}function Cl(t,e){Qr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new gl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function xl(){}function Rl(t){return ke().then((function(){if(t.D)throw new T("app-deleted")}))}function Pl(t){return G(t.providerData,(function(t){return t.providerId}))}function Ml(t,e){e&&(Ll(t,e.providerId),t.providerData.push(e))}function Ll(t,e){W(t.providerData,(function(t){return t.providerId==e}))}function Fl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&zr(t,e,n)}function Vl(t,e){t!=e&&(Qr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?zr(t,"metadata",function(t){return new gl(t.a,t.b)}(e.metadata)):zr(t,"metadata",new gl),q(e.providerData,(function(e){Ml(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),zr(t,"refreshToken",t.b.a),hl(t.O,e.O.b))}function Ul(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return ru(t.a,Pa,{idToken:e}).then(b(t.Kc,t))}(t,e).then((function(){return n||Fl(t,"isAnonymous",!1),e}))}))}function jl(t,e){e[Js]&&t.za!=e[Js]&&(ml(t.b,e),t.dispatchEvent(new cl("tokenChanged")),Nl(t,e[Js]),Fl(t,"refreshToken",t.b.a))}function ql(t,e){return Ul(t).then((function(){if(K(Pl(t),e))return Dl(t).then((function(){throw new T("provider-already-linked")}))}))}function Bl(t,e,n){return $r({user:t,credential:Vo(e),additionalUserInfo:e=zi(e),operationType:n})}function Gl(t,e){return jl(t,e),t.reload().then((function(){return t}))}function Yl(t,e,n,r,i){if(!Or())return Ae(new T("operation-not-supported-in-this-environment"));if(t.h&&!i)return Ae(t.h);var o=Wi(n.providerId),s=Fr(t.uid+":::"),a=null;(!Rr()||gr())&&t.s&&n.isOAuthProvider&&(a=gu(t.s,t.l,t.m,e,n,null,s,Ao.SDK_VERSION||null,null,null,t.tenantId));var u=dr(a,o&&o.ua,o&&o.ta);return r=r().then((function(){if(Hl(t),!i)return t.I().then((function(){}))})).then((function(){return Vc(t.i,u,e,n,s,!!a,t.tenantId)})).then((function(){return new be((function(n,r){t.na(e,null,new T("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=s,t.c=qc(t.i,t,e,u,s)}))})).then((function(t){return u&&fr(u),t?$r(t):null})).o((function(t){throw u&&fr(u),t})),Wl(t,r,i)}function Kl(t,e,n,r,i){if(!Or())return Ae(new T("operation-not-supported-in-this-environment"));if(t.h&&!i)return Ae(t.h);var o=null,s=Fr(t.uid+":::");return r=r().then((function(){if(Hl(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=s,Dl(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set($l,t.w(),e.a)),e})).then((function(){return jc(t.i,e,n,s,t.tenantId)})).o((function(e){if(o=e,t.ha)return Xl(t.ha);throw o})).then((function(){if(o)throw o})),Wl(t,r,i)}function Hl(t){if(!t.i||!t.R){if(t.i&&!t.R)throw new T("internal-error");throw new T("auth-domain-config-required")}}function Wl(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),Ae(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new cl("userInvalidated")),t.h=e),e}))}(t,e,n);return t.J.push(r),r.oa((function(){H(t.J,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ol(e.w(),Sl(t),b(t.jc,t))),n||e}))}function zl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Js]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new wl(e,n,t);return t.providerData&&q(t.providerData,(function(t){t&&Ml(i,$r(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Ql(t){this.a=t,this.b=ec()}el.prototype.Rc=function(t){var e=this;return t.sb(this.a.a,this.c).then((function(t){var n=ft(e.f);return delete n[nl],delete n[rl],pt(n,t),e.g(n)}))},_(il,T),sl.prototype.sb=function(t,e,n){return e.type==oo?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),pt(n,{phoneVerificationInfo:Mo(t.a)}),ru(e,xa,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return pt(n={mfaPendingCredential:n},{phoneVerificationInfo:Mo(t.a)}),ru(e,Ra,n)}))}(this,t,e)},_(al,sl),_(ul,al),_(cl,ze),(t=ll.prototype).yc=function(t){hl(this,function(t){var e=[];return q(t.mfaInfo||[],(function(t){(t=Zr(t))&&e.push(t)})),e}(t.hd))},t.Rb=function(){return this.a.I().then((function(t){return new io(t,null)}))},t.fc=function(t,e){var n=this,r=this.a.a;return this.Rb().then((function(n){return t.sb(r,n,e)})).then((function(t){return jl(n.a,t),n.a.reload()}))},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return ru(r,nu,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=B(e.b,(function(t){return t.uid!=n}));return hl(e,r),jl(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:G(this.b,(function(t){return t.w()}))}}},fl.prototype.start=function(){this.a=this.c,dl(this,!0)},fl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},pl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},pl.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ae(new T("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?yl(this,{grant_type:"refresh_token",refresh_token:this.a}):ke(null):ke({accessToken:this.b.toString(),refreshToken:this.a})},gl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},_(wl,bn),wl.prototype.wa=function(t){this.ya=t,ra(this.a,t)},wl.prototype.la=function(){return this.ya},wl.prototype.Ga=function(){return Q(this.$)},wl.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},zr(wl.prototype,"providerId","firebase"),(t=wl.prototype).reload=function(){var t=this;return Wl(this,Rl(this).then((function(){return Ul(t).then((function(){return Dl(t)})).then(xl)})))},t.oc=function(t){return this.I(t).then((function(t){return new tl(t)}))},t.I=function(t){var e=this;return Wl(this,Rl(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new T("internal-error");return t.accessToken!=e.za&&(Nl(e,t.accessToken),e.dispatchEvent(new cl("tokenChanged"))),Fl(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new T("internal-error");Cl(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?G(t,(function(t){return new bl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Ml(this,e[n]);Fl(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new cl("userReloaded",{hd:t}))},t.Lc=function(t){return Hr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(t)},t.tb=function(t){var e=this,n=null;return Wl(this,t.c(this.a,this.uid).then((function(t){return jl(e,t),n=Bl(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},t.Cc=function(t){return Hr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(t)},t.qb=function(t){var e=this,n=null;return Wl(this,ql(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Bl(e,t,"link"),Gl(e,t)})).then((function(){return n})))},t.Dc=function(t,e){var n=this;return Wl(this,ql(this,"phone").then((function(){return Zc(Sl(n),t,e,b(n.qb,n))})))},t.Mc=function(t,e){var n=this;return Wl(this,ke().then((function(){return Zc(Sl(n),t,e,b(n.tb,n))})),!0)},t.Bb=function(t){var e=this;return Wl(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return jl(e,t),e.reload()})))},t.ed=function(t){var e=this;return Wl(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return jl(e,t),e.reload()})))},t.Cb=function(t){var e=this;return Wl(this,this.I().then((function(n){return e.a.Cb(n,t)})).then((function(t){return jl(e,t),e.reload()})))},t.Db=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Rl(this);var e=this;return Wl(this,this.I().then((function(n){return e.a.Db(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return jl(e,t),Fl(e,"displayName",t.displayName||null),Fl(e,"photoURL",t.photoUrl||null),q(e.providerData,(function(t){"password"===t.providerId&&(zr(t,"displayName",e.displayName),zr(t,"photoURL",e.photoURL))})),Dl(e)})).then(xl))},t.cd=function(t){var e=this;return Wl(this,Ul(this).then((function(n){return K(Pl(e),t)?function(t,e,n){return ru(t,Da,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return q(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),q(Pl(e),(function(t){n[t]||Ll(e,t)})),n[Lo.PROVIDER_ID]||zr(e,"phoneNumber",null),Dl(e)})):Dl(e).then((function(){throw new T("no-such-provider")}))})))},t.delete=function(){var t=this;return Wl(this,this.I().then((function(e){return ru(t.a,Na,{idToken:e})})).then((function(){t.dispatchEvent(new cl("userDeleted"))}))).then((function(){for(var e=0;e<t.J.length;e++)t.J[e].cancel("app-deleted");_l(t,null),Il(t,null),El(t,null),t.J=[],t.D=!0,Al(t),zr(t,"refreshToken",null),t.i&&Mc(t.i,t)}))},t.Fb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?b(this.Kb,this):"reauthViaPopup"==t&&e==(this.g||null)?b(this.Lb,this):"linkViaRedirect"==t&&(this.ga||null)==e?b(this.Kb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?b(this.Lb,this):null},t.Ec=function(t){var e=this;return Yl(this,"linkViaPopup",t,(function(){return ql(e,t.providerId).then((function(){return Dl(e)}))}),!1)},t.Nc=function(t){return Yl(this,"reauthViaPopup",t,(function(){return ke()}),!0)},t.Fc=function(t){var e=this;return Kl(this,"linkViaRedirect",t,(function(){return ql(e,t.providerId)}),!1)},t.Oc=function(t){return Kl(this,"reauthViaRedirect",t,(function(){return ke()}),!0)},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Wl(this,this.I().then((function(n){return _a(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Bl(i,t,"link"),Gl(i,t)})).then((function(){return o})))},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Wl(this,ke().then((function(){return uo(Ia(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Bl(i,t,"reauthenticate"),jl(i,t),i.h=null,i.reload()})).then((function(){return o})),!0)},t.ub=function(t){var e=this,n=null;return Wl(this,this.I().then((function(e){return n=e,void 0===t||ht(t)?{}:Vi(new Ni(t))})).then((function(t){return e.a.ub(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Eb=function(t,e){var n=this,r=null;return Wl(this,this.I().then((function(t){return r=t,void 0===e||ht(e)?{}:Vi(new Ni(e))})).then((function(e){return n.a.Eb(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.jc=function(t){var e=null,n=this;return Wl(this,t=uo(ke(t),n.uid).then((function(t){return e=Bl(n,t,"reauthenticate"),jl(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&pt(t,this.metadata.w()),q(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),pt(t,this.O.w()),t};var $l={name:"redirectUser",F:"session"};function Xl(t){return ic(t.b,$l,t.a)}function Jl(t){this.a=t,this.b=ec(),this.c=null,this.f=function(t){var e=eh("local"),n=eh("session"),r=eh("none");return function(t,e,n){var r=rc(e,n),i=nc(t,e.F);return t.get(e,n).then((function(o){var a=null;try{a=Lr(s.localStorage.getItem(r))}catch(u){}if(a&&!o)return s.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(th,t.a).then((function(t){return t?eh(t):e}))}))}))})).then((function(e){return t.c=e,Zl(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(eh("local"),this.a,b(this.g,this))}function Zl(t,e){var n,r=[];for(n in Zu)Zu[n]!==e&&r.push(ic(t.b,eh(Zu[n]),t.a));return r.push(ic(t.b,th,t.a)),function(t){return new be((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)Ne(t[a],w(o,a),s);else e(i)}))}(r)}Jl.prototype.g=function(){var t=this,e=eh("local");oh(this,(function(){return ke().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Zl(t,"local").then((function(){t.c=e}))}))}))};var th={name:"persistence",F:"session"};function eh(t){return{name:"authUser",F:t}}function nh(t,e){return oh(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function rh(t){return oh(t,(function(){return ic(t.b,t.c,t.a)}))}function ih(t,e,n){return oh(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),zl(t||{})}))}))}function oh(t,e){return t.f=t.f.then(e,e),t.f}function sh(t){if(this.l=!1,zr(this,"settings",new Xc),zr(this,"app",t),!vh(this).options||!vh(this).options.apiKey)throw new T("invalid-api-key");t=Ao.SDK_VERSION?kr(Ao.SDK_VERSION):null,this.a=new $s(vh(this).options&&vh(this).options.apiKey,D(S),t),this.R=[],this.s=[],this.O=[],this.hb=Ao.INTERNAL.createSubscribe(b(this.zc,this)),this.X=void 0,this.bc=Ao.INTERNAL.createSubscribe(b(this.Ac,this)),dh(this,null),this.i=new Jl(vh(this).options.apiKey+":"+vh(this).name),this.D=new Ql(vh(this).options.apiKey+":"+vh(this).name),this.$=bh(this,function(t){var e=vh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get($l,t.a).then((function(t){return t&&e&&(t.authDomain=e),zl(t||{})}))}(t.D,vh(t).options.authDomain).then((function(e){return(t.m=e)&&(e.ha=t.D),Xl(t.D)}));return bh(t,e)}(t).then((function(){return ih(t.i,e,t.P)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return nh(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:rh(t.i)}))):null})).then((function(e){dh(t,e||null)}));return bh(t,n)}(this)),this.h=bh(this,function(t){return t.$.then((function(){return hh(t)})).o((function(){})).then((function(){if(!t.l)return t.ja()})).o((function(){})).then((function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(eh("local"),e.a,t.ja)}}))}(this)),this.ba=!1,this.ja=b(this.Zc,this),this.Ba=b(this.da,this),this.ya=b(this.mc,this),this.za=b(this.wc,this),this.Aa=b(this.xc,this),this.b=null,function(t){var e=vh(t).options.authDomain,n=vh(t).options.apiKey;e&&Or()&&(t.Oa=t.$.then((function(){if(!t.l){if(t.b=Yc(e,n,vh(t).name,t.P),Pc(t.b,t),mh(t)&&Ol(mh(t)),t.m){Ol(t.m);var r=t.m;r.wa(t.la()),_l(r,t),Tl(r=t.m,t.J),El(r,t),ia((r=t.m).a,t.P),Il(r,t),t.m=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Gc,this),this.u=0,bn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.yb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.P){var t=Fn(this.P.url);t=$r({protocol:t.c,host:t.a,port:t.g,options:$r({disableWarnings:this.P.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.P=null}function ah(t){ze.call(this,"languageCodeChanged"),this.h=t}function uh(t){ze.call(this,"emulatorConfigChanged"),this.c=t}function ch(t){ze.call(this,"frameworkChanged"),this.f=t}function lh(t){return t.Oa||Ae(new T("auth-domain-config-required"))}function hh(t){if(!Or())return Ae(new T("operation-not-supported-in-this-environment"));var e=lh(t).then((function(){return t.b.qa()})).then((function(t){return t?$r(t):null}));return bh(t,e)}function fh(t,e){var n={};return n.apiKey=vh(t).options.apiKey,n.authDomain=vh(t).options.authDomain,n.appName=vh(t).name,t.P&&(n.emulatorConfig=t.P),t.$.then((function(){return function(t,e,n,r){var i=new wl(t,e);return n&&(i.ha=n),r&&Tl(i,r),i.reload().then((function(){return i}))}(n,e,t.D,t.Ga())})).then((function(e){return mh(t)&&e.uid==mh(t).uid?(Vl(mh(t),e),t.da(e)):(dh(t,e),Ol(e),t.da(e))})).then((function(){gh(t)}))}function dh(t,e){mh(t)&&(function(t,e){W(t.S,(function(t){return t==e}))}(mh(t),t.Ba),ln(mh(t),"tokenChanged",t.ya),ln(mh(t),"userDeleted",t.za),ln(mh(t),"userInvalidated",t.Aa),Al(mh(t))),e&&(e.S.push(t.Ba),an(e,"tokenChanged",t.ya),an(e,"userDeleted",t.za),an(e,"userInvalidated",t.Aa),0<t.u&&kl(e)),zr(t,"currentUser",e),e&&(e.wa(t.la()),_l(e,t),Tl(e,t.J),El(e,t),ia(e.a,t.P),Il(e,t))}function ph(t,e){var n=null,r=null;return bh(t,e.then((function(e){return n=Vo(e),r=zi(e),fh(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ol(e.w(),t,b(t.kc,t))),n||e})).then((function(){return $r({user:mh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function vh(t){return t.app}function mh(t){return t.currentUser}function yh(t){return mh(t)&&mh(t)._lat||null}function gh(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](yh(t));if(t.X!==t.getUid()&&t.O.length)for(t.X=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](yh(t))}}function bh(t,e){return t.R.push(e),e.oa((function(){H(t.R,e)})),e}function wh(){}function _h(){this.a={},this.b=1e12}Jl.prototype.xb=function(t){var e=null,n=this;return function(t){var e=new T("invalid-persistence-type"),n=new T("unsupported-persistence-type");t:{for(r in Zu)if(Zu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(wr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!xu()&&"none"!==t)throw n;break;default:if(!Dr()&&"none"!==t)throw n}}(t),oh(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,Zl(n,t)})).then((function(){if(n.c=eh(t),e)return n.b.set(n.c,e,n.a)})):ke()}))},_(sh,bn),_(ah,ze),_(uh,ze),_(ch,ze),(t=sh.prototype).xb=function(t){return bh(this,t=this.i.xb(t))},t.wa=function(t){this.aa===t||this.l||(this.aa=t,ra(this.a,this.aa),this.dispatchEvent(new ah(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=s.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.P){if(!/^https?:\/\//.test(t))throw new T("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!t&&mr().then((function(){var t=s.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#b50000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),s.document.body.appendChild(t)}))})(e=!!e&&!!e.disableWarnings),this.P={url:t,ec:e},this.settings.ib=!0,ia(this.a,this.P),this.dispatchEvent(new uh(this.P))}},t.Gc=function(t){this.J.push(t),sa(this.a,Ao.SDK_VERSION?kr(Ao.SDK_VERSION,this.J):null),this.dispatchEvent(new ch(this.J))},t.Ga=function(){return Q(this.J)},t.yb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:vh(this).options.apiKey,authDomain:vh(this).options.authDomain,appName:vh(this).name,currentUser:mh(this)&&mh(this).w()}},t.Fb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?b(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return ph(i,wa(i.a,o))}))},t.Xc=function(t){if(!Or())return Ae(new T("operation-not-supported-in-this-environment"));var e=this,n=Wi(t.providerId),r=Fr(),i=null;(!Rr()||gr())&&vh(this).options.authDomain&&t.isOAuthProvider&&(i=gu(vh(this).options.authDomain,vh(this).options.apiKey,vh(this).name,"signInViaPopup",t,null,r,Ao.SDK_VERSION||null,null,null,this.T(),this.P));var o=dr(i,n&&n.ua,n&&n.ta);return bh(this,n=lh(this).then((function(n){return Vc(n,o,"signInViaPopup",t,r,!!i,e.T())})).then((function(){return new be((function(t,n){e.na("signInViaPopup",null,new T("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=r,e.c=qc(e.b,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&fr(o),t?$r(t):null})).o((function(t){throw o&&fr(o),t})))},t.Yc=function(t){if(!Or())return Ae(new T("operation-not-supported-in-this-environment"));var e=this;return bh(this,lh(this).then((function(){return function(t){return oh(t,(function(){return t.b.set(th,t.c.F,t.a)}))}(e.i)})).then((function(){return jc(e.b,"signInViaRedirect",t,void 0,e.T())})))},t.qa=function(){var t=this;return hh(this).then((function(e){return t.b&&Wc(t.b.b),e})).o((function(e){throw t.b&&Wc(t.b.b),e}))},t.dd=function(t){if(!t)return Ae(new T("null-user"));if(this.S!=t.tenantId)return Ae(new T("tenant-id-mismatch"));var e=this,n={};n.apiKey=vh(this).options.apiKey,n.authDomain=vh(this).options.authDomain,n.appName=vh(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Js]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new wl(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&Tl(e,r),Vl(e,t),e}(t,n,e.D,e.Ga());return bh(this,this.h.then((function(){if(vh(e).options.apiKey!=t.l)return r.reload()})).then((function(){return mh(e)&&t.uid==mh(e).uid?(Vl(mh(e),t),e.da(t)):(dh(e,r),Ol(r),e.da(r))})).then((function(){gh(e)})))},t.Ab=function(){var t=this;return bh(this,this.h.then((function(){return t.b&&Wc(t.b.b),mh(t)?(dh(t,null),rh(t.i).then((function(){gh(t)}))):ke()})))},t.Zc=function(){var t=this;return ih(this.i,vh(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=mh(t)&&e){n=mh(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Vl(mh(t),e),mh(t).I();(mh(t)||e)&&(dh(t,e),e&&(Ol(e),e.ha=t.D),t.b&&Pc(t.b,t),gh(t))}}))},t.da=function(t){return nh(this.i,t)},t.mc=function(){gh(this),this.da(mh(this))},t.wc=function(){this.Ab()},t.xc=function(){this.Ab()},t.kc=function(t){var e=this;return this.h.then((function(){return ph(e,ke(t))}))},t.zc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(mh(e))}))},t.Ac=function(t){var e=this;!function(t,e){t.O.push(e),bh(t,t.h.then((function(){!t.l&&K(t.O,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(yh(t)))})))}(this,(function(){t.next(mh(e))}))},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(mh(r)):"function"==typeof t.next&&t.next(mh(r))})),this.hb(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof t?t(mh(r)):"function"==typeof t.next&&t.next(mh(r))})),this.bc(t,e,n)},t.nc=function(t){var e=this;return bh(this,this.h.then((function(){return mh(e)?mh(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Tc=function(t){var e=this;return this.h.then((function(){return ph(e,ru(e.a,Xa,{token:t}))})).then((function(t){var n=t.user;return Fl(n,"isAnonymous",!1),e.da(n),t}))},t.Uc=function(t,e){var n=this;return this.h.then((function(){return ph(n,ru(n.a,Ja,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return ph(n,ru(n.a,ka,{email:t,password:e}))}))},t.$a=function(t){var e=this;return this.h.then((function(){return ph(e,t.ka(e.a))}))},t.Sc=function(t){return Hr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(t)},t.zb=function(){var t=this;return this.h.then((function(){var e=mh(t);if(e&&e.isAnonymous){var n=$r({providerId:null,isNewUser:!1});return $r({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return ph(t,t.a.zb()).then((function(e){var n=e.user;return Fl(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return mh(this)&&mh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&mh(this)&&kl(mh(this))},t.Pc=function(t){var e=this;q(this.s,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&mh(this)&&Al(mh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),bh(this,this.h.then((function(){e.l||K(e.s,t)&&t(yh(e))})))},t.removeAuthTokenListener=function(t){W(this.s,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.i&&(t=this.i).b.removeListener(eh("local"),t.a,this.ja),this.b&&(Mc(this.b,this),Wc(this.b.b)),Promise.resolve()},t.hc=function(t){return bh(this,function(t,e){return ru(t,Aa,{identifier:e,continueUri:Cr()?ur():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Bc=function(t){return!!xo(t)},t.wb=function(t,e){var n=this;return bh(this,ke().then((function(){var t=new Ni(e);if(!t.c)throw new T("argument-error",Ci+" must be true when sending sign in link to email");return Vi(t)})).then((function(e){return n.a.wb(t,e)})).then((function(){})))},t.jd=function(t){return this.Ra(t).then((function(t){return t.data.email}))},t.nb=function(t,e){return bh(this,this.a.nb(t,e).then((function(){})))},t.Ra=function(t){return bh(this,this.a.Ra(t).then((function(t){return new oi(t)})))},t.jb=function(t){return bh(this,this.a.jb(t).then((function(){})))},t.vb=function(t,e){var n=this;return bh(this,ke().then((function(){return void 0===e||ht(e)?{}:Vi(new Ni(e))})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},t.Wc=function(t,e){return bh(this,Zc(this,t,e,b(this.$a,this)))},t.Vc=function(t,e){var n=this;return bh(this,ke().then((function(){var r=e||ur(),i=Co(t,r);if(!(r=xo(r)))throw new T("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new T("tenant-id-mismatch");return n.$a(i)})))},wh.prototype.render=function(){},wh.prototype.reset=function(){},wh.prototype.getResponse=function(){},wh.prototype.execute=function(){};var Ih=null;function Th(t,e){return(e=Eh(e))&&t.a[e]||null}function Eh(t){return(t=void 0===t?1e12:t)?t.toString():null}function Sh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ae(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():an(this.f,"click",this.i)}function kh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Ah(){}function Nh(){}_h.prototype.render=function(t,e){return this.a[this.b.toString()]=new Sh(t,e),this.b++},_h.prototype.reset=function(t){var e=Th(this,t);t=Eh(t),e&&t&&(e.delete(),delete this.a[t])},_h.prototype.getResponse=function(t){return(t=Th(this,t))?t.getResponse():null},_h.prototype.execute=function(t){(t=Th(this,t))&&t.execute()},Sh.prototype.getResponse=function(){return kh(this),this.b},Sh.prototype.execute=function(){kh(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},Sh.prototype.delete=function(){kh(this),this.g=!0,clearTimeout(this.a),this.a=null,ln(this.f,"click",this.i)},zr(Ah,"FACTOR_ID","phone"),Nh.prototype.g=function(){return Ih||(Ih=new _h),ke(Ih)},Nh.prototype.c=function(){};var Dh=null;function Oh(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Ch=new mt(wt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),xh=new jr(3e4,6e4);Oh.prototype.g=function(t){var e=this;return new be((function(n,r){var i=setTimeout((function(){r(new T("network-request-failed"))}),xh.get());!s.grecaptcha||t!==e.f&&!e.b?(s[e.a]=function(){if(s.grecaptcha){e.f=t;var o=s.grecaptcha.render;s.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new T("internal-error"));delete s[e.a]},ke(Gs(Et(Ch,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},Oh.prototype.c=function(){this.b--};var Rh=null;function Ph(t,e,n,r,i,o,a){if(zr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=e,this.g=null,a?(Dh||(Dh=new Nh),a=Dh):(Rh||(Rh=new Oh),a=Rh),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Fh])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Vh],!s.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ae(e)||!this.i&&ae(e).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new $s(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Mh];this.a[Mh]=function(t){if(Uh(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Nr(c,s);"function"==typeof e&&e(t)}};var l=this.a[Lh];this.a[Lh]=function(){if(Uh(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=Nr(l,s);"function"==typeof t&&t()}}}var Mh="callback",Lh="expired-callback",Fh="sitekey",Vh="size";function Uh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function jh(t,e){return t.h.push(e),e.oa((function(){H(t.h,e)})),e}function qh(t){if(t.D)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}function Bh(t,e,n){var r=!1;try{this.b=n||Ao.app()}catch(s){throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new T("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(s){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}o=Ao.SDK_VERSION?kr(Ao.SDK_VERSION,o):null,Ph.call(this,n,t,e,(function(){try{var t=i.b.auth().la()}catch(e){t=null}return t}),o,D(S),r)}function Gh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Yh.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");n=Yh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new T("argument-error",t+" failed: "+r)}(t=Ph.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=jh(this,ke().then((function(){if(Cr()&&!br())return mr();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.u())})).then((function(e){return t.g=e,ru(t.s,ja,{})})).then((function(e){t.a[Fh]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){qh(this);var t=this;return jh(this,this.Ia().then((function(){if(null===t.c){var e=t.v;if(!t.i){var n=ae(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!se&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',qt(s.name),'"'),s.type){o.push(' type="',qt(s.type),'"');var a={};pt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=de(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ue(o,s)),2<r.length&&fe(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){qh(this);var t=this;return jh(this,this.render().then((function(e){return new be((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){W(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){qh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){qh(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ae(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},_(Bh,Ph);var Yh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Kh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function Hh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function Wh(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:p}}function zh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function Qh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function $h(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ka||!n)}}}function Xh(t,e){return p(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Jh(t){return p(t)&&"string"==typeof t.uid}function Zh(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function tf(t,e){for(var n in e){var r=e[n].name;t[r]=rf(r,t[n],e[n].j)}}function ef(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:w((function(t){return this[t]}),n),set:w((function(t,e,n,r){Gh(t,[n],[r],!0),this[e]=r}),r,n,e[n].kb),enumerable:!0})}}function nf(t,e,n,r){t[e]=rf(e,n,r)}function rf(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Gh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}tf(sh.prototype,{jb:{name:"applyActionCode",j:[Kh("code")]},Ra:{name:"checkActionCode",j:[Kh("code")]},nb:{name:"confirmPasswordReset",j:[Kh("code"),Kh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Kh("email"),Kh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Kh("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Kh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Zh(Wh(),zh(),"nextOrObserver"),zh("opt_error",!0),zh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Zh(Wh(),zh(),"nextOrObserver"),zh("opt_error",!0),zh("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[Kh("email"),Zh(Wh("opt_actionCodeSettings",!0),Qh(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[Kh("email"),Wh("actionCodeSettings")]},xb:{name:"setPersistence",j:[Kh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[$h()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[$h()]},Tc:{name:"signInWithCustomToken",j:[Kh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Kh("email"),Kh("password")]},Vc:{name:"signInWithEmailLink",j:[Kh("email"),Kh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Kh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Zh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof wl)}},Qh(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Kh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Kh("url"),Wh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Kh("code")]}}),ef(sh.prototype,{lc:{name:"languageCode",kb:Zh(Kh(),Qh(),"languageCode")},ti:{name:"tenantId",kb:Zh(Kh(),Qh(),"tenantId")}}),sh.Persistence=Zu,sh.Persistence.LOCAL="local",sh.Persistence.SESSION="session",sh.Persistence.NONE="none",tf(wl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Hh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Hh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[$h()]},qb:{name:"linkWithCredential",j:[$h()]},Dc:{name:"linkWithPhoneNumber",j:[Kh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[$h()]},tb:{name:"reauthenticateWithCredential",j:[$h()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Kh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Zh(Wh("opt_actionCodeSettings",!0),Qh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Kh(null,!0)]},cd:{name:"unlink",j:[Kh("provider")]},Bb:{name:"updateEmail",j:[Kh("email")]},Cb:{name:"updatePassword",j:[Kh("password")]},ed:{name:"updatePhoneNumber",j:[$h("phone")]},Db:{name:"updateProfile",j:[Wh("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[Kh("email"),Zh(Wh("opt_actionCodeSettings",!0),Qh(null,!0),"opt_actionCodeSettings",!0)]}}),tf(_h.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),tf(wh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),tf(be.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),ef(Xc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Hh("appVerificationDisabledForTesting")}}),tf(Jc.prototype,{confirm:{name:"confirm",j:[Kh("verificationCode")]}}),nf(ao,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[vo,Do,Po,ho],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Zh(Kh(),Wh(),"json")]),nf(Oo,"credential",(function(t,e){return new No(t,e)}),[Kh("email"),Kh("password")]),tf(No.prototype,{w:{name:"toJSON",j:[Kh(null,!0)]}}),tf(bo.prototype,{Ca:{name:"addScope",j:[Kh("scope")]},Ka:{name:"setCustomParameters",j:[Wh("customOAuthParameters")]}}),nf(bo,"credential",wo,[Zh(Kh(),Wh(),"token")]),nf(Oo,"credentialWithLink",Co,[Kh("email"),Kh("emailLink")]),tf(_o.prototype,{Ca:{name:"addScope",j:[Kh("scope")]},Ka:{name:"setCustomParameters",j:[Wh("customOAuthParameters")]}}),nf(_o,"credential",Io,[Zh(Kh(),Wh(),"token")]),tf(To.prototype,{Ca:{name:"addScope",j:[Kh("scope")]},Ka:{name:"setCustomParameters",j:[Wh("customOAuthParameters")]}}),nf(To,"credential",Eo,[Zh(Kh(),Zh(Wh(),Qh()),"idToken"),Zh(Kh(),Qh(),"accessToken",!0)]),tf(So.prototype,{Ka:{name:"setCustomParameters",j:[Wh("customOAuthParameters")]}}),nf(So,"credential",ko,[Zh(Kh(),Wh(),"token"),Kh("secret",!0)]),tf(go.prototype,{Ca:{name:"addScope",j:[Kh("scope")]},credential:{name:"credential",j:[Zh(Kh(),Zh(Wh(),Qh()),"optionsOrIdToken"),Zh(Kh(),Qh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Wh("customOAuthParameters")]}}),tf(fo.prototype,{w:{name:"toJSON",j:[Kh(null,!0)]}}),tf(co.prototype,{w:{name:"toJSON",j:[Kh(null,!0)]}}),nf(Lo,"credential",Fo,[Kh("verificationId"),Kh("verificationCode")]),tf(Lo.prototype,{fb:{name:"verifyPhoneNumber",j:[Zh(Kh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Xh(t.session,oo)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Xh(t.session,so)&&Jh(t.multiFactorHint):t.session&&t.multiFactorUid?Xh(t.session,so)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),tf(Ro.prototype,{w:{name:"toJSON",j:[Kh(null,!0)]}}),tf(T.prototype,{toJSON:{name:"toJSON",j:[Kh(null,!0)]}}),tf(Ho.prototype,{toJSON:{name:"toJSON",j:[Kh(null,!0)]}}),tf(Ko.prototype,{toJSON:{name:"toJSON",j:[Kh(null,!0)]}}),tf(il.prototype,{toJSON:{name:"toJSON",j:[Kh(null,!0)]}}),tf(el.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}}]}}),tf(ll.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}},Kh("displayName",!0)]},bd:{name:"unenroll",j:[Zh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Jh},Kh(),"multiFactorInfoIdentifier")]}}),tf(Bh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),nf(bi,"parseLink",Ai,[Kh("link")]),nf(Ah,"assertion",(function(t){return new ul(t)}),[$h("phone")]),function(){if(void 0===Ao||!Ao.INTERNAL||!Ao.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ai,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:si,VERIFY_AND_CHANGE_EMAIL:ui,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:sh,AuthCredential:ao,Error:T};nf(t,"EmailAuthProvider",Oo,[]),nf(t,"FacebookAuthProvider",bo,[]),nf(t,"GithubAuthProvider",_o,[]),nf(t,"GoogleAuthProvider",To,[]),nf(t,"TwitterAuthProvider",So,[]),nf(t,"OAuthProvider",go,[Kh("providerId")]),nf(t,"SAMLAuthProvider",yo,[Kh("providerId")]),nf(t,"PhoneAuthProvider",Lo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof sh)}}]),nf(t,"RecaptchaVerifier",Bh,[Zh(Kh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Wh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof Ao.app.App)}}]),nf(t,"ActionCodeURL",bi,[]),nf(t,"PhoneMultiFactorGenerator",Ah,[]),Ao.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new sh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),Ao.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:b((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:b(t.nc,t),addAuthTokenListener:b(t.cc,t),removeAuthTokenListener:b(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Ao.registerVersion("@firebase/auth","0.16.6"),Ao.INTERNAL.extendNamespace({User:wl})}()}.apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var ia=function(t,e){return(ia=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function oa(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var sa,aa="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ua=ua||{},ca=aa||self;function la(){}function ha(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function fa(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var da="closure_uid_"+(1e9*Math.random()>>>0),pa=0;function va(t,e,n){return t.call.apply(t.bind,arguments)}function ma(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function ya(t,e,n){return(ya=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?va:ma).apply(null,arguments)}function ga(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function ba(){return Date.now()}function wa(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function _a(){this.j=this.j,this.i=this.i}_a.prototype.j=!1,_a.prototype.ja=function(){var t;!this.j&&(this.j=!0,this.G(),0)&&(t=this,Object.prototype.hasOwnProperty.call(t,da)&&t[da]||(t[da]=++pa))},_a.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Ia=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Ta=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Ea(t){return Array.prototype.concat.apply([],arguments)}function Sa(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function ka(t){return/^[\s\xa0]*$/.test(t)}var Aa,Na=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Da(t,e){return-1!=t.indexOf(e)}function Oa(t,e){return t<e?-1:t>e?1:0}t:{var Ca=ca.navigator;if(Ca){var xa=Ca.userAgent;if(xa){Aa=xa;break t}}Aa=""}function Ra(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Pa(t){var e={};for(var n in t)e[n]=t[n];return e}var Ma="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function La(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Ma.length;o++)n=Ma[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Fa(t){return Fa[" "](t),t}Fa[" "]=la;var Va,Ua,ja=Da(Aa,"Opera"),qa=Da(Aa,"Trident")||Da(Aa,"MSIE"),Ba=Da(Aa,"Edge"),Ga=Ba||qa,Ya=Da(Aa,"Gecko")&&!(Da(Aa.toLowerCase(),"webkit")&&!Da(Aa,"Edge"))&&!(Da(Aa,"Trident")||Da(Aa,"MSIE"))&&!Da(Aa,"Edge"),Ka=Da(Aa.toLowerCase(),"webkit")&&!Da(Aa,"Edge");function Ha(){var t=ca.document;return t?t.documentMode:void 0}t:{var Wa="",za=(Ua=Aa,Ya?/rv:([^\);]+)(\)|;)/.exec(Ua):Ba?/Edge\/([\d\.]+)/.exec(Ua):qa?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ua):Ka?/WebKit\/(\S+)/.exec(Ua):ja?/(?:Version)[ \/]?(\S+)/.exec(Ua):void 0);if(za&&(Wa=za?za[1]:""),qa){var Qa=Ha();if(null!=Qa&&Qa>parseFloat(Wa)){Va=String(Qa);break t}}Va=Wa}var $a,Xa={};function Ja(t){return function(t,e){var n=Xa;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=Na(String(Va)).split("."),r=Na(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=Oa(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||Oa(0==s[2].length,0==a[2].length)||Oa(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}if(ca.document&&qa){var Za=Ha();$a=Za||(parseInt(Va,10)||void 0)}else $a=void 0;var tu=$a,eu=!qa||9<=Number(tu),nu=qa&&!Ja("9"),ru=function(){if(!ca.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ca.addEventListener("test",la,e),ca.removeEventListener("test",la,e)}catch(n){}return t}();function iu(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function ou(t,e){if(iu.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Ya){t:{try{Fa(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:su[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}iu.prototype.b=function(){this.defaultPrevented=!0},wa(ou,iu);var su={2:"touch",3:"pen",4:"mouse"};ou.prototype.b=function(){ou.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,nu)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var au="closure_listenable_"+(1e6*Math.random()|0),uu=0;function cu(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++uu,this.Y=this.Z=!1}function lu(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function hu(t){this.src=t,this.a={},this.b=0}function fu(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Ia(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(lu(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function du(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}hu.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=du(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new cu(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var pu="closure_lm_"+(1e6*Math.random()|0),vu={};function mu(t,e,n,r,i){if(r&&r.once)return gu(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)mu(t,e[o],n,r,i);return null}return n=ku(n),t&&t[au]?t.va(e,n,fa(r)?!!r.capture:!!r,i):yu(t,e,n,!1,r,i)}function yu(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=fa(i)?!!i.capture:!!i;if(s&&!eu)return null;var a=Eu(t);if(a||(t[pu]=a=new hu(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Tu,e=eu?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ru||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(_u(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function gu(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)gu(t,e[o],n,r,i);return null}return n=ku(n),t&&t[au]?t.wa(e,n,fa(r)?!!r.capture:!!r,i):yu(t,e,n,!0,r,i)}function bu(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)bu(t,e[o],n,r,i);else r=fa(r)?!!r.capture:!!r,n=ku(n),t&&t[au]?(t=t.c,(e=String(e).toString())in t.a&&(-1<(n=du(o=t.a[e],n,r,i))&&(lu(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=Eu(t))&&(e=t.a[e.toString()],t=-1,e&&(t=du(e,n,r,i)),(n=-1<t?e[t]:null)&&wu(n))}function wu(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[au])fu(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(_u(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Eu(e))?(fu(n,t),0==n.b&&(n.src=null,e[pu]=null)):lu(t)}}}function _u(t){return t in vu?vu[t]:vu[t]="on"+t}function Iu(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&wu(t),n.call(r,e)}function Tu(t,e){if(t.Y)return!0;if(!eu){if(!e)t:{e=["window","event"];for(var n=ca,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Iu(t,e=new ou(e,this))}return Iu(t,new ou(e,this))}function Eu(t){return(t=t[pu])instanceof hu?t:null}var Su="__closure_events_fn_"+(1e9*Math.random()>>>0);function ku(t){return"function"==typeof t?t:(t[Su]||(t[Su]=function(e){return t.handleEvent(e)}),t[Su])}function Au(){_a.call(this),this.c=new hu(this),this.J=this,this.C=null}function Nu(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new iu(e,t);else if(e instanceof iu)e.target=e.target||t;else{var i=e;La(e=new iu(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=Du(s,r,!0,e)&&i}if(i=Du(s=e.a=t,r,!0,e)&&i,i=Du(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Du(s=e.a=n[o],r,!1,e)&&i}function Du(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&fu(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}wa(Au,_a),Au.prototype[au]=!0,(sa=Au.prototype).addEventListener=function(t,e,n,r){mu(this,t,e,n,r)},sa.removeEventListener=function(t,e,n,r){bu(this,t,e,n,r)},sa.G=function(){if(Au.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)lu(n[r]);delete e.a[t],e.b--}}this.C=null},sa.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},sa.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Ou=ca.JSON.stringify;function Cu(){this.b=this.a=null}var xu,Ru=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new Mu}),(function(t){t.reset()}));function Pu(){var t=Uu,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Mu(){this.next=this.b=this.a=null}function Lu(t){ca.setTimeout((function(){throw t}),0)}function Fu(t,e){xu||function(){var t=ca.Promise.resolve(void 0);xu=function(){t.then(ju)}}(),Vu||(xu(),Vu=!0),Uu.add(t,e)}Cu.prototype.add=function(t,e){var n=Ru.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Mu.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Mu.prototype.reset=function(){this.next=this.b=this.a=null};var Vu=!1,Uu=new Cu;function ju(){for(var t;t=Pu();){try{t.a.call(t.b)}catch(n){Lu(n)}var e=Ru;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Vu=!1}function qu(t,e){Au.call(this),this.b=t||1,this.a=e||ca,this.f=ya(this.Za,this),this.g=ba()}function Bu(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Gu(t,e,n){if("function"==typeof t)n&&(t=ya(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=ya(t.handleEvent,t)}return 2147483647<Number(e)?-1:ca.setTimeout(t,e||0)}function Yu(t){t.a=Gu((function(){t.a=null,t.c&&(t.c=!1,Yu(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}wa(qu,Au),(sa=qu.prototype).aa=!1,sa.M=null,sa.Za=function(){if(this.aa){var t=ba()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Nu(this,"tick"),this.aa&&(Bu(this),this.start()))}},sa.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=ba())},sa.G=function(){qu.X.G.call(this),Bu(this),delete this.a};var Ku=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}ia(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Yu(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(ca.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(_a);function Hu(t){_a.call(this),this.b=t,this.a={}}wa(Hu,_a);var Wu=[];function zu(t,e,n,r){Array.isArray(n)||(n&&(Wu[0]=n.toString()),n=Wu);for(var i=0;i<n.length;i++){var o=mu(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Qu(t){Ra(t.a,(function(t,e){this.a.hasOwnProperty(e)&&wu(t)}),t),t.a={}}function $u(){this.a=!0}function Xu(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Ou(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}Hu.prototype.G=function(){Hu.X.G.call(this),Qu(this)},Hu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},$u.prototype.info=function(){};var Ju={},Zu=null;function tc(){return Zu=Zu||new Au}function ec(t){iu.call(this,Ju.Fa,t)}function nc(t){var e=tc();Nu(e,new ec(e,t))}function rc(t,e){iu.call(this,Ju.STAT_EVENT,t),this.stat=e}function ic(t){var e=tc();Nu(e,new rc(e,t))}function oc(t){iu.call(this,Ju.Ga,t)}function sc(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ca.setTimeout((function(){t()}),e)}Ju.Fa="serverreachability",wa(ec,iu),Ju.STAT_EVENT="statevent",wa(rc,iu),Ju.Ga="timingevent",wa(oc,iu);var ac={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},uc={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function cc(){}function lc(t){var e;return(e=t.a)||(e=t.a={}),e}function hc(){}cc.prototype.a=null;var fc,dc={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function pc(){iu.call(this,"d")}function vc(){iu.call(this,"c")}function mc(){}function yc(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Hu(this),this.P=gc,t=Ga?125:void 0,this.R=new qu(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}wa(pc,iu),wa(vc,iu),wa(mc,cc),fc=new mc;var gc=45e3,bc={},wc={};function _c(t,e,n){t.H=1,t.i=Gc(Fc(e)),t.j=n,t.I=!0,Ic(t,null)}function Ic(t,e){t.u=ba(),Sc(t),t.l=Fc(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),nl(n.b,"t",r),t.D=0,t.a=$l(t.g,t.g.C?e:null),0<t.O&&(t.F=new Ku(ya(t.Ca,t,t.a),t.O)),zu(t.J,t.a,"readystatechange",t.Xa),e=t.B?Pa(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),nc(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function Tc(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Ec(t,n);if(i==wc){4==e&&(t.h=4,ic(14),r=!1),Xu(t.c,t.f,null,"[Incomplete Response]");break}if(i==bc){t.h=4,ic(15),Xu(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Xu(t.c,t.f,i,null),Oc(t,i)}4==e&&0==n.length&&(t.h=1,ic(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Bl(e),e.F=!0,ic(11))):(Xu(t.c,t.f,n,"[Invalid Chunked Response]"),Dc(t),Nc(t))}function Ec(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?wc:(n=Number(e.substring(n,r)),isNaN(n)?bc:(r+=1)+n>e.length?wc:(e=e.substr(r,n),t.D=r+n,e))}function Sc(t){t.T=ba()+t.P,kc(t,t.P)}function kc(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=sc(ya(t.Va,t),e)}function Ac(t){t.o&&(ca.clearTimeout(t.o),t.o=null)}function Nc(t){0==t.g.v||t.A||Kl(t.g,t)}function Dc(t){Ac(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Bu(t.R),Qu(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Oc(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||cl(n.b,t)))if(n.I=t.N,!t.C&&cl(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(m){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Yl(n),Rl(n)}ql(n),ic(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=sc(ya(n.Sa,n),6e3));if(1>=ul(n.b)&&n.ea){try{n.ea()}catch(m){}n.ea=void 0}}else Wl(n,11)}else if((t.C||n.a==t)&&Yl(n),!ka(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Da(l,"spdy")||Da(l,"quic")||Da(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(ll(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Bc(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=ba()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=Ql(u,u.C?u.ga:null,u.fa),d.C){hl(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&(Ac(p),Sc(p)),u.a=d}else jl(u);0<n.g.length&&Ll(n)}else"stop"!=i[0]&&"close"!=i[0]||Wl(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Wl(n,7):xl(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);nc(4)}catch(m){}}function Cc(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ha(t)||"string"==typeof t)Ta(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(ha(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(ha(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function xc(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof xc)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Rc(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Pc(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Pc(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Pc(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(sa=yc.prototype).setTimeout=function(t){this.P=t},sa.Xa=function(t){t=t.target;var e=this.F;e&&3==Nl(t)?e.f():this.Ca(t)},sa.Ca=function(t){try{if(t==this.a)t:{var e=Nl(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Ga&&!this.a.$())){this.A||4!=e||7==n||nc(8==n||0>=r?3:2),Ac(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ka(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,ic(12),Dc(this),Nc(this);break t}Xu(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Oc(this,u)}this.I?(Tc(this,e,o),Ga&&this.b&&3==e&&(zu(this.J,this.R,"tick",this.Wa),this.R.start())):(Xu(this.c,this.f,o,null),Oc(this,o)),4==e&&Dc(this),this.b&&!this.A&&(4==e?Kl(this.g,this):(this.b=!1,Sc(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,ic(12)):(this.h=0,ic(13)),Dc(this),Nc(this)}}}catch(c){}},sa.Wa=function(){if(this.a){var t=Nl(this.a),e=this.a.$();this.D<e.length&&(Ac(this),Tc(this,t,e),this.b&&4!=t&&Sc(this))}},sa.cancel=function(){this.A=!0,Dc(this)},sa.Va=function(){this.o=null;var t=ba();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(nc(3),ic(17)),Dc(this),this.h=2,Nc(this)):kc(this,this.T-t)},(sa=xc.prototype).K=function(){Rc(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},sa.L=function(){return Rc(this),this.a.concat()},sa.get=function(t,e){return Pc(this.b,t)?this.b[t]:e},sa.set=function(t,e){Pc(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},sa.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Mc=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Lc(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Lc){this.a=void 0!==e?e:t.a,Vc(this,t.f),this.j=t.j,Uc(this,t.c),jc(this,t.h),this.g=t.g,e=t.b;var n=new Jc;n.c=e.c,e.a&&(n.a=new xc(e.a),n.b=e.b),qc(this,n),this.i=t.i}else t&&(n=String(t).match(Mc))?(this.a=!!e,Vc(this,n[1]||"",!0),this.j=Yc(n[2]||""),Uc(this,n[3]||"",!0),jc(this,n[4]),this.g=Yc(n[5]||"",!0),qc(this,n[6]||"",!0),this.i=Yc(n[7]||"")):(this.a=!!e,this.b=new Jc(null,this.a))}function Fc(t){return new Lc(t)}function Vc(t,e,n){t.f=n?Yc(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Uc(t,e,n){t.c=n?Yc(e,!0):e}function jc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function qc(t,e,n){e instanceof Jc?(t.b=e,function(t,e){e&&!t.f&&(Zc(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(tl(this,e),nl(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Kc(e,$c)),t.b=new Jc(e,t.a))}function Bc(t,e,n){t.b.set(e,n)}function Gc(t){return Bc(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^ba()).toString(36)),t}function Yc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Kc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Hc),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Hc(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Lc.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Kc(e,Wc,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Kc(e,Wc,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Kc(n,"/"==n.charAt(0)?Qc:zc,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Kc(n,Xc)),t.join("")};var Wc=/[#\/\?@]/g,zc=/[#\?:]/g,Qc=/[#\?]/g,$c=/[#\?@]/g,Xc=/#/g;function Jc(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Zc(t){t.a||(t.a=new xc,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function tl(t,e){Zc(t),e=rl(t,e),Pc(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Pc((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Rc(t)))}function el(t,e){return Zc(t),e=rl(t,e),Pc(t.a.b,e)}function nl(t,e,n){tl(t,e),0<n.length&&(t.c=null,t.a.set(rl(t,e),Sa(n)),t.b+=n.length)}function rl(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(sa=Jc.prototype).add=function(t,e){Zc(this),this.c=null,t=rl(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},sa.forEach=function(t,e){Zc(this),this.a.forEach((function(n,r){Ta(n,(function(n){t.call(e,n,r,this)}),this)}),this)},sa.L=function(){Zc(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},sa.K=function(t){Zc(this);var e=[];if("string"==typeof t)el(this,t)&&(e=Ea(e,this.a.get(rl(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Ea(e,t[n])}return e},sa.set=function(t,e){return Zc(this),this.c=null,el(this,t=rl(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},sa.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},sa.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var il=function(t,e){this.b=t,this.a=e};function ol(t){this.g=t||sl,ca.PerformanceNavigationTiming?t=0<(t=ca.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(ca.ia&&ca.ia.ya&&ca.ia.ya()&&ca.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var sl=10;function al(t){return!!t.b||!!t.a&&t.a.size>=t.f}function ul(t){return t.b?1:t.a?t.a.size:0}function cl(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function ll(t,e){t.a?t.a.add(e):t.b=e}function hl(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function fl(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=oa(t.a.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.s)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Sa(t.c)}function dl(){}function pl(){this.a=new dl}function vl(t,e,n){var r=n||"";try{Cc(t,(function(t,n){var i=t;fa(t)&&(i=Ou(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(u_){throw e.push(r+"type="+encodeURIComponent("_badmap")),u_}}function ml(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}ol.prototype.cancel=function(){var t,e;if(this.c=fl(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=oa(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},dl.prototype.stringify=function(t){return ca.JSON.stringify(t,void 0)},dl.prototype.parse=function(t){return ca.JSON.parse(t,void 0)};var yl=ca.JSON.parse;function gl(t){Au.call(this),this.headers=new xc,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=bl,this.D=this.F=!1}wa(gl,Au);var bl="",wl=/^https?$/i,_l=["POST","PUT"];function Il(t){return"content-type"==t.toLowerCase()}function Tl(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,El(t),kl(t)}function El(t){t.u||(t.u=!0,Nu(t,"complete"),Nu(t,"error"))}function Sl(t){if(t.b&&void 0!==ua&&(!t.s[1]||4!=Nl(t)||2!=t.W()))if(t.l&&4==Nl(t))Gu(t.za,0,t);else if(Nu(t,"readystatechange"),4==Nl(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Mc)[1]||null;if(!o&&ca.self&&ca.self.location){var s=ca.self.location.protocol;o=s.substr(0,s.length-1)}i=!wl.test(o?o.toLowerCase():"")}e=i}if(e)Nu(t,"complete"),Nu(t,"success");else{t.h=6;try{var a=2<Nl(t)?t.a.statusText:""}catch(u){a=""}t.f=a+" ["+t.W()+"]",El(t)}}finally{kl(t)}}}function kl(t,e){if(t.a){Al(t);var n=t.a,r=t.s[0]?la:null;t.a=null,t.s=null,e||Nu(t,"ready");try{n.onreadystatechange=r}catch(u_){}}}function Al(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(ca.clearTimeout(t.m),t.m=null)}function Nl(t){return t.a?t.a.readyState:0}function Dl(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Ra(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Bc(t,e,n))}function Ol(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Cl(t){this.pa=0,this.g=[],this.c=new $u,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Ol("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Ol("baseRetryDelayMs",5e3,t),this.Ra=Ol("retryDelaySeedMs",1e4,t),this.Ma=Ol("forwardChannelMaxRetries",2,t),this.ma=Ol("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new ol(t&&t.concurrentRequestLimit),this.ka=new pl,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function xl(t){if(Pl(t),3==t.v){var e=t.R++,n=Fc(t.B);Bc(n,"SID",t.J),Bc(n,"RID",e),Bc(n,"TYPE","terminate"),Vl(t,n),(e=new yc(t,t.c,e,void 0)).H=2,e.i=Gc(Fc(n)),n=!1,ca.navigator&&ca.navigator.sendBeacon&&(n=ca.navigator.sendBeacon(e.i.toString(),"")),!n&&ca.Image&&((new Image).src=e.i,n=!0),n||(e.a=$l(e.g,null),e.a.ba(e.i)),e.u=ba(),Sc(e)}zl(t)}function Rl(t){t.a&&(Bl(t),t.a.cancel(),t.a=null)}function Pl(t){Rl(t),t.j&&(ca.clearTimeout(t.j),t.j=null),Yl(t),t.b.cancel(),t.h&&("number"==typeof t.h&&ca.clearTimeout(t.h),t.h=null)}function Ml(t,e){t.g.push(new il(t.Oa++,e)),3==t.v&&Ll(t)}function Ll(t){al(t.b)||t.h||(t.h=!0,Fu(t.Ba,t),t.u=0)}function Fl(t,e){var n;n=e?e.f:t.R++;var r=Fc(t.B);Bc(r,"SID",t.J),Bc(r,"RID",n),Bc(r,"AID",t.P),Vl(t,r),t.i&&t.l&&Dl(r,t.i,t.l),n=new yc(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Ul(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),ll(t.b,n),_c(n,r,e)}function Vl(t,e){t.f&&Cc({},(function(t,n){Bc(e,n,t)}))}function Ul(t,e,n){n=Math.min(t.g.length,n);var r=t.f?ya(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].b,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{vl(l,s,"req"+c+"_")}catch(h){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function jl(t){t.a||t.j||(t.T=1,Fu(t.Aa,t),t.o=0)}function ql(t){return!(t.a||t.j||3<=t.o)&&(t.T++,t.j=sc(ya(t.Aa,t),Hl(t,t.o)),t.o++,!0)}function Bl(t){null!=t.s&&(ca.clearTimeout(t.s),t.s=null)}function Gl(t){t.a=new yc(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Fc(t.la);Bc(e,"RID","rpc"),Bc(e,"SID",t.J),Bc(e,"CI",t.H?"0":"1"),Bc(e,"AID",t.P),Vl(t,e),Bc(e,"TYPE","xmlhttp"),t.i&&t.l&&Dl(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Gc(Fc(e)),n.j=null,n.I=!0,Ic(n,t)}function Yl(t){null!=t.m&&(ca.clearTimeout(t.m),t.m=null)}function Kl(t,e){var n=null;if(t.a==e){Yl(t),Bl(t),t.a=null;var r=2}else{if(!cl(t.b,e))return;n=e.s,hl(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=ba()-e.u;var i=t.u;Nu(r=tc(),new oc(r,n,e,i)),Ll(t)}else jl(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(ul(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=sc(ya(t.Ba,t,e),Hl(t,t.u)),t.u++,0)))}(t,e)||2==r&&ql(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Wl(t,5);break;case 4:Wl(t,10);break;case 3:Wl(t,6);break;default:Wl(t,2)}}function Hl(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Wl(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=ya(t.Ya,t);n||(n=new Lc("//www.google.com/images/cleardot.gif"),ca.location&&"http"==ca.location.protocol||Vc(n,"https"),Gc(n)),function(t,e){var n=new $u;if(ca.Image){var r=new Image;r.onload=ga(ml,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ga(ml,n,r,"TestLoadImage: error",!1,e),r.onabort=ga(ml,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ga(ml,n,r,"TestLoadImage: timeout",!1,e),ca.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else ic(2);t.v=0,t.f&&t.f.ra(e),zl(t),Pl(t)}function zl(t){t.v=0,t.I=-1,t.f&&(0==fl(t.b).length&&0==t.g.length||(t.b.c.length=0,Sa(t.g),t.g.length=0),t.f.qa())}function Ql(t,e,n){var r=function(t){return t instanceof Lc?Fc(t):new Lc(t,void 0)}(n);if(""!=r.c)e&&Uc(r,e+"."+r.c),jc(r,r.h);else{var i=ca.location;r=function(t,e,n,r){var i=new Lc(null,void 0);return t&&Vc(i,t),e&&Uc(i,e),n&&jc(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Ra(t.V,(function(t,e){Bc(r,e,t)})),e=t.A,n=t.na,e&&n&&Bc(r,e,n),Bc(r,"VER",t.ha),Vl(t,r),r}function $l(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new gl(t.Na)).F=t.C,e}function Xl(){}function Jl(){if(qa&&!(10<=Number(tu)))throw Error("Environmental error: no available transport.")}function Zl(t,e){Au.call(this),this.a=new Cl(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!ka(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ka(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new nh(this)}function th(t){pc.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function eh(){vc.call(this),this.status=1}function nh(t){this.a=t}(sa=gl.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?lc(this.H):lc(fc),this.a.onreadystatechange=ya(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void Tl(this,o)}t=n||"";var i=new xc(this.headers);r&&Cc(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Il,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=ca.FormData&&t instanceof ca.FormData,!(0<=Ia(_l,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Al(this),0<this.o&&((this.D=function(t){return qa&&Ja(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=ya(this.xa,this)):this.m=Gu(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Tl(this,o)}},sa.xa=function(){void 0!==ua&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Nu(this,"timeout"),this.abort(8))},sa.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Nu(this,"complete"),Nu(this,"abort"),kl(this))},sa.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),kl(this,!0)),gl.X.G.call(this)},sa.za=function(){this.j||(this.A||this.l||this.g?Sl(this):this.Ua())},sa.Ua=function(){Sl(this)},sa.W=function(){try{return 2<Nl(this)?this.a.status:-1}catch(Ua){return-1}},sa.$=function(){try{return this.a?this.a.responseText:""}catch(Ua){return""}},sa.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),yl(e)}},sa.ua=function(){return this.h},sa.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(sa=Cl.prototype).ha=8,sa.v=1,sa.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new yc(this,this.c,t,void 0),r=this.l;if(this.O&&(r?La(r=Pa(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Ul(this,n,e),Bc(i=Fc(this.B),"RID",t),Bc(i,"CVER",22),this.A&&Bc(i,"X-HTTP-Session-Id",this.A),Vl(this,i),this.i&&r&&Dl(i,this.i,r),ll(this.b,n),this.Ia&&Bc(i,"TYPE","init"),this.da?(Bc(i,"$req",e),Bc(i,"SID","null"),n.U=!0,_c(n,i,null)):_c(n,i,e),this.v=2}}else 3==this.v&&(t?Fl(this,t):0==this.g.length||al(this.b)||Fl(this))},sa.Aa=function(){if(this.j=null,Gl(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=sc(ya(this.Ta,this),t)}},sa.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,ic(10),Rl(this),Gl(this))},sa.Sa=function(){null!=this.m&&(this.m=null,Rl(this),ql(this),ic(19))},sa.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),ic(2)):(this.c.info("Failed to ping google.com"),ic(1))},(sa=Xl.prototype).ta=function(){},sa.sa=function(){},sa.ra=function(){},sa.qa=function(){},sa.Ja=function(){},Jl.prototype.a=function(t,e){return new Zl(t,e)},wa(Zl,Au),Zl.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;ic(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Ql(t,null,t.fa),Ll(t)},Zl.prototype.close=function(){xl(this.a)},Zl.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Ml(this.a,e)}else this.l?((e={}).__data__=Ou(t),Ml(this.a,e)):Ml(this.a,t)},Zl.prototype.G=function(){this.a.f=null,delete this.f,xl(this.a),delete this.a,Zl.X.G.call(this)},wa(th,pc),wa(eh,vc),wa(nh,Xl),nh.prototype.ta=function(){Nu(this.a,"a")},nh.prototype.sa=function(t){Nu(this.a,new th(t))},nh.prototype.ra=function(t){Nu(this.a,new eh(t))},nh.prototype.qa=function(){Nu(this.a,"b")},Jl.prototype.createWebChannel=Jl.prototype.a,Zl.prototype.send=Zl.prototype.h,Zl.prototype.open=Zl.prototype.g,Zl.prototype.close=Zl.prototype.close,ac.NO_ERROR=0,ac.TIMEOUT=8,ac.HTTP_ERROR=6,uc.COMPLETE="complete",hc.EventType=dc,dc.OPEN="a",dc.CLOSE="b",dc.ERROR="c",dc.MESSAGE="d",Au.prototype.listen=Au.prototype.va,gl.prototype.listenOnce=gl.prototype.wa,gl.prototype.getLastError=gl.prototype.Qa,gl.prototype.getLastErrorCode=gl.prototype.ua,gl.prototype.getStatus=gl.prototype.W,gl.prototype.getResponseJson=gl.prototype.Pa,gl.prototype.getResponseText=gl.prototype.$,gl.prototype.send=gl.prototype.ba;var rh=ac,ih=uc,oh=Ju,sh=10,ah=11,uh=hc,ch=gl,lh=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();lh.o=-1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var hh={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},fh=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return ki(e,t),e}(Error),dh=new ho("@firebase/firestore");function ph(){return dh.logLevel}function vh(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(dh.logLevel<=ro.DEBUG){var r=e.map(gh);dh.debug.apply(dh,xi(["Firestore (8.6.2): "+t],r))}}function mh(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(dh.logLevel<=ro.ERROR){var r=e.map(gh);dh.error.apply(dh,xi(["Firestore (8.6.2): "+t],r))}}function yh(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(dh.logLevel<=ro.WARN){var r=e.map(gh);dh.warn.apply(dh,xi(["Firestore (8.6.2): "+t],r))}}function gh(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(n){return t}var e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.6.2) INTERNAL ASSERTION FAILED: "+t;throw mh(e),new Error(e)}function wh(t,e){t||bh()}function _h(t,e){return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Th=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Ih(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Eh(t,e){return t<e?-1:t>e?1:0}function Sh(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function kh(t){return t+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ah=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new fh(hh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new fh(hh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new fh(hh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new fh(hh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Eh(this.nanoseconds,t.nanoseconds):Eh(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Nh=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Ah(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Oh(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ch(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xh=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&bh(),void 0===n?n=t.length-e:n>t.length-e&&bh(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Rh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ki(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new fh(hh.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(xh),Ph=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Mh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ki(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Ph.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new fh(hh.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new fh(hh.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new fh(hh.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new fh(hh.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(xh),Lh=function(){function t(t){this.fields=t,t.sort(Mh.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Sh(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Fh=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Eh(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Fh.EMPTY_BYTE_STRING=new Fh("");var Vh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Uh(t){if(wh(!!t),"string"==typeof t){var e=0,n=Vh.exec(t);if(wh(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:jh(t.seconds),nanos:jh(t.nanos)}}function jh(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function qh(t){return"string"==typeof t?Fh.fromBase64String(t):Fh.fromUint8Array(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Gh(t){var e=t.mapValue.fields.__previous_value__;return Bh(e)?Gh(e):e}function Yh(t){var e=Uh(t.mapValue.fields.__local_write_time__.timestampValue);return new Ah(e.seconds,e.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(t){return null==t}function Hh(t){return 0===t&&1/t==-1/0}function Wh(t){return"number"==typeof t&&Number.isInteger(t)&&!Hh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zh=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Rh.fromString(e))},t.fromName=function(e){return new t(Rh.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Rh.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Rh.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Rh(e.slice()))},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Bh(t)?4:10:bh()}function $h(t,e){var n,r=Qh(t);if(r!==Qh(e))return!1;switch(r){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yh(t).isEqual(Yh(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Uh(t.timestampValue),r=Uh(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return n=e,qh(t.bytesValue).isEqual(qh(n.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return jh(t.geoPointValue.latitude)===jh(e.geoPointValue.latitude)&&jh(t.geoPointValue.longitude)===jh(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return jh(t.integerValue)===jh(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=jh(t.doubleValue),r=jh(e.doubleValue);return n===r?Hh(n)===Hh(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Sh(t.arrayValue.values||[],e.arrayValue.values||[],$h);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Dh(n)!==Dh(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!$h(n[i],r[i])))return!1;return!0}(t,e);default:return bh()}}function Xh(t,e){return void 0!==(t.values||[]).find((function(t){return $h(t,e)}))}function Jh(t,e){var n,r,i,o,s=Qh(t),a=Qh(e);if(s!==a)return Eh(s,a);switch(s){case 0:return 0;case 1:return Eh(t.booleanValue,e.booleanValue);case 2:return r=e,i=jh((n=t).integerValue||n.doubleValue),o=jh(r.integerValue||r.doubleValue),i<o?-1:i>o?1:i===o?0:isNaN(i)?isNaN(o)?0:-1:1;case 3:return Zh(t.timestampValue,e.timestampValue);case 4:return Zh(Yh(t),Yh(e));case 5:return Eh(t.stringValue,e.stringValue);case 6:return function(t,e){var n=qh(t),r=qh(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Eh(n[i],r[i]);if(0!==o)return o}return Eh(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Eh(jh(t.latitude),jh(e.latitude));return 0!==n?n:Eh(jh(t.longitude),jh(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Jh(n[i],r[i]);if(o)return o}return Eh(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Eh(r[s],o[s]);if(0!==a)return a;var u=Jh(n[r[s]],i[o[s]]);if(0!==u)return u}return Eh(r.length,o.length)}(t.mapValue,e.mapValue);default:throw bh()}}function Zh(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Eh(t,e);var n=Uh(t),r=Uh(e),i=Eh(n.seconds,r.seconds);return 0!==i?i:Eh(n.nanos,r.nanos)}function tf(t){return ef(t)}function ef(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(e=t.timestampValue,"time("+(n=Uh(e)).seconds+","+n.nanos+")"):"stringValue"in t?t.stringValue:"bytesValue"in t?qh(t.bytesValue).toBase64():"referenceValue"in t?(i=t.referenceValue,zh.fromName(i).toString()):"geoPointValue"in t?"geo("+(r=t.geoPointValue).latitude+","+r.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=ef(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+ef(t.fields[o])}return e+"}"}(t.mapValue):bh();var e,n,r,i}function nf(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function rf(t){return!!t&&"integerValue"in t}function of(t){return!!t&&"arrayValue"in t}function sf(t){return!!t&&"nullValue"in t}function af(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function uf(t){return!!t&&"mapValue"in t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cf=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(Mh.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach((function(t,n){t?e.set(n,t):e.delete(n)}))},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return $h(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Qh(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,o=t.extractNestedValue(this.partialValue,e),s=uf(o)?Object.assign({},o.mapValue.fields):{};return n.forEach((function(t,n){if(t instanceof Map){var o=r.applyOverlay(e.child(n),t);null!=o&&(s[n]=o,i=!0)}else null!==t?(s[n]=t,i=!0):s.hasOwnProperty(n)&&(delete s[n],i=!0)})),i?{mapValue:{fields:s}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(Mh.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!uf(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function lf(t){var e=[];return Oh(t.fields||{},(function(t,n){var r=new Mh([t]);if(uf(n)){var i=lf(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++){var a=s[o];e.push(r.child(a))}}else e.push(r)})),new Lh(e)}var hf=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Nh.min(),cf.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,cf.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,cf.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=cf.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=cf.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),ff=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new ff(t,e,n,r,i,o,s)}function pf(t){var e=_h(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return(e=t).field.canonicalString()+e.op.toString()+tf(e.value);var e})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.canonicalString()+e.dir;var e})).join(","),Kh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Af(e.startAt)),e.endAt&&(n+="|ub:",n+=Af(e.endAt)),e.h=n}return e.h}function vf(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Df(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!$h(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Cf(t.startAt,e.startAt)&&Cf(t.endAt,e.endAt)}function mf(t){return zh.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var yf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return ki(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new gf(t,n,r):"array-contains"===n?new If(t,r):"in"===n?new Tf(t,r):"not-in"===n?new Ef(t,r):"array-contains-any"===n?new Sf(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new bf(t,n):new wf(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Jh(e,this.value)):null!==e&&Qh(this.value)===Qh(e)&&this.m(Jh(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return bh()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),gf=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=zh.fromName(r.referenceValue),i}return ki(e,t),e.prototype.matches=function(t){var e=zh.comparator(t.key,this.key);return this.m(e)},e}(yf),bf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=_f("in",n),r}return ki(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(yf),wf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=_f("not-in",n),r}return ki(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(yf);function _f(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return zh.fromName(t.referenceValue)}))}var If=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return ki(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return of(e)&&Xh(e.arrayValue,this.value)},e}(yf),Tf=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return ki(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&Xh(this.value.arrayValue,e)},e}(yf),Ef=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return ki(e,t),e.prototype.matches=function(t){if(Xh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!Xh(this.value.arrayValue,e)},e}(yf),Sf=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return ki(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!of(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Xh(e.value.arrayValue,t)}))},e}(yf),kf=function(t,e){this.position=t,this.before=e};function Af(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return tf(t)})).join(",")}var Nf=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Df(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Of(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?zh.comparator(zh.fromName(s.referenceValue),n.key):Jh(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Cf(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!$h(t.position[n],e.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xf=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null,this.startAt,this.endAt};function Rf(t,e,n,r,i,o,s,a){return new xf(t,e,n,r,i,o,s,a)}function Pf(t){return new xf(t)}function Mf(t){return!Kh(t.limit)&&"F"===t.limitType}function Lf(t){return!Kh(t.limit)&&"L"===t.limitType}function Ff(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Vf(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Uf(t){return null!==t.collectionGroup}function jf(t){var e=_h(t);if(null===e.p){e.p=[];var n=Vf(e),r=Ff(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Nf(n)),e.p.push(new Nf(Mh.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Nf(Mh.keyField(),u))}}}return e.p}function qf(t){var e=_h(t);if(!e.T)if("F"===e.limitType)e.T=df(e.path,e.collectionGroup,jf(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=jf(e);r<i.length;r++){var o=i[r],s="desc"===o.dir?"asc":"desc";n.push(new Nf(o.field,s))}var a=e.endAt?new kf(e.endAt.position,!e.endAt.before):null,u=e.startAt?new kf(e.startAt.position,!e.startAt.before):null;e.T=df(e.path,e.collectionGroup,n,e.filters,e.limit,a,u)}return e.T}function Bf(t,e,n){return new xf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gf(t,e){return vf(qf(t),qf(e))&&t.limitType===e.limitType}function Yf(t){return pf(qf(t))+"|lt:"+t.limitType}function Kf(t){return"Query(target="+(e=qf(t),n=e.path.canonicalString(),null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: ["+e.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+tf(e.value);var e})).join(", ")+"]"),Kh(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: ["+e.orderBy.map((function(t){return(e=t).field.canonicalString()+" ("+e.dir+")";var e})).join(", ")+"]"),e.startAt&&(n+=", startAt: "+Af(e.startAt)),e.endAt&&(n+=", endAt: "+Af(e.endAt)),"Target("+n+"); limitType=")+t.limitType+")";var e,n}function Hf(t,e){return e.isFoundDocument()&&(n=t,i=(r=e).key.path,null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):zh.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i))&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Of(t.startAt,jf(t),e)||t.endAt&&Of(t.endAt,jf(t),e))}(t,e);var n,r,i}function Wf(t){return function(e,n){for(var r=!1,i=0,o=jf(t);i<o.length;i++){var s=o[i],a=zf(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function zf(t,e,n){var r,i,o,s,a=t.field.isKeyField()?zh.comparator(e.key,n.key):(r=t.field,i=n,o=e.data.field(r),s=i.data.field(r),null!==o&&null!==s?Jh(o,s):bh());switch(t.dir){case"asc":return a;case"desc":return-1*a;default:return bh()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hh(e)?"-0":e}}function $f(t){return{integerValue:""+t}}function Xf(t,e){return Wh(e)?$f(e):Qf(t,e)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jf=function(){this._=void 0};function Zf(t,e,n){return t instanceof nd?(i=e,o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(r=n).seconds,nanos:r.nanoseconds}}}},i&&(o.fields.__previous_value__=i),{mapValue:o}):t instanceof rd?id(t,e):t instanceof od?sd(t,e):function(t,e){var n=ed(t,e),r=ud(n)+ud(t.A);return rf(n)&&rf(t.A)?$f(r):Qf(t.R,r)}(t,e);var r,i,o}function td(t,e,n){return t instanceof rd?id(t,e):t instanceof od?sd(t,e):n}function ed(t,e){return t instanceof ad?rf(r=e)||(n=r)&&"doubleValue"in n?e:{integerValue:0}:null;var n,r}var nd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ki(e,t),e}(Jf),rd=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return ki(e,t),e}(Jf);function id(t,e){for(var n=cd(e),r=function(t){n.some((function(e){return $h(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var od=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return ki(e,t),e}(Jf);function sd(t,e){for(var n=cd(e),r=function(t){n=n.filter((function(e){return!$h(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ad=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return ki(e,t),e}(Jf);function ud(t){return jh(t.integerValue||t.doubleValue)}function cd(t){return of(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ld=function(t,e){this.field=t,this.transform=e},hd=function(t,e){this.version=t,this.transformResults=e},fd=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function dd(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var pd=function(){};function vd(t,e,n){var r,i,o,s,a;t instanceof wd?(i=e,o=n,s=(r=t).value.clone(),a=Td(r.fieldTransforms,i,o.transformResults),s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()):t instanceof _d?function(t,e,n){if(dd(t.precondition,e)){var r=Td(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Id(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function md(t,e,n){var r;t instanceof wd?function(t,e,n){if(dd(t.precondition,e)){var r=t.value.clone(),i=Ed(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(bd(e),r).setHasLocalMutations()}}(t,e,n):t instanceof _d?function(t,e,n){if(dd(t.precondition,e)){var r=Ed(t.fieldTransforms,n,e),i=e.data;i.setAll(Id(t)),i.setAll(r),e.convertToFoundDocument(bd(e),i).setHasLocalMutations()}}(t,e,n):(r=e,dd(t.precondition,r)&&r.convertToNoDocument(Nh.min()))}function yd(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=ed(o.transform,s||null);null!=a&&(null==n&&(n=cf.empty()),n.set(o.field,a))}return n||null}function gd(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(n=t.fieldTransforms,r=e.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&Sh(n,r,(function(t,e){return r=e,(n=t).field.isEqual(r.field)&&(i=n.transform,o=r.transform,i instanceof rd&&o instanceof rd||i instanceof od&&o instanceof od?Sh(i.elements,o.elements,$h):i instanceof ad&&o instanceof ad?$h(i.A,o.A):i instanceof nd&&o instanceof nd);var n,r,i,o}))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}function bd(t){return t.isFoundDocument()?t.version:Nh.min()}var wd=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return ki(e,t),e}(pd),_d=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return ki(e,t),e}(pd);function Id(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function Td(t,e,n){var r=new Map;wh(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,td(s,a,n[i]))}return r}function Ed(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,Zf(a,u,e))}return r}var Sd,kd,Ad=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return ki(e,t),e}(pd),Nd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return ki(e,t),e}(pd),Dd=function(t){this.count=t};function Od(t){switch(t){case hh.OK:return bh();case hh.CANCELLED:case hh.UNKNOWN:case hh.DEADLINE_EXCEEDED:case hh.RESOURCE_EXHAUSTED:case hh.INTERNAL:case hh.UNAVAILABLE:case hh.UNAUTHENTICATED:return!1;case hh.INVALID_ARGUMENT:case hh.NOT_FOUND:case hh.ALREADY_EXISTS:case hh.PERMISSION_DENIED:case hh.FAILED_PRECONDITION:case hh.ABORTED:case hh.OUT_OF_RANGE:case hh.UNIMPLEMENTED:case hh.DATA_LOSS:return!0;default:return bh()}}function Cd(t){if(void 0===t)return mh("GRPC error has no .code"),hh.UNKNOWN;switch(t){case Sd.OK:return hh.OK;case Sd.CANCELLED:return hh.CANCELLED;case Sd.UNKNOWN:return hh.UNKNOWN;case Sd.DEADLINE_EXCEEDED:return hh.DEADLINE_EXCEEDED;case Sd.RESOURCE_EXHAUSTED:return hh.RESOURCE_EXHAUSTED;case Sd.INTERNAL:return hh.INTERNAL;case Sd.UNAVAILABLE:return hh.UNAVAILABLE;case Sd.UNAUTHENTICATED:return hh.UNAUTHENTICATED;case Sd.INVALID_ARGUMENT:return hh.INVALID_ARGUMENT;case Sd.NOT_FOUND:return hh.NOT_FOUND;case Sd.ALREADY_EXISTS:return hh.ALREADY_EXISTS;case Sd.PERMISSION_DENIED:return hh.PERMISSION_DENIED;case Sd.FAILED_PRECONDITION:return hh.FAILED_PRECONDITION;case Sd.ABORTED:return hh.ABORTED;case Sd.OUT_OF_RANGE:return hh.OUT_OF_RANGE;case Sd.UNIMPLEMENTED:return hh.UNIMPLEMENTED;case Sd.DATA_LOSS:return hh.DATA_LOSS;default:return bh()}}(kd=Sd||(Sd={}))[kd.OK=0]="OK",kd[kd.CANCELLED=1]="CANCELLED",kd[kd.UNKNOWN=2]="UNKNOWN",kd[kd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kd[kd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kd[kd.NOT_FOUND=5]="NOT_FOUND",kd[kd.ALREADY_EXISTS=6]="ALREADY_EXISTS",kd[kd.PERMISSION_DENIED=7]="PERMISSION_DENIED",kd[kd.UNAUTHENTICATED=16]="UNAUTHENTICATED",kd[kd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kd[kd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kd[kd.ABORTED=10]="ABORTED",kd[kd.OUT_OF_RANGE=11]="OUT_OF_RANGE",kd[kd.UNIMPLEMENTED=12]="UNIMPLEMENTED",kd[kd.INTERNAL=13]="INTERNAL",kd[kd.UNAVAILABLE=14]="UNAVAILABLE",kd[kd.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var xd=function(){function t(t,e){this.comparator=t,this.root=e||Pd.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pd.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pd.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Rd(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Rd(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Rd(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Rd(this.root,t,this.comparator,!0)},t}(),Rd=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Pd=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw bh();if(this.right.isRed())throw bh();var t=this.left.check();if(t!==this.right.check())throw bh();return t+(this.isRed()?0:1)},t}();Pd.EMPTY=null,Pd.RED=!0,Pd.BLACK=!1,Pd.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw bh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw bh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw bh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw bh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw bh()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Pd(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Md=function(){function t(t){this.comparator=t,this.data=new xd(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Ld(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Ld(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Ld=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Fd=new xd(zh.comparator);function Vd(){return Fd}var Ud=new xd(zh.comparator);function jd(){return Ud}var qd=new xd(zh.comparator);var Bd=new Md(zh.comparator);function Gd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Bd,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Yd=new Md(Eh);function Kd(){return Yd}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hd=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Wd.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Nh.min(),r,Kd(),Vd(),Gd())},t}(),Wd=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Fh.EMPTY_BYTE_STRING,n,Gd(),Gd(),Gd())},t}(),zd=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},Qd=function(t,e){this.targetId=t,this.V=e},$d=function(t,e,n,r){void 0===n&&(n=Fh.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Xd=function(){function t(){this.S=0,this.D=tp(),this.C=Fh.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=Gd(),e=Gd(),n=Gd();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:bh()}})),new Wd(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=tp()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),Jd=function(){function t(t){this.W=t,this.G=new Map,this.H=Vd(),this.J=Zd(),this.Y=new Md(Eh)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:bh()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(mf(i))if(0===n){var o=new zh(i.path);this.tt(e,o,hf.newNoDocument(o,Nh.min()))}else wh(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.at=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var o=e.ot(i);if(o){if(r.current&&mf(o.target)){var s=new zh(o.target.path);null!==e.H.get(s)||e.ut(i,s)||e.tt(i,s,hf.newNoDocument(s,t))}r.O&&(n.set(i,r.M()),r.L())}}));var r=Gd();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Hd(t,n,this.Y,this.H,r);return this.H=Vd(),this.J=Zd(),this.Y=new Md(Eh),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.ut(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.ut(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Xd,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Md(Eh),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||vh("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Xd),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.ut=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Zd(){return new xd(zh.comparator)}function tp(){return new xd(zh.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ep={asc:"ASCENDING",desc:"DESCENDING"},np={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rp=function(t,e){this.databaseId=t,this.I=e};function ip(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function op(t,e){return t.I?e.toBase64():e.toUint8Array()}function sp(t,e){return ip(t,e.toTimestamp())}function ap(t){return wh(!!t),Nh.fromTimestamp((e=Uh(t),new Ah(e.seconds,e.nanos)));var e}function up(t,e){return(n=t,new Rh(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function cp(t){var e=Rh.fromString(t);return wh(xp(e)),e}function lp(t,e){return up(t.databaseId,e.path)}function hp(t,e){var n=cp(e);if(n.get(1)!==t.databaseId.projectId)throw new fh(hh.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fh(hh.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new zh(vp(n))}function fp(t,e){return up(t.databaseId,e)}function dp(t){var e=cp(t);return 4===e.length?Rh.emptyPath():vp(e)}function pp(t){return new Rh(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vp(t){return wh(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function mp(t,e,n){return{name:lp(t,e),fields:n.toProto().mapValue.fields}}function yp(t,e){var n,r,i;if(e instanceof wd)n={update:mp(t,e.key,e.value)};else if(e instanceof Ad)n={delete:lp(t,e.key)};else if(e instanceof _d)n={update:mp(t,e.key,e.data),updateMask:Cp(e.fieldMask)};else{if(!(e instanceof Nd))return bh();n={verify:lp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof nd)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof rd)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof od)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ad)return{fieldPath:e.field.canonicalString(),increment:n.A};throw bh()}(0,t)}))),e.precondition.isNone||(n.currentDocument=(r=t,void 0!==(i=e.precondition).updateTime?{updateTime:sp(r,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:bh())),n}function gp(t,e){var n,r=e.currentDocument?void 0!==(n=e.currentDocument).updateTime?fd.updateTime(ap(n.updateTime)):void 0!==n.exists?fd.exists(n.exists):fd.none():fd.none(),i=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)wh("REQUEST_TIME"===e.setToServerValue),n=new nd;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new rd(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new od(i)}else"increment"in e?n=new ad(t,e.increment):bh();var o=Mh.fromServerFormat(e.fieldPath);return new ld(o,n)}(t,e)})):[];if(e.update){e.update.name;var o=hp(t,e.update.name),s=new cf({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){var e=t.fieldPaths||[];return new Lh(e.map((function(t){return Mh.fromServerFormat(t)})))}(e.updateMask);return new _d(o,s,a,r,i)}return new wd(o,s,r,i)}if(e.delete){var u=hp(t,e.delete);return new Ad(u,r)}if(e.verify){var c=hp(t,e.verify);return new Nd(c,r)}return bh()}function bp(t,e){return{documents:[fp(t,e.path)]}}function wp(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=fp(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=fp(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(af(t.value))return{unaryFilter:{field:Ap(t.field),op:"IS_NAN"}};if(sf(t.value))return{unaryFilter:{field:Ap(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(af(t.value))return{unaryFilter:{field:Ap(t.field),op:"IS_NOT_NAN"}};if(sf(t.value))return{unaryFilter:{field:Ap(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ap(t.field),op:kp(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return{field:Ap((e=t).field),direction:Sp(e.dir)};var e}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s,a,u=(s=t,a=e.limit,s.I||Kh(a)?a:{value:a});return null!==u&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=Tp(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Tp(e.endAt)),n}function _p(t){var e=dp(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){wh(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=Ip(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return new Nf(Np((e=t).field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction));var e})));var u,c,l=null;n.limit&&(u=n.limit,l=Kh(c="object"==typeof u?u.value:u)?null:c);var h=null;n.startAt&&(h=Ep(n.startAt));var f=null;return n.endAt&&(f=Ep(n.endAt)),Rf(e,i,a,s,l,"F",h,f)}function Ip(t){return t?void 0!==t.unaryFilter?[Op(t)]:void 0!==t.fieldFilter?[Dp(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return Ip(t)})).reduce((function(t,e){return t.concat(e)})):bh():[]}function Tp(t){return{before:t.before,values:t.position}}function Ep(t){var e=!!t.before,n=t.values||[];return new kf(n,e)}function Sp(t){return ep[t]}function kp(t){return np[t]}function Ap(t){return{fieldPath:t.canonicalString()}}function Np(t){return Mh.fromServerFormat(t.fieldPath)}function Dp(t){return yf.create(Np(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return bh()}}(t.fieldFilter.op),t.fieldFilter.value)}function Op(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Np(t.unaryFilter.field);return yf.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Np(t.unaryFilter.field);return yf.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Np(t.unaryFilter.field);return yf.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Np(t.unaryFilter.field);return yf.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return bh()}}function Cp(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function xp(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Mp(e)),e=Pp(t.get(n),e);return Mp(e)}function Pp(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Mp(t){return t+""}function Lp(t){var e=t.length;if(wh(e>=2),2===e)return wh(""===t.charAt(0)&&""===t.charAt(1)),Rh.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("",o);switch((s<0||s>n)&&bh(),t.charAt(s+1)){case"":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:bh()}o=s+2}return new Rh(r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fp=function(t,e){this.seconds=t,this.nanoseconds=e},Vp=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Vp.store="owner",Vp.key="owner";var Up=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Up.store="mutationQueues",Up.keyPath="userId";var jp=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};jp.store="mutations",jp.keyPath="batchId",jp.userMutationsIndex="userMutationsIndex",jp.userMutationsKeyPath=["userId","batchId"];var qp=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Rp(e)]},t.key=function(t,e,n){return[t,Rp(e),n]},t}();qp.store="documentMutations",qp.PLACEHOLDER=new qp;var Bp=function(t,e){this.path=t,this.readTime=e},Gp=function(t,e){this.path=t,this.version=e},Yp=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Yp.store="remoteDocuments",Yp.readTimeIndex="readTimeIndex",Yp.readTimeIndexPath="readTime",Yp.collectionReadTimeIndex="collectionReadTimeIndex",Yp.collectionReadTimeIndexPath=["parentPath","readTime"];var Kp=function(t){this.byteSize=t};Kp.store="remoteDocumentGlobal",Kp.key="remoteDocumentGlobalKey";var Hp=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Hp.store="targets",Hp.keyPath="targetId",Hp.queryTargetsIndexName="queryTargetsIndex",Hp.queryTargetsKeyPath=["canonicalId","targetId"];var Wp=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Wp.store="targetDocuments",Wp.keyPath=["targetId","path"],Wp.documentTargetsIndex="documentTargetsIndex",Wp.documentTargetsKeyPath=["path","targetId"];var zp=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};zp.key="targetGlobalKey",zp.store="targetGlobal";var Qp=function(t,e){this.collectionId=t,this.parent=e};Qp.store="collectionParents",Qp.keyPath=["collectionId","parent"];var $p=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};$p.store="clientMetadata",$p.keyPath="clientId";var Xp=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Xp.store="bundles",Xp.keyPath="bundleId";var Jp=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Jp.store="namedQueries",Jp.keyPath="name";var Zp=xi(xi([],xi(xi([],xi(xi([],xi(xi([],[Up.store,jp.store,qp.store,Yp.store,Hp.store,Vp.store,zp.store,Wp.store]),[$p.store])),[Kp.store])),[Qp.store])),[Xp.store,Jp.store]),tv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ev=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),nv=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},rv=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&bh(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),iv=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new nv,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new av(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=fv(e.target.error);n.ft.reject(new av(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(o){throw new av(n,o)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(vh("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new cv(e)},t}(),ov=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Li())&&mh("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return vh("SimpleDb","Removing database:",t),lv(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Li(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Ni(this,void 0,void 0,(function(){var e,n=this;return Di(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(vh("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new av(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new fh(hh.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new av(t,n))},i.onupgradeneeded=function(t){vh("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.wt.Rt(e,i.transaction,t.oldVersion,n.version).next((function(){vh("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Ni(this,void 0,void 0,(function(){var i,o,s,a,u;return Di(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Di(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=iv.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),rv.reject(t)})).toPromise(),u={},s.catch((function(){})),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return c=h.sent(),l="FirebaseError"!==c.name&&o<3,vh("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),sv=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return lv(this.Pt.delete())},t}(),av=function(t){function e(e,n){var r=this;return(r=t.call(this,hh.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return ki(e,t),e}(fh);function uv(t){return"IndexedDbTransactionError"===t.name}var cv=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(vh("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(vh("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),lv(n)},t.prototype.add=function(t){return vh("SimpleDb","ADD",this.store.name,t,t),lv(this.store.add(t))},t.prototype.get=function(t){var e=this;return lv(this.store.get(t)).next((function(n){return void 0===n&&(n=null),vh("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return vh("SimpleDb","DELETE",this.store.name,t),lv(this.store.delete(t))},t.prototype.count=function(){return vh("SimpleDb","COUNT",this.store.name),lv(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Ft=function(t,e){vh("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new rv((function(n,r){e.onerror=function(t){var e=fv(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new rv((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new sv(i),s=e(i.primaryKey,i.value,o);if(s instanceof rv){var a=s.catch((function(t){return o.done(),rv.reject(t)}));n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return rv.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function lv(t){return new rv((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=fv(t.target.error);n(e)}}))}var hv=!1;function fv(t){var e=ov._t(Li());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new fh("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return hv||(hv=!0,setTimeout((function(){throw r}),0)),r}}return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return ki(e,t),e}(ev);function pv(t,e){var n=_h(t);return ov.It(n.Mt,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vv=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&vd(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&md(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&md(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Nh.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Gd())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Sh(this.mutations,t.mutations,(function(t,e){return gd(t,e)}))&&Sh(this.baseMutations,t.baseMutations,(function(t,e){return gd(t,e)}))},t}(),mv=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){wh(e.mutations.length===r.length);for(var i=qd,o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),yv=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Nh.min()),void 0===o&&(o=Nh.min()),void 0===s&&(s=Fh.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),gv=function(t){this.Lt=t};function bv(t,e){if(e.document)return function(t,e,n){var r=hp(t,e.name),i=ap(e.updateTime),o=new cf({mapValue:{fields:e.fields}}),s=hf.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=zh.fromSegments(e.noDocument.path),r=Ev(e.noDocument.readTime),i=hf.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=zh.fromSegments(e.unknownDocument.path);return r=Ev(e.unknownDocument.version),hf.newUnknownDocument(o,r)}return bh()}function wv(t,e,n){var r,i,o=_v(n),s=e.key.path.popLast().toArray();if(e.isFoundDocument()){var a={name:lp(r=t.Lt,(i=e).key),fields:i.data.toProto().mapValue.fields,updateTime:ip(r,i.version.toTimestamp())},u=e.hasCommittedMutations;return new Yp(null,null,a,u,o,s)}if(e.isNoDocument()){var c=e.key.path.toArray(),l=Tv(e.version);return u=e.hasCommittedMutations,new Yp(null,new Bp(c,l),null,u,o,s)}if(e.isUnknownDocument()){var h=e.key.path.toArray(),f=Tv(e.version);return new Yp(new Gp(h,f),null,null,!0,o,s)}return bh()}function _v(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Iv(t){var e=new Ah(t[0],t[1]);return Nh.fromTimestamp(e)}function Tv(t){var e=t.toTimestamp();return new Fp(e.seconds,e.nanoseconds)}function Ev(t){var e=new Ah(t.seconds,t.nanoseconds);return Nh.fromTimestamp(e)}function Sv(t,e){for(var n=(e.baseMutations||[]).map((function(e){return gp(t.Lt,e)})),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var s=e.mutations.map((function(e){return gp(t.Lt,e)})),a=Ah.fromMillis(e.localWriteTimeMs);return new vv(e.batchId,a,n,s)}function kv(t){var e,n,r=Ev(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Ev(t.lastLimboFreeSnapshotVersion):Nh.min();return void 0!==t.query.documents?(wh(1===(n=t.query).documents.length),e=qf(Pf(dp(n.documents[0])))):e=qf(_p(t.query)),new yv(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Fh.fromBase64String(t.resumeToken))}function Av(t,e){var n,r=Tv(e.snapshotVersion),i=Tv(e.lastLimboFreeSnapshotVersion);n=mf(e.target)?bp(t.Lt,e.target):wp(t.Lt,e.target);var o=e.resumeToken.toBase64();return new Hp(e.targetId,pf(e.target),r,o,e.sequenceNumber,i,n)}function Nv(t){var e=_p({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Bf(e,e.limit,"L"):e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dv=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Ov(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Ev(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return Ov(t).put({bundleId:(n=e).id,createTime:Tv(ap(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Cv(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Nv(e.bundledQuery),readTime:Ev(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return Cv(t).put({name:(n=e).name,readTime:Tv(ap(n.readTime)),bundledQuery:n.bundledQuery});var n},t}();function Ov(t){return pv(t,Xp.store)}function Cv(t){return pv(t,Jp.store)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xv=function(){function t(){this.Bt=new Rv}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),rv.resolve()},t.prototype.getCollectionParents=function(t,e){return rv.resolve(this.Bt.getEntries(e))},t}(),Rv=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Md(Rh.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Md(Rh.comparator)).toArray()},t}(),Pv=function(){function t(){this.qt=new Rv}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:r,parent:Rp(i)};return Mv(t).put(o)}return rv.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[kh(e),""],!1,!0);return Mv(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Lp(o.parent))}return n}))},t}();function Mv(t){return pv(t,Qp.store)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Fv=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(t,e,n){var r=t.store(jp.store),i=t.store(qp.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.Ot({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){wh(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=qp.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return rv.waitFor(o).next((function(){return c}))}function Uv(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw bh();e=t.noDocument}return JSON.stringify(e).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fv.DEFAULT_COLLECTION_PERCENTILE=10,Fv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fv.DEFAULT=new Fv(41943040,Fv.DEFAULT_COLLECTION_PERCENTILE,Fv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fv.DISABLED=new Fv(-1,0,0);var jv=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return wh(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Bv(t).Ot({index:jp.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=Gv(t),s=Bv(t);return s.add({}).next((function(a){wh("number"==typeof a);for(var u=new vv(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return yp(t.Lt,e)})),i=n.mutations.map((function(e){return yp(t.Lt,e)}));return new jp(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new Md((function(t,e){return Eh(t.canonicalString(),e.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],v=qp.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(v,qp.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Qt[a]=u.keys()})),rv.waitFor(l).next((function(){return u}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Bv(t).get(e).next((function(t){return t?(wh(t.userId===n.userId),Sv(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?rv.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Bv(t).Ot({index:jp.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(wh(e.batchId>=r),o=Sv(n.R,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Bv(t).Ot({index:jp.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Bv(t).Nt(jp.userMutationsIndex,n).next((function(t){return t.map((function(t){return Sv(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=qp.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Gv(t).Ot({range:i},(function(r,i,s){var a=r[0],u=r[1],c=r[2],l=Lp(u);if(a===n.userId&&e.path.isEqual(l))return Bv(t).get(c).next((function(t){if(!t)throw bh();wh(t.userId===n.userId),o.push(Sv(n.R,t))}));s.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Md(Eh),i=[];return e.forEach((function(e){var o=qp.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Gv(t).Ot({range:s},(function(t,i,o){var s=t[0],a=t[1],u=t[2],c=Lp(a);s===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(a)})),rv.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=qp.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Md(Eh);return Gv(t).Ot({range:s},(function(t,e,o){var s=t[0],u=t[1],c=t[2],l=Lp(u);s===n.userId&&r.isPrefixOf(l)?l.length===i&&(a=a.add(c)):o.done()})).next((function(){return n.Wt(t,a)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Bv(t).get(e).next((function(t){if(null===t)throw bh();wh(t.userId===n.userId),r.push(Sv(n.R,t))})))})),rv.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return Vv(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),rv.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return rv.resolve();var r=IDBKeyRange.lowerBound(qp.prefixForUser(e.userId)),i=[];return Gv(t).Ot({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Lp(t[1]);i.push(o)}else r.done()})).next((function(){wh(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return qv(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return Yv(t).get(this.userId).next((function(t){return t||new Up(e.userId,-1,"")}))},t}();function qv(t,e,n){var r=qp.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Gv(t).Ot({range:o,kt:!0},(function(t,n,r){var o=t[0],a=t[1];t[2],o===e&&a===i&&(s=!0),r.done()})).next((function(){return s}))}function Bv(t){return pv(t,jp.store)}function Gv(t){return pv(t,qp.store)}function Yv(t){return pv(t,Up.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kv=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Hv=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new Kv(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return Nh.fromTimestamp(new Ah(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return Wv(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return wh(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return Wv(t).Ot((function(s,a){var u=kv(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))})).next((function(){return rv.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return Wv(t).Ot((function(t,n){var r=kv(n);e(r)}))},t.prototype.Xt=function(t){return zv(t).get(zp.key).next((function(t){return wh(null!==t),t}))},t.prototype.Zt=function(t,e){return zv(t).put(zp.key,e)},t.prototype.te=function(t,e){return Wv(t).put(Av(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=pf(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Wv(t).Ot({range:r,index:Hp.queryTargetsIndexName},(function(t,n,r){var o=kv(n);vf(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=Qv(t);return e.forEach((function(e){var s=Rp(e.path);i.push(o.put(new Wp(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))})),rv.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Qv(t);return rv.forEach(e,(function(e){var o=Rp(e.path);return rv.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Qv(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Qv(t),i=Gd();return r.Ot({range:n,kt:!0},(function(t,e,n){var r=Lp(t[1]),o=new zh(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=Rp(e.path),r=IDBKeyRange.bound([n],[kh(n)],!1,!0),i=0;return Qv(t).Ot({index:Wp.documentTargetsIndex,kt:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return Wv(t).get(e).next((function(t){return t?kv(t):null}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(t){return pv(t,Hp.store)}function zv(t){return pv(t,zp.store)}function Qv(t){return pv(t,Wp.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(t){return Ni(this,void 0,void 0,(function(){return Di(this,(function(e){if(t.code!==hh.FAILED_PRECONDITION||t.message!==tv)throw t;return vh("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=Eh(n,i);return 0===s?Eh(r,o):s}var Jv=function(){function t(t){this.ne=t,this.buffer=new Md(Xv),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Xv(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Zv=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ae(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ae=function(t){var e=this,n=this.oe?3e5:6e4;vh("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return Ni(e,void 0,void 0,(function(){var e;return Di(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return uv(e=n.sent())?(vh("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,$v(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ae(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),tm=function(){function t(t,e){this.ue=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ue.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return rv.resolve(lh.o);var r=new Jv(e);return this.ue.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ue.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ue.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ue.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(vh("LruGarbageCollector","Garbage collection skipped; disabled"),rv.resolve(Lv)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(vh("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Lv):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ue.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>c.params.maximumSequenceNumbersToCollect?(vh("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)})).next((function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)})).next((function(t){return u=Date.now(),ph()<=ro.DEBUG&&vh("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),rv.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),em=function(){function t(t,e){this.db=t,this.garbageCollector=new tm(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return nm(t,n)},t.prototype.removeReference=function(t,e,n){return nm(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return nm(t,e)},t.prototype._e=function(t,e){return r=e,i=!1,Yv(n=t).$t((function(t){return qv(n,t,r).next((function(t){return t&&(i=!0),rv.resolve(!t)}))})).next((function(){return i}));var n,r,i},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,(function(s,a){if(a<=e){var u=n._e(t,s).next((function(e){if(!e)return o++,r.getEntry(t,s).next((function(){return r.removeEntry(s),Qv(t).delete([0,Rp(s.path)])}))}));i.push(u)}})).next((function(){return rv.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return nm(t,e)},t.prototype.we=function(t,e){var n,r=Qv(t),i=lh.o;return r.Ot({index:Wp.documentTargetsIndex},(function(t,r){var o=t[0],s=(t[1],r.path),a=r.sequenceNumber;0===o?(i!==lh.o&&e(new zh(Lp(n)),i),i=a,n=s):i=lh.o})).next((function(){i!==lh.o&&e(new zh(Lp(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function nm(t,e){return Qv(t).put((n=e,r=t.currentSequenceNumber,new Wp(0,Rp(n.path),r)));var n,r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rm=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];if(this.equalsFn(s,t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Oh(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];t(s,a)}}))},t.prototype.isEmpty=function(){return Ch(this.inner)},t}(),im=function(){function t(){this.changes=new rm((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Nh.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:hf.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?rv.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),om=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return um(t).put(cm(e),n)},t.prototype.removeEntry=function(t,e){var n=um(t),r=cm(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return um(t).get(cm(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return um(t).get(cm(e)).next((function(t){return{document:n.ye(e,t),size:Uv(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=Vd();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=Vd(),i=new xd(zh.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,Uv(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return rv.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return um(t).Ot({range:r},(function(t,e,r){for(var s=zh.fromSegments(t);o&&zh.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Vd(),o=e.path.length+1,s={};if(n.isEqual(Nh.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=_v(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Yp.collectionReadTimeIndex}return um(t).Ot(s,(function(t,n,s){if(t.length===o){var a=bv(r.R,n);e.path.isPrefixOf(a.key.path)?Hf(e,a)&&(i=i.insert(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new sm(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return am(t).get(Kp.key).next((function(t){return wh(!!t),t}))},t.prototype.me=function(t,e){return am(t).put(Kp.key,e)},t.prototype.ye=function(t,e){if(e){var n=bv(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Nh.min()))return n}return hf.newInvalidDocument(t)},t}(),sm=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new rm((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return ki(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Md((function(t,e){return Eh(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=wv(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=Uv(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=wv(e.Ie.R,hf.newNoDocument(o,Nh.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),rv.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(im);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(t){return pv(t,Kp.store)}function um(t){return pv(t,Yp.store)}function cm(t){return t.path.toArray()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lm=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;wh(n<r&&n>=0&&r<=11);var o=new iv("createOrUpgrade",e);n<1&&r>=1&&(t.createObjectStore(Vp.store),function(t){t.createObjectStore(Up.store,{keyPath:Up.keyPath}),t.createObjectStore(jp.store,{keyPath:jp.keyPath,autoIncrement:!0}).createIndex(jp.userMutationsIndex,jp.userMutationsKeyPath,{unique:!0}),t.createObjectStore(qp.store)}(t),hm(t),function(t){t.createObjectStore(Yp.store)}(t));var s=rv.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Wp.store),t.deleteObjectStore(Hp.store),t.deleteObjectStore(zp.store)}(t),hm(t)),s=s.next((function(){return function(t){var e=t.store(zp.store),n=new zp(0,0,Nh.min().toTimestamp(),0);return e.put(zp.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(jp.store).Nt().next((function(n){t.deleteObjectStore(jp.store),t.createObjectStore(jp.store,{keyPath:jp.keyPath,autoIncrement:!0}).createIndex(jp.userMutationsIndex,jp.userMutationsKeyPath,{unique:!0});var r=e.store(jp.store),i=n.map((function(t){return r.put(t)}));return rv.waitFor(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore($p.store,{keyPath:$p.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.Re(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(Kp.store)}(t),i.be(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ve(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Pe(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Yp.store);e.createIndex(Yp.readTimeIndex,Yp.readTimeIndexPath,{unique:!1}),e.createIndex(Yp.collectionReadTimeIndex,Yp.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(Xp.store,{keyPath:Xp.keyPath})}(t),function(t){t.createObjectStore(Jp.store,{keyPath:Jp.keyPath})}(t)}))),s},t.prototype.be=function(t){var e=0;return t.store(Yp.store).Ot((function(t,n){e+=Uv(n)})).next((function(){var n=new Kp(e);return t.store(Kp.store).put(Kp.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(Up.store),r=t.store(jp.store);return n.Nt().next((function(n){return rv.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(jp.userMutationsIndex,i).next((function(r){return rv.forEach(r,(function(r){wh(r.userId===n.userId);var i=Sv(e.R,r);return Vv(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(Wp.store),n=t.store(Yp.store);return t.store(zp.store).get(zp.key).next((function(t){var r=[];return n.Ot((function(n,i){var o=new Rh(n),s=[0,Rp(o)];r.push(e.get(s).next((function(n){return n?rv.resolve():(r=o,e.put(new Wp(0,Rp(r),t.highestListenSequenceNumber)));var r})))})).next((function(){return rv.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(Qp.store,{keyPath:Qp.keyPath});var n=e.store(Qp.store),r=new Rv,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Rp(i)})}};return e.store(Yp.store).Ot({kt:!0},(function(t,e){var n=new Rh(t);return i(n.popLast())})).next((function(){return e.store(qp.store).Ot({kt:!0},(function(t,e){t[0];var n=t[1],r=(t[2],Lp(n));return i(r.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(Hp.store);return n.Ot((function(t,r){var i=kv(r),o=Av(e.R,i);return n.put(o)}))},t}();function hm(t){t.createObjectStore(Wp.store,{keyPath:Wp.keyPath}).createIndex(Wp.documentTargetsIndex,Wp.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Hp.store,{keyPath:Hp.keyPath}).createIndex(Hp.queryTargetsIndexName,Hp.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(zp.store)}var fm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",dm=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new fh(hh.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");var h,f;this.referenceDelegate=new em(this,i),this.Le=n+"main",this.R=new gv(u),this.Be=new ov(this.Le,11,new lm(this.R)),this.qe=new Hv(this.referenceDelegate,this.R),this.Ut=new Pv,this.Ue=(h=this.R,f=this.Ut,new om(h,f)),this.Qe=new Dv,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&mh("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new fh(hh.FAILED_PRECONDITION,fm);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new lh(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Ni(e,void 0,void 0,(function(){return Di(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return Ni(e,void 0,void 0,(function(){return Di(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return Ni(e,void 0,void 0,(function(){return Di(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return vm(e).put(new $p(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(uv(e))return vh("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return vh("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return pm(t).get(Vp.key).next((function(t){return rv.resolve(e.tn(t))}))},t.prototype.en=function(t){return vm(t).delete(this.clientId)},t.prototype.nn=function(){return Ni(this,void 0,void 0,(function(){var t,e,n,r,i=this;return Di(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=pv(t,$p.store);return e.Nt().next((function(t){var n=i.rn(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return rv.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)r=n[e],this.Ke.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?rv.resolve(!0):pm(t).get(Vp.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new fh(hh.FAILED_PRECONDITION,fm);return!1}}return!(!e.networkEnabled||!e.inForeground)||vm(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&vh("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return Ni(this,void 0,void 0,(function(){var t=this;return Di(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.an(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.un(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Vp.store,$p.store],(function(e){var n=new dv(e,lh.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return vm(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return jv.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;vh("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.Be.runTransaction(t,o,Zp,(function(o){return i=new dv(o,r.Ne?r.Ne.next():lh.o),"readwrite-primary"===e?r.Je(i).next((function(t){return!!t||r.Ye(i)})).next((function(e){if(!e)throw mh("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new fh(hh.FAILED_PRECONDITION,tv);return n(i)})).next((function(t){return r.Ze(i).next((function(){return t}))})):r.dn(i).next((function(){return n(i)}))})).then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return pm(t).get(Vp.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new fh(hh.FAILED_PRECONDITION,fm)}))},t.prototype.Ze=function(t){var e=new Vp(this.clientId,this.allowTabSynchronization,Date.now());return pm(t).put(Vp.key,e)},t.yt=function(){return ov.yt()},t.prototype.Xe=function(t){var e=this,n=pm(t);return n.get(Vp.key).next((function(t){return e.tn(t)?(vh("IndexedDbPersistence","Releasing primary lease."),n.delete(Vp.key)):rv.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(mh("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.un=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.an(),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return vh("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(r){return mh("IndexedDbPersistence","Failed to get zombied client id.",r),!1}},t.prototype.an=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){mh("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function pm(t){return pv(t,Vp.store)}function vm(t){return pv(t,$p.store)}function mm(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var ym=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return r=e,zh.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.Tn(t,e.path):Uf(e)?this.In(t,e,n):this.An(t,e,n);var r},t.prototype.Tn=function(t,e){return this.mn(t,new zh(e)).next((function(t){var e=jd();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=jd();return this.Ut.getCollectionParents(t,i).next((function(s){return rv.forEach(s,(function(s){var a,u,c=(a=e,u=s.child(i),new xf(u,null,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt));return r.An(t,c,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return i=e,o.Rn(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=hf.newInvalidDocument(c),r=r.insert(c,l)),md(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(t,n){Hf(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=Gd(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof _d&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))})),c}))},t}(),gm=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Gd(),i=Gd(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),bm=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i,o=this;return 0===(i=e).filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())||n.isEqual(Nh.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(i){var s=o.Cn(e,i);return(Mf(e)||Lf(e))&&o.Nn(e.limitType,s,r,n)?o.Dn(t,e):(ph()<=ro.DEBUG&&vh("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Kf(e)),o.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return s.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new Md(Wf(t));return e.forEach((function(e,r){Hf(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return ph()<=ro.DEBUG&&vh("QueryEngine","Using full collection scan to execute query:",Kf(e)),this.Sn.getDocumentsMatchingQuery(t,e,Nh.min())},t}(),wm=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new xd(Eh),this.kn=new rm((function(t){return pf(t)}),vf),this.On=Nh.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new ym(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.Fn)}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(t,e,n,r){return new wm(t,e,n,r)}function Im(t,e){return Ni(this,void 0,void 0,(function(){var n,r,i,o;return Di(this,(function(s){switch(s.label){case 0:return n=_h(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n._n.getAllMutationBatches(t).next((function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new ym(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],s=Gd(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];s=s.add(f.key)}}for(var d=0,p=e;d<p.length;d++){var v=p[d];r.push(v.batchId);for(var m=0,y=v.mutations;m<y.length;m++){var g=y[m];s=s.add(g.key)}}return i.pn(t,s).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Tm(t,e){var n=_h(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r,i,o,s,a,u,c,l=e.batch.keys(),h=n.$n.newChangeBuffer({trackRemovals:!0});return(r=n,i=t,o=e,s=h,a=o.batch,u=a.keys(),c=rv.resolve(),u.forEach((function(t){c=c.next((function(){return s.getEntry(i,t)})).next((function(e){var n=o.docVersions.get(t);wh(null!==n),e.version.compareTo(n)<0&&(a.applyToRemoteDocument(e,o),e.isValidDocument()&&s.addEntry(e,o.commitVersion))}))})),c.next((function(){return r._n.removeMutationBatch(i,a)}))).next((function(){return h.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,l)}))}))}function Em(t){var e=_h(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function Sm(t,e){var n=_h(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach((function(e,o){var a,u,c,l=i.get(o);if(l){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var h=e.resumeToken;if(h.approximateByteSize()>0){var f=l.withResumeToken(h,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,f),a=l,c=e,wh((u=f).resumeToken.approximateByteSize()>0),(0===a.resumeToken.approximateByteSize()||u.snapshotVersion.toMicroseconds()-a.snapshotVersion.toMicroseconds()>=3e8||c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size>0)&&s.push(n.qe.updateTargetData(t,f))}}}));var a=Vd();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),s.push(function(t,e,n,r,i){var o=Gd();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=Vd();return n.forEach((function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(Nh.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):vh("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}(t,o,e.documentUpdates,r,void 0).next((function(t){a=t}))),!r.isEqual(Nh.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));s.push(u)}return rv.waitFor(s).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,a)})).next((function(){return a}))})).then((function(t){return n.Fn=i,t}))}function km(t,e){var n=_h(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function Am(t,e){var n=_h(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?(r=i,rv.resolve(r)):n.qe.allocateTargetId(t).next((function(i){return r=new yv(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t}))}function Nm(t,e,n){return Ni(this,void 0,void 0,(function(){var r,i,o,s;return Di(this,(function(a){switch(a.label){case 0:r=_h(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.referenceDelegate.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!uv(s=a.sent()))throw s;return vh("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}}))}))}function Dm(t,e,n){var r=_h(t),i=Nh.min(),o=Gd();return r.persistence.runTransaction("Execute query","readonly",(function(t){return(s=r,a=t,u=qf(e),c=_h(s),l=c.kn.get(u),void 0!==l?rv.resolve(c.Fn.get(l)):c.qe.getTargetData(a,u)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Nh.min(),n?o:Gd())})).next((function(t){return{documents:t,Bn:o}}));var s,a,u,c,l}))}function Om(t,e){var n=_h(t),r=_h(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function Cm(t){var e=_h(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return n=e.$n,r=t,i=e.On,o=_h(n),s=Vd(),a=_v(i),u=um(r),c=IDBKeyRange.lowerBound(a,!0),u.Ot({index:Yp.readTimeIndex,range:c},(function(t,e){var n=bv(o.R,e);s=s.insert(n.key,n),a=e.readTime})).next((function(){return{wn:s,readTime:Iv(a)}}));var n,r,i,o,s,a,u,c})).then((function(t){var n=t.wn,r=t.readTime;return e.On=r,n}))}function xm(t){return Ni(this,void 0,void 0,(function(){var e;return Di(this,(function(n){return[2,(e=_h(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return e=um(t),n=Nh.min(),e.Ot({index:Yp.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Iv(e.readTime)),r.done()})).next((function(){return n}));var e,n})).then((function(t){e.On=t}))]}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rm=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return rv.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:ap(n.createTime)}),rv.resolve()},t.prototype.getNamedQuery=function(t,e){return rv.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,{name:(n=e).name,query:Nv(n.bundledQuery),readTime:ap(n.readTime)}),rv.resolve();var n},t}(),Pm=function(){function t(){this.Wn=new Md(Mm.Gn),this.zn=new Md(Mm.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Mm(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new Mm(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new zh(new Rh([])),r=new Mm(n,t),i=new Mm(n,t+1),o=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new zh(new Rh([])),n=new Mm(e,t),r=new Mm(e,t+1),i=Gd();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new Mm(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Mm=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return zh.comparator(t.key,e.key)||Eh(t.ns,e.ns)},t.Hn=function(t,e){return Eh(t.ns,e.ns)||zh.comparator(t.key,e.key)},t}(),Lm=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Md(Mm.Gn)}return t.prototype.checkEmpty=function(t){return rv.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new vv(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new Mm(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return rv.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return rv.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,r=this.cs(n),i=r<0?0:r;return rv.resolve(this._n.length>i?this._n[i]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return rv.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return rv.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Mm(e,0),i=new Mm(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);o.push(e)})),rv.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Md(Eh);return e.forEach((function(t){var e=new Mm(t,0),i=new Mm(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),rv.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;zh.isDocumentKey(i)||(i=i.child(""));var o=new Mm(new zh(i),0),s=new Md(Eh);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)}),o),rv.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;wh(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return rv.forEach(e.mutations,(function(i){var o=new Mm(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Mm(e,0),r=this.rs.firstAfterOrEqual(n);return rv.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return this._n.length,rv.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Fm=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new xd(zh.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return rv.resolve(n?n.document.clone():hf.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Vd();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():hf.newInvalidDocument(t))})),rv.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Vd(),i=new zh(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.key,u=s.value,c=u.document,l=u.readTime;if(!e.path.isPrefixOf(a.path))break;l.compareTo(n)<=0||Hf(e,c)&&(r=r.insert(c.key,c.clone()))}return rv.resolve(r)},t.prototype.fs=function(t,e){return rv.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new Vm(this)},t.prototype.getSize=function(t){return rv.resolve(this.size)},t}(),Vm=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return ki(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),rv.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(im),Um=function(){function t(t){this.persistence=t,this.ds=new rm((function(t){return pf(t)}),vf),this.lastRemoteSnapshotVersion=Nh.min(),this.highestTargetId=0,this.ws=0,this._s=new Pm,this.targetCount=0,this.ys=Kv.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),rv.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return rv.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return rv.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),rv.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),rv.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Kv(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,rv.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),rv.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,rv.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)})),rv.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return rv.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return rv.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),rv.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),rv.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),rv.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return rv.resolve(n)},t.prototype.containsKey=function(t,e){return rv.resolve(this._s.containsKey(e))},t}(),jm=function(){function t(t,e){var n,r=this;this.gs={},this.Ne=new lh(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Um(this),this.Ut=new xv,this.Ue=(n=this.Ut,new Fm(n,(function(t){return r.referenceDelegate.ps(t)}))),this.R=new gv(e),this.Qe=new Rm(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Lm(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;vh("MemoryPersistence","Starting transaction:",t);var i=new qm(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return rv.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),qm=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return ki(e,t),e}(ev),Bm=function(){function t(t){this.persistence=t,this.As=new Pm,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw bh()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),rv.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),rv.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),rv.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rv.forEach(this.vs,(function(r){var i=zh.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return rv.or([function(){return rv.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),Gm=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(t,e){return"firestore_clients_"+t+"_"+e}function Km(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Hm(t,e){return"firestore_targets_"+t+"_"+e}Gm.UNAUTHENTICATED=new Gm(null),Gm.GOOGLE_CREDENTIALS=new Gm("google-credentials-uid"),Gm.FIRST_PARTY=new Gm("first-party-uid");var Wm=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new fh(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(mh("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),zm=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new fh(i.error.code,i.error.message)),o?new t(e,i.state,r):(mh("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Qm=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Kd(),s=0;i&&s<r.activeTargetIds.length;++s)i=Wh(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(mh("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),$m=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(mh("SharedClientState","Failed to parse online state: "+e),null)},t}(),Xm=function(){function t(){this.activeTargetIds=Kd()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Jm=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new xd(Eh),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=Ym(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.ks=this.ks.insert(this.Ns,new Xm),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Ni(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,u,c,l,h=this;return Di(this,(function(f){switch(f.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(Ym(this.persistenceKey,r)))&&(o=Qm.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.Os;u<c.length;u++)l=c[u],this.Fs(l);return this.Os=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Hm(this.persistenceKey,t));if(n){var r=zm.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Hm(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return vh("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){vh("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){vh("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(vh("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void mh("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return Ni(e,void 0,void 0,(function(){var t,e,r,i,o,s;return Di(this,(function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=lh.o;if(null!=t)try{var n=JSON.parse(t);wh("number"==typeof n),e=n}catch(r){mh("SharedClientState","Failed to read sequence number from WebStorage",r)}return e}(n.newValue))!==lh.o&&this.sequenceNumberHandler(s);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Wm(this.currentUser,t,e,n),i=Km(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=Km(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){var e={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(e))},t.prototype.Ys=function(t,e,n){var r=Hm(this.persistenceKey,t),i=new zm(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Qm.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Wm.Vs(new Gm(i),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return zm.Vs(r,e)},t.prototype.js=function(t){return $m.Vs(t)},t.prototype.ii=function(t){return Ni(this,void 0,void 0,(function(){return Di(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ai(t.batchId,t.state,t.error)]:(vh("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ui(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.syncEngine.hi(s,a).then((function(){n.ks=r}))},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Kd();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),Zm=function(){function t(){this.li=new Xm,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Xm,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),ty=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),ey=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){vh("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){vh("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),ny={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},ry=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),iy=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return ki(e,t),e.prototype.ki=function(t,e,n,r){return new Promise((function(i,o){var s=new ch;s.listenOnce(ih.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case rh.NO_ERROR:var e=s.getResponseJson();vh("Connection","XHR received:",JSON.stringify(e)),i(e);break;case rh.TIMEOUT:vh("Connection",'RPC "'+t+'" timed out'),o(new fh(hh.DEADLINE_EXCEEDED,"Request time out"));break;case rh.HTTP_ERROR:var n=s.getStatus();if(vh("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=(u=r.status,c=u.toLowerCase().replace(/_/g,"-"),Object.values(hh).indexOf(c)>=0?c:hh.UNKNOWN);o(new fh(a,r.message))}else o(new fh(hh.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new fh(hh.UNAVAILABLE,"Connection failed."));break;default:bh()}}finally{vh("Connection",'RPC "'+t+'" completed.')}var u,c}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.$i=function(t,e){var n,r=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=new Jl,o=tc(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(s.initMessageHeaders,e),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Li())||"object"==typeof navigator&&"ReactNative"===navigator.product||Li().indexOf("Electron/")>=0||((n=Li()).indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0)||Li().indexOf("MSAppHost/")>=0||Vi()||(s.httpHeadersOverwriteParam="$httpHeaders");var a=r.join("");vh("Connection","Creating WebChannel: "+a,s);var u=i.createWebChannel(a,s),c=!1,l=!1,h=new ry({Ei:function(t){l?vh("Connection","Not sending because WebChannel is closed:",t):(c||(vh("Connection","Opening WebChannel transport."),u.open(),c=!0),vh("Connection","WebChannel sending:",t),u.send(t))},Ti:function(){return u.close()}}),f=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(u,uh.EventType.OPEN,(function(){l||vh("Connection","WebChannel transport opened.")})),f(u,uh.EventType.CLOSE,(function(){l||(l=!0,vh("Connection","WebChannel transport closed"),h.Vi())})),f(u,uh.EventType.ERROR,(function(t){l||(l=!0,yh("Connection","WebChannel transport errored:",t),h.Vi(new fh(hh.UNAVAILABLE,"The operation could not be completed")))})),f(u,uh.EventType.MESSAGE,(function(t){var e;if(!l){var n=t.data[0];wh(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){vh("Connection","WebChannel received error:",i);var o=i.status,s=function(t){var e=Sd[t];if(void 0!==e)return Cd(e)}(o),a=i.message;void 0===s&&(s=hh.INTERNAL,a="Unknown error status: "+o+" with message "+i.message),l=!0,h.Vi(new fh(s,a)),u.close()}else vh("Connection","WebChannel received:",n),h.Si(n)}})),f(o,oh.STAT_EVENT,(function(t){t.stat===sh?vh("Connection","Detected buffering proxy"):t.stat===ah&&vh("Connection","Detected no buffering proxy")})),setTimeout((function(){h.Pi()}),0),h},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.Di=e+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);vh("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then((function(t){return vh("RestConnection","Received: ",t),t}),(function(e){throw yh("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.6.2",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){var n=ny[t];return this.Di+"/v1/"+e+":"+n},t}());
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(){return"undefined"!=typeof window?window:null}function sy(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(t){return new rp(t,!0)}var uy=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&vh("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Qi=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),cy=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new uy(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Ni(this,void 0,void 0,(function(){return Di(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ar(),this.stream.send(t)},t.prototype.rr=function(){return Ni(this,void 0,void 0,(function(){return Di(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ar=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Ni(this,void 0,void 0,(function(){return Di(this,(function(n){switch(n.label){case 0:return this.ar(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===hh.RESOURCE_EXHAUSTED?(mh(e.toString()),mh("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===hh.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ur(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ur=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new fh(hh.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return Ni(t,void 0,void 0,(function(){return Di(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return vh("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(vh("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),ly=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return ki(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n,r;if("targetChange"in e){e.targetChange;var i="NO_CHANGE"===(r=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:bh(),o=e.targetChange.targetIds||[],s=function(t,e){return t.I?(wh(void 0===e||"string"==typeof e),Fh.fromBase64String(e||"")):(wh(void 0===e||e instanceof Uint8Array),Fh.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(u=e.targetChange.cause)&&function(t){var e=void 0===t.code?hh.UNKNOWN:Cd(t.code);return new fh(e,t.message||"")}(u);n=new $d(i,o,s,a||null)}else if("documentChange"in e){e.documentChange,(i=e.documentChange).document,i.document.name,i.document.updateTime,o=hp(t,i.document.name),s=ap(i.document.updateTime);var u=new cf({mapValue:{fields:i.document.fields}}),c=(a=hf.newFoundDocument(o,s,u),i.targetIds||[]),l=i.removedTargetIds||[];n=new zd(c,l,a.key,a)}else if("documentDelete"in e)e.documentDelete,(i=e.documentDelete).document,o=hp(t,i.document),s=i.readTime?ap(i.readTime):Nh.min(),u=hf.newNoDocument(o,s),a=i.removedTargetIds||[],n=new zd([],a,u.key,u);else if("documentRemove"in e)e.documentRemove,(i=e.documentRemove).document,o=hp(t,i.document),s=i.removedTargetIds||[],n=new zd([],s,o,null);else{if(!("filter"in e))return bh();e.filter;var h=e.filter;h.targetId,i=h.count||0,o=new Dd(i),s=h.targetId,n=new Qd(s,o)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Nh.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Nh.min():e.readTime?ap(e.readTime):Nh.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e,n,r,i,o={};o.database=pp(this.R),o.addTarget=(e=this.R,i=(n=t).target,(r=mf(i)?{documents:bp(e,i)}:{query:wp(e,i)}).targetId=n.targetId,n.resumeToken.approximateByteSize()>0?r.resumeToken=op(e,n.resumeToken):n.snapshotVersion.compareTo(Nh.min())>0&&(r.readTime=ip(e,n.snapshotVersion.toTimestamp())),r);var s=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return bh()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,t);s&&(o.labels=s),this.cr(o)},e.prototype.yr=function(t){var e={};e.database=pp(this.R),e.removeTarget=t,this.cr(e)},e}(cy),hy=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return ki(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ur=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(wh(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=(r=t.writeResults,i=t.commitTime,r&&r.length>0?(wh(void 0!==i),r.map((function(t){return n=i,(r=(e=t).updateTime?ap(e.updateTime):ap(n)).isEqual(Nh.min())&&(r=ap(n)),new hd(r,e.transformResults||[]);var e,n,r}))):[]),n=ap(t.commitTime);return this.listener.Tr(n,e)}var r,i;return wh(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=pp(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return yp(e.R,t)}))};this.cr(n)},e}(cy),fy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return ki(e,t),e.prototype.br=function(){if(this.Rr)throw new fh(hh.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===hh.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new fh(hh.UNKNOWN,t.toString())}))},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Oi(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===hh.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new fh(hh.UNKNOWN,t.toString())}))},e.prototype.terminate=function(){this.Rr=!0},e}((function(){})),dy=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(mh(e),this.Vr=!1):vh("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),py=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(t){n.enqueueAndForget((function(){return Ni(o,void 0,void 0,(function(){return Di(this,(function(t){switch(t.label){case 0:return Ty(this)?(vh("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Ni(this,void 0,void 0,(function(){var e;return Di(this,(function(n){switch(n.label){case 0:return(e=_h(t)).$r.add(4),[4,my(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,vy(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new dy(n,r)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(t){return Ni(this,void 0,void 0,(function(){var e,n;return Di(this,(function(r){switch(r.label){case 0:if(!Ty(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function my(t){return Ni(this,void 0,void 0,(function(){var e,n;return Di(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function yy(t,e){var n=_h(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),Iy(n)?_y(n):Vy(n).er()&&by(n,e))}function gy(t,e){var n=_h(t),r=Vy(n);n.Or.delete(e),r.er()&&wy(n,e),0===n.Or.size&&(r.er()?r.ir():Ty(n)&&n.Br.set("Unknown"))}function by(t,e){t.qr.U(e.targetId),Vy(t).mr(e)}function wy(t,e){t.qr.U(e),Vy(t).yr(e)}function _y(t){t.qr=new Jd({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),Vy(t).start(),t.Br.Sr()}function Iy(t){return Ty(t)&&!Vy(t).tr()&&t.Or.size>0}function Ty(t){return 0===_h(t).$r.size}function Ey(t){t.qr=void 0}function Sy(t){return Ni(this,void 0,void 0,(function(){return Di(this,(function(e){return t.Or.forEach((function(e,n){by(t,e)})),[2]}))}))}function ky(t,e){return Ni(this,void 0,void 0,(function(){return Di(this,(function(n){return Ey(t),Iy(t)?(t.Br.Nr(e),_y(t)):t.Br.set("Unknown"),[2]}))}))}function Ay(t,e,n){return Ni(this,void 0,void 0,(function(){var r,i,o;return Di(this,(function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof $d&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Ni(this,void 0,void 0,(function(){var n,r,i,o;return Di(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?(o=i[r],t.Or.has(o)?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:s.sent(),t.Or.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),vh("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Ny(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof zd?t.qr.X(e):e instanceof Qd?t.qr.rt(e):t.qr.et(e),n.isEqual(Nh.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Em(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,(a=t,u=n,c=a.qr.at(u),c.targetChanges.forEach((function(t,e){if(t.resumeToken.approximateByteSize()>0){var n=a.Or.get(e);n&&a.Or.set(e,n.withResumeToken(t.resumeToken,u))}})),c.targetMismatches.forEach((function(t){var e=a.Or.get(t);if(e){a.Or.set(t,e.withResumeToken(Fh.EMPTY_BYTE_STRING,e.snapshotVersion)),wy(a,t);var n=new yv(e.target,t,1,e.sequenceNumber);by(a,n)}})),a.remoteSyncer.applyRemoteEvent(c))]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return vh("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Ny(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}var a,u,c}))}))}function Ny(t,e,n){return Ni(this,void 0,void 0,(function(){var r=this;return Di(this,(function(i){switch(i.label){case 0:if(!uv(e))throw e;return t.$r.add(1),[4,my(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return Em(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return Ni(r,void 0,void 0,(function(){return Di(this,(function(e){switch(e.label){case 0:return vh("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,vy(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Dy(t,e){return e().catch((function(n){return Ny(t,n,e)}))}function Oy(t){return Ni(this,void 0,void 0,(function(){var e,n,r,i,o;return Di(this,(function(s){switch(s.label){case 0:e=_h(t),n=Uy(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!(Ty(a=e)&&a.kr.length<10))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,km(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=Uy(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Ny(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Cy(e)&&xy(e),[2]}var a}))}))}function Cy(t){return Ty(t)&&!Uy(t).tr()&&t.kr.length>0}function xy(t){Uy(t).start()}function Ry(t){return Ni(this,void 0,void 0,(function(){return Di(this,(function(e){return Uy(t).Ar(),[2]}))}))}function Py(t){return Ni(this,void 0,void 0,(function(){var e,n,r,i;return Di(this,(function(o){for(e=Uy(t),n=0,r=t.kr;n<r.length;n++)i=r[n],e.Er(i.mutations);return[2]}))}))}function My(t,e,n){return Ni(this,void 0,void 0,(function(){var r,i;return Di(this,(function(o){switch(o.label){case 0:return r=t.kr.shift(),i=mv.from(r,e,n),[4,Dy(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Oy(t)];case 2:return o.sent(),[2]}}))}))}function Ly(t,e){return Ni(this,void 0,void 0,(function(){return Di(this,(function(n){switch(n.label){case 0:return e&&Uy(t).pr?[4,function(t,e){return Ni(this,void 0,void 0,(function(){var n,r;return Di(this,(function(i){switch(i.label){case 0:return Od(r=e.code)&&r!==hh.ABORTED?(n=t.kr.shift(),Uy(t).sr(),[4,Dy(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Oy(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Cy(t)&&xy(t),[2]}}))}))}function Fy(t,e){return Ni(this,void 0,void 0,(function(){var n;return Di(this,(function(r){switch(r.label){case 0:return n=_h(t),e?(n.$r.delete(2),[4,vy(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,my(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Vy(t){var e,n,r,i,o=this;return t.Ur||(t.Ur=(e=t.datastore,n=t.asyncQueue,r={Ii:Sy.bind(null,t),Ri:ky.bind(null,t),_r:Ay.bind(null,t)},(i=_h(e)).br(),new ly(n,i.Hi,i.credentials,i.R,r)),t.Mr.push((function(e){return Ni(o,void 0,void 0,(function(){return Di(this,(function(n){switch(n.label){case 0:return e?(t.Ur.sr(),Iy(t)?_y(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:n.sent(),Ey(t),n.label=3;case 3:return[2]}}))}))}))),t.Ur}function Uy(t){var e,n,r,i,o=this;return t.Qr||(t.Qr=(e=t.datastore,n=t.asyncQueue,r={Ii:Ry.bind(null,t),Ri:Ly.bind(null,t),Ir:Py.bind(null,t),Tr:My.bind(null,t)},(i=_h(e)).br(),new hy(n,i.Hi,i.credentials,i.R,r)),t.Mr.push((function(e){return Ni(o,void 0,void 0,(function(){return Di(this,(function(n){switch(n.label){case 0:return e?(t.Qr.sr(),[4,Oy(t)]):[3,2];case 1:return n.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:n.sent(),t.kr.length>0&&(vh("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),n.label=4;case 4:return[2]}}))}))}))),t.Qr}var jy=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new nv,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new fh(hh.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function qy(t,e){if(mh("AsyncQueue",e+": "+t),uv(t))return new fh(hh.UNAVAILABLE,e+": "+t);throw t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var By=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||zh.comparator(e.key,n.key)}:function(t,e){return zh.comparator(t.key,e.key)},this.keyedMap=jd(),this.sortedSet=new xd(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Gy=function(){function t(){this.Kr=new xd(zh.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):bh():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),Yy=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,By.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Gf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Ky=function(){this.Wr=void 0,this.listeners=[]},Hy=function(){this.queries=new rm((function(t){return Yf(t)}),Gf),this.onlineState="Unknown",this.Gr=new Set};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(t,e){return Ni(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Di(this,(function(c){switch(c.label){case 0:if(n=_h(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new Ky),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=qy(a,"Initialization of query '"+Kf(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&Xy(n),[2]}}))}))}function zy(t,e){return Ni(this,void 0,void 0,(function(){var n,r,i,o,s;return Di(this,(function(a){return n=_h(t),r=e.query,i=!1,(o=n.queries.get(r))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function Qy(t,e){for(var n=_h(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=s.query,u=n.queries.get(a);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(s)&&(r=!0);u.Wr=s}}r&&Xy(n)}function $y(t,e,n){var r=_h(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Xy(t){t.Gr.forEach((function(t){t.next()}))}var Jy=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Yy(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.so&&n||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var e=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=Yy.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Zy=function(t){this.key=t},tg=function(t){this.key=t},eg=function(){function t(t,e){this.query=t,this.ao=e,this.uo=null,this.current=!1,this.ho=Gd(),this.mutatedKeys=Gd(),this.lo=Wf(t),this.fo=new By(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.ao},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new Gy,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=Mf(this.query)&&i.size===this.query.limit?i.last():null,c=Lf(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var l=i.get(t),h=Hf(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),Mf(this.query)||Lf(this.query))for(;s.size>this.query.limit;){var l=Mf(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return n=t.type,i=e.type,(o=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bh()}})(n)-o(i)||r.lo(t.doc,e.doc);var n,i,o})),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.uo;return this.uo=a,0!==o.length||u?{snapshot:new Yy(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Gy,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.ao.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.ao=e.ao.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.ao=e.ao.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Gd(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new tg(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new Zy(t))})),n},t.prototype.Ao=function(t){this.ao=t.Bn,this.ho=Gd();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return Yy.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.uo)},t}(),ng=function(t,e,n){this.query=t,this.targetId=e,this.view=n},rg=function(t){this.key=t,this.bo=!1},ig=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new rm((function(t){return Yf(t)}),Gf),this.Vo=new Map,this.So=new Set,this.Do=new xd(zh.comparator),this.Co=new Map,this.No=new Pm,this.xo={},this.Fo=new Map,this.ko=Kv.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(t,e){return Ni(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Di(this,(function(u){switch(u.label){case 0:return n=Pg(t),(o=n.Po.get(e))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Am(n.localStore,qf(e))];case 2:return s=u.sent(),a=n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.targetId,[4,sg(n,e,r,"current"===a)];case 3:i=u.sent(),n.isPrimaryClient&&yy(n.remoteStore,s),u.label=4;case 4:return[2,i]}}))}))}function sg(t,e,n,r){return Ni(this,void 0,void 0,(function(){var i,o,s,a,u,c;return Di(this,(function(l){switch(l.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return Ni(this,void 0,void 0,(function(){var i,o,s;return Di(this,(function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,Dm(t.localStore,e.query,!1).then((function(t){var n=t.documents;return e.view._o(n,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(bg(t,e.targetId,s.To),s.snapshot)]}}))}))}(t,e,n,r)},[4,Dm(t.localStore,e,!0)];case 1:return i=l.sent(),o=new eg(e,i.Bn),s=o._o(i.documents),a=Wd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),bg(t,n,u.To),c=new ng(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}}))}))}function ag(t,e){return Ni(this,void 0,void 0,(function(){var n,r,i;return Di(this,(function(o){switch(o.label){case 0:return n=_h(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(t){return!Gf(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Nm(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),gy(n.remoteStore,r.targetId),yg(n,r.targetId)})).catch($v)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return yg(n,r.targetId),[4,Nm(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function ug(t,e,n){return Ni(this,void 0,void 0,(function(){var r,i,o,s;return Di(this,(function(a){switch(a.label){case 0:r=Mg(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,(u=r.localStore,c=e,h=_h(u),f=Ah.now(),d=c.reduce((function(t,e){return t.add(e.key)}),Gd()),h.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return h.Mn.pn(t,d).next((function(e){l=e;for(var n=[],r=0,i=c;r<i.length;r++){var o=i[r],s=yd(o,l.get(o.key));null!=s&&n.push(new _d(o.key,s,lf(s.toProto().mapValue),fd.exists(!0)))}return h._n.addMutationBatch(t,f,n,c)}))})).then((function(t){return t.applyToLocalDocumentSet(l),{batchId:t.batchId,changes:l}})))];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new xd(Eh)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Ig(r,i.changes)];case 3:return a.sent(),[4,Oy(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=qy(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}var u,c,l,h,f,d}))}))}function cg(t,e){return Ni(this,void 0,void 0,(function(){var n,r;return Di(this,(function(i){switch(i.label){case 0:n=_h(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Sm(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(wh(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?wh(r.bo):t.removedDocuments.size>0&&(wh(r.bo),r.bo=!1))})),[4,Ig(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,$v(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function lg(t,e,n){var r=_h(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=_h(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)})),r&&Xy(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function hg(t,e,n){return Ni(this,void 0,void 0,(function(){var r,i,o,s,a,u;return Di(this,(function(c){switch(c.label){case 0:return(r=_h(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new xd(zh.comparator)).insert(o,hf.newNoDocument(o,Nh.min())),a=Gd().add(o),u=new Hd(Nh.min(),new Map,new Md(Eh),s,a),[4,cg(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),_g(r),[3,4];case 2:return[4,Nm(r.localStore,e,!1).then((function(){return yg(r,e,n)})).catch($v)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function fg(t,e){return Ni(this,void 0,void 0,(function(){var n,r,i;return Di(this,(function(o){switch(o.label){case 0:n=_h(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Tm(n.localStore,e)];case 2:return i=o.sent(),mg(n,r,null),vg(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Ig(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,$v(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function dg(t,e,n){return Ni(this,void 0,void 0,(function(){var r,i;return Di(this,(function(o){switch(o.label){case 0:r=_h(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(s=r.localStore,a=e,u=_h(s),u.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var e;return u._n.lookupMutationBatch(t,a).next((function(n){return wh(null!==n),e=n.keys(),u._n.removeMutationBatch(t,n)})).next((function(){return u._n.performConsistencyCheck(t)})).next((function(){return u.Mn.pn(t,e)}))})))];case 2:return i=o.sent(),mg(r,e,n),vg(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Ig(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,$v(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}var s,a,u}))}))}function pg(t,e){return Ni(this,void 0,void 0,(function(){var n,r,i,o,s;return Di(this,(function(a){switch(a.label){case 0:Ty((n=_h(t)).remoteStore)||vh("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,(u=n.localStore,c=_h(u),c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return c._n.getHighestUnacknowledgedBatchId(t)})))];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=qy(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}var u,c}))}))}function vg(t,e){(t.Fo.get(e)||[]).forEach((function(t){t.resolve()})),t.Fo.delete(e)}function mg(t,e,n){var r=_h(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function yg(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||gg(t,e)}))}function gg(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(gy(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),_g(t))}function bg(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Zy?(t.No.addReference(o.key,e),wg(t,o)):o instanceof tg?(vh("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||gg(t,o.key)):bh()}}function wg(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(vh("SyncEngine","New document in limbo: "+n),t.So.add(r),_g(t))}function _g(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new zh(Rh.fromString(e)),r=t.ko.next();t.Co.set(r,new rg(n)),t.Do=t.Do.insert(n,r),yy(t.remoteStore,new yv(qf(Pf(n.path)),r,2,lh.o))}}function Ig(t,e,n){return Ni(this,void 0,void 0,(function(){var r,i,o,s;return Di(this,(function(a){switch(a.label){case 0:return r=_h(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(t,a){s.push(r.$o(a,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=gm.Pn(a.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Ni(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l;return Di(this,(function(h){switch(h.label){case 0:n=_h(t),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return rv.forEach(e,(function(e){return rv.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return rv.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return h.sent(),[3,4];case 3:if(!uv(r=h.sent()))throw r;return vh("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=o[i],a=s.targetId,s.fromCache||(u=n.Fn.get(a),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.Fn=n.Fn.insert(a,l));return[2]}}))}))}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function Tg(t,e){return Ni(this,void 0,void 0,(function(){var n,r;return Di(this,(function(i){switch(i.label){case 0:return(n=_h(t)).currentUser.isEqual(e)?[3,3]:(vh("SyncEngine","User change. New user:",e.toKey()),[4,Im(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,(o=n).Fo.forEach((function(t){t.forEach((function(t){t.reject(new fh(hh.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),o.Fo.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Ig(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}var o}))}))}function Eg(t,e){var n=_h(t),r=n.Co.get(e);if(r&&r.bo)return Gd().add(r.key);var i=Gd(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=a[s],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function Sg(t,e){return Ni(this,void 0,void 0,(function(){var n,r,i;return Di(this,(function(o){switch(o.label){case 0:return[4,Dm((n=_h(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&bg(n,e.targetId,i.To),i)]}}))}))}function kg(t){return Ni(this,void 0,void 0,(function(){var e;return Di(this,(function(n){return[2,Cm((e=_h(t)).localStore).then((function(t){return Ig(e,t)}))]}))}))}function Ag(t,e,n,r){return Ni(this,void 0,void 0,(function(){var i,o;return Di(this,(function(s){switch(s.label){case 0:return[4,(a=(i=_h(t)).localStore,u=e,c=_h(a),l=_h(c._n),c.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return l.jt(t,u).next((function(e){return e?c.Mn.pn(t,e):rv.resolve(null)}))})))];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Oy(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(mg(i,e,r||null),vg(i,e),function(t,e){_h(_h(t)._n).Gt(e)}(i.localStore,e)):bh(),s.label=4;case 4:return[4,Ig(i,o)];case 5:return s.sent(),[3,7];case 6:vh("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}var a,u,c,l}))}))}function Ng(t,e){return Ni(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return Di(this,(function(l){switch(l.label){case 0:return Pg(n=_h(t)),Mg(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Dg(n,r.toArray())]);case 1:return i=l.sent(),n.Oo=!0,[4,Fy(n.remoteStore,!0)];case 2:for(l.sent(),o=0,s=i;o<s.length;o++)a=s[o],yy(n.remoteStore,a);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?u.push(e):c=c.then((function(){return yg(n,e),Nm(n.localStore,e,!0)})),gy(n.remoteStore,e)})),[4,c]);case 4:return l.sent(),[4,Dg(n,u)];case 5:return l.sent(),(h=_h(n)).Co.forEach((function(t,e){gy(h.remoteStore,e)})),h.No.ts(),h.Co=new Map,h.Do=new xd(zh.comparator),n.Oo=!1,[4,Fy(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}var h}))}))}function Dg(t,e,n){return Ni(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,h,f,d,p,v;return Di(this,(function(m){switch(m.label){case 0:n=_h(t),r=[],i=[],o=0,s=e,m.label=1;case 1:return o<s.length?(a=s[o],u=void 0,(c=n.Vo.get(a))&&0!==c.length?[4,Am(n.localStore,qf(c[0]))]:[3,7]):[3,13];case 2:u=m.sent(),l=0,h=c,m.label=3;case 3:return l<h.length?(f=h[l],d=n.Po.get(f),[4,Sg(n,d)]):[3,6];case 4:(p=m.sent()).snapshot&&i.push(p.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Om(n.localStore,a)];case 8:return v=m.sent(),[4,Am(n.localStore,v)];case 9:return u=m.sent(),[4,sg(n,Og(v),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(u),m.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function Og(t){return Rf(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Cg(t){var e=_h(t);return _h(_h(e.localStore).persistence).fn()}function xg(t,e,n,r){return Ni(this,void 0,void 0,(function(){var i,o,s;return Di(this,(function(a){switch(a.label){case 0:return(i=_h(t)).Oo?(vh("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Cm(i.localStore)];case 3:return o=a.sent(),s=Hd.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Ig(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Nm(i.localStore,e,!0)];case 6:return a.sent(),yg(i,e,r),[3,8];case 7:bh(),a.label=8;case 8:return[2]}}))}))}function Rg(t,e,n){return Ni(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,h,f;return Di(this,(function(d){switch(d.label){case 0:if(!(r=Pg(t)).Oo)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?(s=o[i],r.Vo.has(s)?(vh("SyncEngine","Adding an already active target "+s),[3,5]):[4,Om(r.localStore,s)]):[3,6];case 2:return a=d.sent(),[4,Am(r.localStore,a)];case 3:return u=d.sent(),[4,sg(r,Og(a),u.targetId,!1)];case 4:d.sent(),yy(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Di(this,(function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Nm(r.localStore,t,!1).then((function(){gy(r.remoteStore,t),yg(r,t)})).catch($v)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,d.label=7;case 7:return l<h.length?(f=h[l],[5,c(f)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function Pg(t){var e=_h(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Eg.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hg.bind(null,e),e.vo._r=Qy.bind(null,e.eventManager),e.vo.Mo=$y.bind(null,e.eventManager),e}function Mg(t){var e=_h(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fg.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dg.bind(null,e),e}var Lg=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Ni(this,void 0,void 0,(function(){return Di(this,(function(e){switch(e.label){case 0:return this.R=ay(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return _m(this.persistence,new bm,t.initialUser,this.R)},t.prototype.qo=function(t){return new jm(Bm.bs,this.R)},t.prototype.Bo=function(t){return new Zm},t.prototype.terminate=function(){return Ni(this,void 0,void 0,(function(){return Di(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),Fg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return ki(e,t),e.prototype.initialize=function(e){return Ni(this,void 0,void 0,(function(){return Di(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,xm(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,Mg(this.Ko.syncEngine)];case 4:return n.sent(),[4,Oy(this.Ko.remoteStore)];case 5:return n.sent(),[2]}}))}))},e.prototype.Qo=function(t){return _m(this.persistence,new bm,t.initialUser,this.R)},e.prototype.Uo=function(t){var e=this.persistence.referenceDelegate.garbageCollector;return new Zv(e,t.asyncQueue)},e.prototype.qo=function(t){var e=mm(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Fv.withCacheSize(this.cacheSizeBytes):Fv.DEFAULT;return new dm(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,oy(),sy(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Zm},e}(Lg),Vg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return ki(e,t),e.prototype.initialize=function(e){return Ni(this,void 0,void 0,(function(){var n,r=this;return Di(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof Jm?(this.sharedClientState.syncEngine={ai:Ag.bind(null,n),ui:xg.bind(null,n),hi:Rg.bind(null,n),fn:Cg.bind(null,n),ci:kg.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(t){return Ni(r,void 0,void 0,(function(){return Di(this,(function(e){switch(e.label){case 0:return[4,Ng(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=oy();if(!Jm.yt(e))throw new fh(hh.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=mm(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Jm(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Fg),Ug=function(){function t(){}return t.prototype.initialize=function(t,e){return Ni(this,void 0,void 0,(function(){var n=this;return Di(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return lg(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Tg.bind(null,this.syncEngine),[4,Fy(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new Hy},t.prototype.createDatastore=function(t){var e,n,r=ay(t.databaseInfo.databaseId),i=(e=t.databaseInfo,new iy(e));return n=t.credentials,new fy(n,i,r)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return lg(s.syncEngine,t,0)},o=ey.yt()?new ey:new ty,new py(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return n=this.localStore,r=this.remoteStore,i=this.eventManager,o=this.sharedClientState,s=t.initialUser,a=t.maxConcurrentLimboResolutions,u=e,c=new ig(n,r,i,o,s,a),u&&(c.Oo=!0),c;var n,r,i,o,s,a,u,c},t.prototype.terminate=function(){return function(t){return Ni(this,void 0,void 0,(function(){var e;return Di(this,(function(n){switch(n.label){case 0:return e=_h(t),vh("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,my(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}(),jg=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),qg=function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Ni(this,void 0,void 0,(function(){var e,n=this;return Di(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new fh(hh.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Ni(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Di(this,(function(u){switch(u.label){case 0:return n=_h(t),r=pp(n.R)+"/documents",i={documents:e.map((function(t){return lp(n.R,t)}))},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach((function(t){var e,r,i=(e=n.R,"found"in(r=t)?function(t,e){wh(!!e.found),e.found.name,e.found.updateTime;var n=hp(t,e.found.name),r=ap(e.found.updateTime),i=new cf({mapValue:{fields:e.found.fields}});return hf.newFoundDocument(n,r,i)}(e,r):"missing"in r?function(t,e){wh(!!e.missing),wh(!!e.readTime);var n=hp(t,e.missing),r=ap(e.readTime);return hf.newNoDocument(n,r)}(e,r):bh());s.set(i.key.toString(),i)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());wh(!!e),a.push(e)})),a)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(n){this.lastWriteError=n}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Ad(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Ni(this,void 0,void 0,(function(){var t,e=this;return Di(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=zh.fromPath(n);e.mutations.push(new Nd(r,e.precondition(r)))})),[4,function(t,e){return Ni(this,void 0,void 0,(function(){var n,r,i;return Di(this,(function(o){switch(o.label){case 0:return n=_h(t),r=pp(n.R)+"/documents",i={writes:e.map((function(t){return yp(n.R,t)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw bh();e=Nh.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new fh(hh.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?fd.updateTime(e):fd.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Nh.min()))throw new fh(hh.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return fd.updateTime(e)}return fd.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}(),Bg=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new uy(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return Ni(t,void 0,void 0,(function(){var t,e,n=this;return Di(this,(function(r){return t=new qg(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Kh(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Od(e)}return!1},t}(),Gg=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Gm.UNAUTHENTICATED,this.clientId=Th.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,(function(t){return Ni(r,void 0,void 0,(function(){return Di(this,(function(e){switch(e.label){case 0:return vh("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}}))}))}))}return t.prototype.getConfiguration=function(){return Ni(this,void 0,void 0,(function(){return Di(this,(function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new fh(hh.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new nv;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Ni(t,void 0,void 0,(function(){var t,n;return Di(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=qy(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Yg(t,e){return Ni(this,void 0,void 0,(function(){var n,r,i=this;return Di(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),vh("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener((function(t){return Ni(i,void 0,void 0,(function(){return Di(this,(function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,Im(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}}))}))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function Kg(t,e){return Ni(this,void 0,void 0,(function(){var n,r;return Di(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Hg(t)];case 1:return n=i.sent(),vh("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener((function(t){return function(t,e){return Ni(this,void 0,void 0,(function(){var n,r;return Di(this,(function(i){switch(i.label){case 0:return(n=_h(t)).asyncQueue.verifyOperationInProgress(),vh("RemoteStore","RemoteStore received new credentials"),r=Ty(n),n.$r.add(3),[4,my(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,vy(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,t)})),t.onlineComponents=e,[2]}}))}))}function Hg(t){return Ni(this,void 0,void 0,(function(){return Di(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(vh("FirestoreClient","Using default OfflineComponentProvider"),[4,Yg(t,new Lg)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function Wg(t){return Ni(this,void 0,void 0,(function(){return Di(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(vh("FirestoreClient","Using default OnlineComponentProvider"),[4,Kg(t,new Ug)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function zg(t){return Hg(t).then((function(t){return t.persistence}))}function Qg(t){return Hg(t).then((function(t){return t.localStore}))}function $g(t){return Wg(t).then((function(t){return t.remoteStore}))}function Xg(t){return Wg(t).then((function(t){return t.syncEngine}))}function Jg(t){return Ni(this,void 0,void 0,(function(){var e,n;return Di(this,(function(r){switch(r.label){case 0:return[4,Wg(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=og.bind(null,e.syncEngine),n.onUnlisten=ag.bind(null,e.syncEngine),n)]}}))}))}function Zg(t,e,n){var r=this;void 0===n&&(n={});var i=new nv;return t.asyncQueue.enqueueAndForget((function(){return Ni(r,void 0,void 0,(function(){var r;return Di(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new jg({next:function(o){e.enqueueAndForget((function(){return zy(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new fh(hh.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new fh(hh.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Jy(Pf(n.path),o,{includeMetadataChanges:!0,so:!0});return Wy(t,s)},[4,Jg(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}function tb(t,e,n){var r=this;void 0===n&&(n={});var i=new nv;return t.asyncQueue.enqueueAndForget((function(){return Ni(r,void 0,void 0,(function(){var r;return Di(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new jg({next:function(n){e.enqueueAndForget((function(){return zy(t,s)})),n.fromCache&&"server"===r.source?i.reject(new fh(hh.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Jy(n,o,{includeMetadataChanges:!0,so:!0});return Wy(t,s)},[4,Jg(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}var eb=function(t,e,n,r,i,o,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s},nb=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),rb=new Map,ib=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},ob=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable((function(){return e(Gm.UNAUTHENTICATED)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),sb=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable((function(){return e(n.token.user)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),ab=function(){function t(t){var e=this;this.currentUser=Gm.UNAUTHENTICATED,this.oc=new nv,this.cc=0,this.changeListener=function(){return Promise.resolve()},this.ac=!1,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.hc(),e.oc.resolve(),e.ac&&e.asyncQueue.enqueueRetryable((function(){return e.changeListener(e.currentUser)}))};var n=function(t){vh("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.lc(),e.auth.addAuthTokenListener(e.uc)};t.onInit((function(t){return n(t)})),setTimeout((function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):e.ac&&(vh("FirebaseCredentialsProvider","Auth not yet detected"),e.asyncQueue.enqueueRetryable((function(){return e.changeListener(e.currentUser)})))}}),0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(vh("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(wh("string"==typeof n.accessToken),new ib(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){this.ac=!0,this.asyncQueue=t,this.changeListener=e},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.hc=function(){var t=this.auth&&this.auth.getUid();return wh(null===t||"string"==typeof t),new Gm(t)},t.prototype.lc=function(){var t=this;this.ac&&(this.ac=!1,this.asyncQueue.enqueueRetryable((function(){return Ni(t,void 0,void 0,(function(){return Di(this,(function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,this.changeListener(this.currentUser)];case 2:return t.sent(),this.ac=!0,[2]}}))}))})))},t}(),ub=function(){function t(t,e,n){this.fc=t,this.dc=e,this.wc=n,this.type="FirstParty",this.user=Gm.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.dc},e=this.fc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.wc&&(t["X-Goog-Iam-Authorization-Token"]=this.wc),t},enumerable:!1,configurable:!0}),t}(),cb=function(){function t(t,e,n){this.fc=t,this.dc=e,this.wc=n}return t.prototype.getToken=function(){return Promise.resolve(new ub(this.fc,this.dc,this.wc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable((function(){return e(Gm.FIRST_PARTY)}))},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(t,e,n){if(!n)throw new fh(hh.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function hb(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new fh(hh.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function fb(t,e,n,r){if(!0===e&&!0===r)throw new fh(hh.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function db(t){if(!zh.isDocumentKey(t))throw new fh(hh.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function pb(t){if(zh.isDocumentKey(t))throw new fh(hh.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function vb(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":bh()}function mb(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fh(hh.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=vb(t);throw new fh(hh.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function yb(t,e){if(e<=0)throw new fh(hh.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gb=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new fh(hh.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new fh(hh.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,fb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),bb=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gb({}),this._settingsFrozen=!1,t instanceof nb?(this._databaseId=t,this._credentials=new ob):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new fh(hh.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nb(t.options.projectId)}(t),this._credentials=new ab(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new fh(hh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new fh(hh.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gb(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new ob;switch(t.type){case"gapi":var e=t.client;return wh(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new cb(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new fh(hh.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return this,(t=rb.get(this))&&(vh("ComponentProvider","Removing Datastore"),rb.delete(this),t.terminate()),Promise.resolve();var t},t}(),wb=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Ib(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),_b=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Ib=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Pf(r))||this)._path=r,i.type="collection",i}return ki(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new wb(this.firestore,null,new zh(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(_b);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Xi(t),lb("collection","path",e),t instanceof bb)return pb(n=Rh.fromString.apply(Rh,xi([e],r))),new Ib(t,null,n);if(!(t instanceof wb||t instanceof Ib))throw new fh(hh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return pb(n=Rh.fromString.apply(Rh,xi([t.path],r)).child(Rh.fromString(e))),new Ib(t.firestore,null,n)}function Eb(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Xi(t),1===arguments.length&&(e=Th.u()),lb("doc","path",e),t instanceof bb)return db(n=Rh.fromString.apply(Rh,xi([e],r))),new wb(t,null,new zh(n));if(!(t instanceof wb||t instanceof Ib))throw new fh(hh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return db(n=t._path.child(Rh.fromString.apply(Rh,xi([e],r)))),new wb(t.firestore,t instanceof Ib?t.converter:null,new zh(n))}function Sb(t,e){return t=Xi(t),e=Xi(e),(t instanceof wb||t instanceof Ib)&&(e instanceof wb||e instanceof Ib)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function kb(t,e){return t=Xi(t),e=Xi(e),t instanceof _b&&e instanceof _b&&t.firestore===e.firestore&&Gf(t._query,e._query)&&t.converter===e.converter}var Ab=function(){function t(){var t=this;this._c=Promise.resolve(),this.mc=[],this.yc=!1,this.gc=[],this.Ec=null,this.Tc=!1,this.Ic=[],this.Zi=new uy(this,"async_queue_retry"),this.Ac=function(){var e=sy();e&&vh("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=sy();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ac)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.yc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Rc(),this.bc(t)},t.prototype.enterRestrictedMode=function(){if(!this.yc){this.yc=!0;var t=sy();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ac)}},t.prototype.enqueue=function(t){return this.Rc(),this.yc?new Promise((function(t){})):this.bc(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.mc.push(t),e.vc()}))},t.prototype.vc=function(){return Ni(this,void 0,void 0,(function(){var t,e=this;return Di(this,(function(n){switch(n.label){case 0:if(0===this.mc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.mc[0]()];case 2:return n.sent(),this.mc.shift(),this.Zi.reset(),[3,4];case 3:if(!uv(t=n.sent()))throw t;return vh("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.mc.length>0&&this.Zi.ji((function(){return e.vc()})),n.label=5;case 5:return[2]}}))}))},t.prototype.bc=function(t){var e=this,n=this._c.then((function(){return e.Tc=!0,t().catch((function(t){throw e.Ec=t,e.Tc=!1,mh("INTERNAL UNHANDLED ERROR: ",(r=(n=t).message||"",n.stack&&(r=n.stack.includes(n.message)?n.stack:n.message+"\n"+n.stack),r)),t;var n,r})).then((function(t){return e.Tc=!1,t}))}));return this._c=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Rc(),this.Ic.indexOf(t)>-1&&(e=0);var i=jy.createAndSchedule(this,t,e,n,(function(t){return r.Pc(t)}));return this.gc.push(i),i},t.prototype.Rc=function(){this.Ec&&bh()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Vc=function(){return Ni(this,void 0,void 0,(function(){var t;return Di(this,(function(e){switch(e.label){case 0:return[4,t=this._c];case 1:e.sent(),e.label=2;case 2:if(t!==this._c)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Sc=function(t){for(var e=0,n=this.gc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Dc=function(t){var e=this;return this.Vc().then((function(){e.gc.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e.gc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Vc()}))},t.prototype.Cc=function(t){this.Ic.push(t)},t.prototype.Pc=function(t){var e=this.gc.indexOf(t);this.gc.splice(e,1)},t}();function Nb(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Db=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new Ab,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return ki(e,t),e.prototype._terminate=function(){return this._firestoreClient||Cb(this),this._firestoreClient.terminate()},e}(bb);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(t){return t._firestoreClient||Cb(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Cb(t){var e,n,r,i,o,s=t._freezeSettings(),a=(n=t._databaseId,r=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",i=t._persistenceKey,new eb(n,r,i,(o=s).host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling));t._firestoreClient=new Gg(t._credentials,t._queue,a)}function xb(t,e,n){var r=this,i=new nv;return t.asyncQueue.enqueue((function(){return Ni(r,void 0,void 0,(function(){var r;return Di(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Yg(t,n)];case 1:return o.sent(),[4,Kg(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!("FirebaseError"===(s=r=o.sent()).name?s.code===hh.FAILED_PRECONDITION||s.code===hh.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}var s}))}))})).then((function(){return i.promise}))}function Rb(t){if(t._initialized||t._terminated)throw new fh(hh.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pb=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new fh(hh.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mh(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Mb=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Fh.fromBase64String(e))}catch(n){throw new fh(hh.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},t.fromUint8Array=function(e){return new t(Fh.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Lb=function(t){this._methodName=t},Fb=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new fh(hh.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new fh(hh.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Eh(this._lat,t._lat)||Eh(this._long,t._long)},t}(),Vb=/^__.*__$/,Ub=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new _d(t,this.data,this.fieldMask,e,this.fieldTransforms):new wd(t,this.data,e,this.fieldTransforms)},t}(),jb=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new _d(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bh()}}var Bb=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Nc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"xc",{get:function(){return this.settings.xc},enumerable:!1,configurable:!0}),t.prototype.Fc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fc({path:n,Oc:!1});return r.$c(t),r},t.prototype.Mc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fc({path:n,Oc:!1});return r.Nc(),r},t.prototype.Lc=function(t){return this.Fc({path:void 0,Oc:!0})},t.prototype.Bc=function(t){return uw(t,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Uc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Nc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Bc("Document fields must not be empty");if(qb(this.xc)&&Vb.test(t))throw this.Bc('Document fields cannot begin and end with "__"')},t}(),Gb=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||ay(t)}return t.prototype.Qc=function(t,e,n,r){return void 0===r&&(r=!1),new Bb({xc:t,methodName:e,Uc:n,path:Mh.emptyPath(),Oc:!1,qc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Yb(t){var e=t._freezeSettings(),n=ay(t._databaseId);return new Gb(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Kb(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Qc(o.merge||o.mergeFields?2:0,e,n,i);iw("Data must be an object, but it was:",s,r);var a,u,c=nw(r,s);if(o.merge)a=new Lh(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=ow(e,f[h],n);if(!s.contains(d))throw new fh(hh.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");cw(l,d)||l.push(d)}a=new Lh(l),u=s.fieldTransforms.filter((function(t){return a.covers(t.field)}))}else a=null,u=s.fieldTransforms;return new Ub(new cf(c),a,u)}var Hb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ki(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.xc)throw 1===t.xc?t.Bc(this._methodName+"() can only appear at the top level of your update data"):t.Bc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Lb);function Wb(t,e,n){return new Bb({xc:3,Uc:e.settings.Uc,methodName:t._methodName,Oc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var zb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ki(e,t),e.prototype._toFieldTransform=function(t){return new ld(t.path,new nd)},e.prototype.isEqual=function(t){return t instanceof e},e}(Lb),Qb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return ki(e,t),e.prototype._toFieldTransform=function(t){var e=Wb(this,t,!0),n=this.Kc.map((function(t){return ew(t,e)})),r=new rd(n);return new ld(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Lb),$b=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return ki(e,t),e.prototype._toFieldTransform=function(t){var e=Wb(this,t,!0),n=this.Kc.map((function(t){return ew(t,e)})),r=new od(n);return new ld(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Lb),Xb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return ki(e,t),e.prototype._toFieldTransform=function(t){var e=new ad(t.R,Xf(t.R,this.jc));return new ld(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Lb);function Jb(t,e,n,r){var i=t.Qc(1,e,n);iw("Data must be an object, but it was:",i,r);var o=[],s=cf.empty();Oh(r,(function(t,r){var a=aw(e,t,n);r=Xi(r);var u=i.Mc(a);if(r instanceof Hb)o.push(a);else{var c=ew(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new Lh(o);return new jb(s,a,i.fieldTransforms)}function Zb(t,e,n,r,i,o){var s=t.Qc(1,e,n),a=[ow(e,r,n)],u=[i];if(o.length%2!=0)throw new fh(hh.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(ow(e,o[c])),u.push(o[c+1]);for(var l=[],h=cf.empty(),f=a.length-1;f>=0;--f)if(!cw(l,a[f])){var d=a[f],p=u[f];p=Xi(p);var v=s.Mc(d);if(p instanceof Hb)l.push(d);else{var m=ew(p,v);null!=m&&(l.push(d),h.set(d,m))}}var y=new Lh(l);return new jb(h,y,s.fieldTransforms)}function tw(t,e,n,r){return void 0===r&&(r=!1),ew(n,t.Qc(r?4:3,e))}function ew(t,e){if(rw(t=Xi(t)))return iw("Unsupported field value:",e,t),nw(t,e);if(t instanceof Lb)return function(t,e){if(!qb(e.xc))throw e.Bc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Bc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Oc&&4!==e.xc)throw e.Bc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=ew(o[i],e.Lc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Xi(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Xf(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Ah.fromDate(t);return{timestampValue:ip(e.R,n)}}if(t instanceof Ah)return n=new Ah(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:ip(e.R,n)};if(t instanceof Fb)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Mb)return{bytesValue:op(e.R,t._byteString)};if(t instanceof wb){n=e.databaseId;var r=t.firestore._databaseId;if(!r.isEqual(n))throw e.Bc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:up(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Bc("Unsupported field value: "+vb(t))}(t,e)}function nw(t,e){var n={};return Ch(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oh(t,(function(t,r){var i=ew(r,e.kc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function rw(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ah||t instanceof Fb||t instanceof Mb||t instanceof wb||t instanceof Lb)}function iw(t,e,n){if(!rw(n)||("object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i))){var r=vb(n);throw"an object"===r?e.Bc(t+" a custom object"):e.Bc(t+" "+r)}var i}function ow(t,e,n){if((e=Xi(e))instanceof Pb)return e._internalPath;if("string"==typeof e)return aw(t,e);throw uw("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var sw=new RegExp("[~\\*/\\[\\]]");function aw(t,e,n){if(e.search(sw)>=0)throw uw("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Pb.bind.apply(Pb,xi([void 0],e.split(".")))))._internalPath}catch(r){throw uw("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function uw(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new fh(hh.INVALID_ARGUMENT,(a+=". ")+t+u)}function cw(t,e){return t.some((function(t){return t.isEqual(e)}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lw=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new wb(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new hw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(fw("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),hw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ki(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(lw);function fw(t,e){return"string"==typeof e?aw(t,e):e instanceof Pb?e._internalPath:e._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dw=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),pw=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return ki(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new vw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(fw("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(lw),vw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ki(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(pw),mw=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new dw(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new vw(n._firestore,n._userDataWriter,r.key,r,new dw(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new fh(hh.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){var r=new vw(t._firestore,t._userDataWriter,e.doc.key,e.doc,new dw(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new vw(t._firestore,t._userDataWriter,e.doc.key,e.doc,new dw(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:yw(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function yw(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bh()}}function gw(t,e){return t instanceof pw&&e instanceof pw?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof mw&&e instanceof mw&&t._firestore===e._firestore&&kb(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(t){if(Lf(t)&&0===t.explicitOrderBy.length)throw new fh(hh.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ww=function(){};function _w(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Iw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Wc=e,i.Gc=n,i.zc=r,i.type="where",i}return ki(e,t),e.prototype._apply=function(t){var e,n,r,i=Yb(t.firestore),o=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new fh(hh.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Dw(s,o);for(var u=[],c=0,l=s;c<l.length;c++){var h=l[c];u.push(Nw(r,t,h))}a={arrayValue:{values:u}}}else a=Nw(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Dw(s,o),a=tw(n,"where",s,"in"===o||"not-in"===o);var f=yf.create(i,o,a);return function(t,e){if(e.g()){var n=Vf(t);if(null!==n&&!n.isEqual(e.field))throw new fh(hh.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Ff(t);null!==r&&Ow(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new fh(hh.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new fh(hh.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t._query,0,i,t.firestore._databaseId,this.Wc,this.Gc,this.zc);return new _b(t.firestore,t.converter,(e=t._query,n=o,r=e.filters.concat([n]),new xf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)))},e}(ww),Tw=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Wc=e,r.Hc=n,r.type="orderBy",r}return ki(e,t),e.prototype._apply=function(t){var e,n,r,i=function(t,e,n){if(null!==t.startAt)throw new fh(hh.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new fh(hh.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Nf(e,n);return function(t,e){if(null===Ff(t)){var n=Vf(t);null!==n&&Ow(t,n,e.field)}}(t,r),r}(t._query,this.Wc,this.Hc);return new _b(t.firestore,t.converter,(e=t._query,n=i,r=e.explicitOrderBy.concat([n]),new xf(e.path,e.collectionGroup,r,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)))},e}(ww),Ew=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return ki(e,t),e.prototype._apply=function(t){return new _b(t.firestore,t.converter,Bf(t._query,this.Jc,this.Yc))},e}(ww),Sw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return ki(e,t),e.prototype._apply=function(t){var e,n,r=Aw(t,this.type,this.Xc,this.Zc);return new _b(t.firestore,t.converter,(e=t._query,n=r,new xf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,n,e.endAt)))},e}(ww),kw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return ki(e,t),e.prototype._apply=function(t){var e,n,r=Aw(t,this.type,this.Xc,this.Zc);return new _b(t.firestore,t.converter,(e=t._query,n=r,new xf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,n)))},e}(ww);function Aw(t,e,n,r){if(n[0]=Xi(n[0]),n[0]instanceof lw)return function(t,e,n,r,i){if(!r)throw new fh(hh.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=jf(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(nf(e,r.key));else{var c=r.data.field(u.field);if(Bh(c))throw new fh(hh.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new fh(hh.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new kf(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Yb(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new fh(hh.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new fh(hh.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Uf(t)&&-1!==c.indexOf("/"))throw new fh(hh.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Rh.fromString(c));if(!zh.isDocumentKey(l))throw new fh(hh.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new zh(l);a.push(nf(e,h))}else{var f=tw(n,r,c);a.push(f)}}return new kf(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function Nw(t,e,n){if("string"==typeof(n=Xi(n))){if(""===n)throw new fh(hh.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Uf(e)&&-1!==n.indexOf("/"))throw new fh(hh.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Rh.fromString(n));if(!zh.isDocumentKey(r))throw new fh(hh.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return nf(t,new zh(r))}if(n instanceof wb)return nf(t,n._key);throw new fh(hh.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+vb(n)+".")}function Dw(t,e){if(!Array.isArray(t)||0===t.length)throw new fh(hh.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new fh(hh.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Ow(t,e,n){if(!n.isEqual(e))throw new fh(hh.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cw=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Qh(t)){case 0:return null;case 1:return t.booleanValue;case 2:return jh(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(qh(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw bh()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Oh(t.fields||{},(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new Fb(jh(t.latitude),jh(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=Gh(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Yh(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Uh(t);return new Ah(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Rh.fromString(t);wh(xp(n));var r=new nb(n.get(1),n.get(3)),i=new zh(n.popFirst(5));return r.isEqual(e)||mh("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Rw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return ki(e,t),e.prototype.convertBytes=function(t){return new Mb(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new wb(this.firestore,null,e)},e}(Cw),Pw=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Yb(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Mw(t,this._firestore),i=xw(r.converter,e,n),o=Kb(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,fd.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=Mw(t,this._firestore);return o="string"==typeof(e=Xi(e))||e instanceof Pb?Zb(this._dataReader,"WriteBatch.update",s._key,e,n,r):Jb(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,fd.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Mw(t,this._firestore);return this._mutations=this._mutations.concat(new Ad(e._key,fd.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new fh(hh.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(t,e){if((t=Xi(t)).firestore!==e)throw new fh(hh.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return ki(e,t),e.prototype.convertBytes=function(t){return new Mb(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new wb(this.firestore,null,e)},e}(Cw);function Fw(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=mb(t,wb);var o=mb(t.firestore,Db),s=Yb(o);return Uw(o,[("string"==typeof(e=Xi(e))||e instanceof Pb?Zb(s,"updateDoc",t._key,e,n,r):Jb(s,"updateDoc",t._key,e)).toMutation(t._key,fd.exists(!0))])}function Vw(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Xi(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Nb(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(Nb(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof wb)c=mb(t.firestore,Db),l=Pf(t._key.path),u={next:function(e){i[a]&&i[a](jw(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=mb(t,_b);c=mb(d.firestore,Db),l=d._query;var p=new Lw(c);u={next:function(t){i[a]&&i[a](new mw(c,p,d,t))},error:i[a+1],complete:i[a+2]},bw(t._query)}return function(t,e,n,r){var i=this,o=new jg(r),s=new Jy(e,o,n);return t.asyncQueue.enqueueAndForget((function(){return Ni(i,void 0,void 0,(function(){var e;return Di(this,(function(n){switch(n.label){case 0:return e=Wy,[4,Jg(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.Wo(),t.asyncQueue.enqueueAndForget((function(){return Ni(i,void 0,void 0,(function(){var e;return Di(this,(function(n){switch(n.label){case 0:return e=zy,[4,Jg(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(Ob(c),l,h,u)}function Uw(t,e){return function(t,e){var n=this,r=new nv;return t.asyncQueue.enqueueAndForget((function(){return Ni(n,void 0,void 0,(function(){var n;return Di(this,(function(i){switch(i.label){case 0:return n=ug,[4,Xg(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(Ob(t),e)}function jw(t,e,n){var r=n.docs.get(e._key),i=new Lw(t);return new pw(t,i,e._key,r,new dw(n.hasPendingWrites,n.fromCache),e.converter)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return ki(e,t),e.prototype.get=function(e){var n=this,r=Mw(e,this._firestore),i=new Lw(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new pw(n._firestore,i,r._key,t._document,new dw(!1,!1),r.converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=Yb(t)}return t.prototype.get=function(t){var e=this,n=Mw(t,this._firestore),r=new Rw(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return bh();var i=t[0];if(i.isFoundDocument())return new lw(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new lw(e._firestore,r,n._key,null,n.converter);throw bh()}))},t.prototype.set=function(t,e,n){var r=Mw(t,this._firestore),i=xw(r.converter,e,n),o=Kb(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=Mw(t,this._firestore);return o="string"==typeof(e=Xi(e))||e instanceof Pb?Zb(this._dataReader,"Transaction.update",s._key,e,n,r):Jb(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=Mw(t,this._firestore);return this._transaction.delete(e._key),this},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(){if("undefined"==typeof Uint8Array)throw new fh(hh.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Gw(){if("undefined"==typeof atob)throw new fh(hh.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Yw=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return Gw(),new t(Mb.fromBase64String(e))},t.fromUint8Array=function(e){return Bw(),new t(Mb.fromUint8Array(e))},t.prototype.toBase64=function(){return Gw(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return Bw(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Kw=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Rb(t=mb(t,Db));var n=Ob(t),r=t._freezeSettings(),i=new Ug;return xb(n,i,new Fg(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Rb(t=mb(t,Db));var e=Ob(t),n=t._freezeSettings(),r=new Ug;return xb(e,r,new Vg(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new fh(hh.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new nv;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return Ni(e,void 0,void 0,(function(){var e;return Di(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Ni(this,void 0,void 0,(function(){var e;return Di(this,(function(n){switch(n.label){case 0:return ov.yt()?(e=t+"main",[4,ov.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(mm(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),Hw=function(){function t(t,e,n){var r=this;this._delegate=e,this.ta=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof nb||(this.ea=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=mb(t,bb))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&yh("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=Ai({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ri.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),Ri.encodeString(JSON.stringify(o),!1),""].join(".")}(r.mockUserToken),s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new fh(hh.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new sb(new ib(o,new Gm(s)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Ni(e,void 0,void 0,(function(){var e,n;return Di(this,(function(r){switch(r.label){case 0:return[4,zg(t)];case 1:return e=r.sent(),[4,$g(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),i=n,o=_h(i),o.$r.delete(0),vy(o))]}var i,o}))}))}))}(Ob(mb(this._delegate,Db)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Ni(e,void 0,void 0,(function(){var e,n;return Di(this,(function(r){switch(r.label){case 0:return[4,zg(t)];case 1:return e=r.sent(),[4,$g(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Ni(this,void 0,void 0,(function(){var e;return Di(this,(function(n){switch(n.label){case 0:return(e=_h(t)).$r.add(0),[4,my(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Ob(mb(this._delegate,Db)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&fb("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.ta.enableMultiTabIndexedDbPersistence(this):this.ta.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.ta.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.ea&&(this.ea._removeServiceInstance("firestore"),this.ea._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new nv;return t.asyncQueue.enqueueAndForget((function(){return Ni(e,void 0,void 0,(function(){var e;return Di(this,(function(r){switch(r.label){case 0:return e=pg,[4,Xg(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Ob(mb(this._delegate,Db)))},t.prototype.onSnapshotsInSync=function(t){return e=this._delegate,n=t,function(t,e){var n=this,r=new jg(e);return t.asyncQueue.enqueueAndForget((function(){return Ni(n,void 0,void 0,(function(){var e;return Di(this,(function(n){switch(n.label){case 0:return e=function(t,e){_h(t).Gr.add(e),e.next()},[4,Jg(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),t.asyncQueue.enqueueAndForget((function(){return Ni(n,void 0,void 0,(function(){var e;return Di(this,(function(n){switch(n.label){case 0:return e=function(t,e){_h(t).Gr.delete(e)},[4,Jg(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(Ob(e=mb(e,Db)),Nb(n)?n:{next:n});var e,n},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.ea)throw new fh(hh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.ea},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new s_(this,Tb(this._delegate,t))}catch(e){throw Jw(e,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new Xw(this,Eb(this._delegate,t))}catch(e){throw Jw(e,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new r_(this,function(t,e){if(t=mb(t,bb),lb("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new fh(hh.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new _b(t,null,(n=e,new xf(Rh.emptyPath(),n)));var n}(this._delegate,t))}catch(e){throw Jw(e,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e,n=this;return function(t,e){var n=this,r=new nv;return t.asyncQueue.enqueueAndForget((function(){return Ni(n,void 0,void 0,(function(){var n;return Di(this,(function(i){switch(i.label){case 0:return[4,(o=t,Wg(o).then((function(t){return t.datastore})))];case 1:return n=i.sent(),new Bg(t.asyncQueue,n,e,r).run(),[2]}var o}))}))})),r.promise}(Ob(e=this._delegate),(function(r){return function(e){return t(new zw(n,e))}(new qw(e,r))}))},t.prototype.batch=function(){var t=this;return Ob(this._delegate),new Qw(new Pw(this._delegate,(function(e){return Uw(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new fh(hh.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new fh(hh.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Ww=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return ki(e,t),e.prototype.convertBytes=function(t){return new Yw(new Mb(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Xw.na(e,this.firestore,null)},e}(Cw);var zw=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Ww(t)}return t.prototype.get=function(t){var e=this,n=a_(t);return this._delegate.get(n).then((function(t){return new e_(e._firestore,new pw(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))}))},t.prototype.set=function(t,e,n){var r=a_(t);return n?(hb("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=a_(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,xi([s,e,n],i)),this},t.prototype.delete=function(t){var e=a_(t);return this._delegate.delete(e),this},t}(),Qw=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=a_(t);return n?(hb("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=a_(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,xi([s,e,n],i)),this},t.prototype.delete=function(t){var e=a_(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),$w=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new vw(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new n_(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.sa=function(e,n){var r=t.ia,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new Ww(e),n),i.set(n,o)),o},t}();$w.ia=new WeakMap;var Xw=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Ww(t)}return t.ra=function(e,n,r){if(e.length%2!=0)throw new fh(hh.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new wb(n._delegate,r,new zh(e)))},t.na=function(e,n,r){return new t(n,new wb(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new s_(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new s_(this.firestore,Tb(this._delegate,t))}catch(e){throw Jw(e,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Xi(t))instanceof wb&&Sb(this._delegate,t)},t.prototype.set=function(t,e){e=hb("DocumentReference.set",e);try{return function(t,e,n){t=mb(t,wb);var r=mb(t.firestore,Db),i=xw(t.converter,e,n);return Uw(r,[Kb(Yb(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,fd.none())])}(this._delegate,t,e)}catch(n){throw Jw(n,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Fw(this._delegate,t):Fw.apply(void 0,xi([this._delegate,t,e],n))}catch(i){throw Jw(i,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Uw(mb((t=this._delegate).firestore,Db),[new Ad(t._key,fd.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Zw(e),i=t_(e,(function(e){return new e_(t.firestore,new pw(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}));return Vw(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=mb(t,wb);var e=mb(t.firestore,Db),n=Ob(e),r=new Lw(e);return function(t,e){var n=this,r=new nv;return t.asyncQueue.enqueueAndForget((function(){return Ni(n,void 0,void 0,(function(){var n;return Di(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Ni(this,void 0,void 0,(function(){var r,i;return Di(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(s=t,a=e,u=_h(s),u.persistence.runTransaction("read document","readonly",(function(t){return u.Mn.mn(t,a)})))];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new fh(hh.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=qy(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}var s,a,u}))}))},[4,Qg(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new pw(e,r,t._key,n,new dw(null!==n&&n.hasLocalMutations,!0),t.converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=mb(t,wb);var e=mb(t.firestore,Db);return Zg(Ob(e),t._key,{source:"server"}).then((function(n){return jw(e,t,n)}))}(this._delegate):function(t){t=mb(t,wb);var e=mb(t.firestore,Db);return Zg(Ob(e),t._key).then((function(n){return jw(e,t,n)}))}(this._delegate)).then((function(t){return new e_(e.firestore,new pw(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter($w.sa(this.firestore,e)):this._delegate.withConverter(null))},t}();function Jw(t,e,n){return t.message=t.message.replace(e,n),t}function Zw(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Nb(r))return r}return{}}function t_(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Nb(t[0])?t[0]:Nb(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var e_=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Xw(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return gw(this._delegate,t._delegate)},t}(),n_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ki(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(e_),r_=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Ww(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,_w(this._delegate,(o=r,s=i=n,a=fw("where",e),new Iw(a,s,o))))}catch(i){throw Jw(i,/(orderBy|where)\(\)/,"Query.$1()")}var i,o,s,a},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,_w(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=fw("orderBy",t);return new Tw(r,n)}(e,n)))}catch(r){throw Jw(r,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,_w(this._delegate,(yb("limit",n=e),new Ew("limit",n,"F"))))}catch(r){throw Jw(r,"limit()","Query.limit()")}var n},t.prototype.limitToLast=function(e){try{return new t(this.firestore,_w(this._delegate,(yb("limitToLast",n=e),new Ew("limitToLast",n,"L"))))}catch(r){throw Jw(r,"limitToLast()","Query.limitToLast()")}var n},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,_w(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Sw("startAt",t,!0)}.apply(void 0,e)))}catch(r){throw Jw(r,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,_w(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Sw("startAfter",t,!1)}.apply(void 0,e)))}catch(r){throw Jw(r,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,_w(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new kw("endBefore",t,!0)}.apply(void 0,e)))}catch(r){throw Jw(r,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,_w(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new kw("endAt",t,!1)}.apply(void 0,e)))}catch(r){throw Jw(r,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return kb(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=mb(t,_b);var e=mb(t.firestore,Db),n=Ob(e),r=new Lw(e);return function(t,e){var n=this,r=new nv;return t.asyncQueue.enqueueAndForget((function(){return Ni(n,void 0,void 0,(function(){var n;return Di(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Ni(this,void 0,void 0,(function(){var r,i,o,s,a;return Di(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Dm(t,e,!0)];case 1:return a=u.sent(),r=new eg(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=qy(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,Qg(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new mw(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=mb(t,_b);var e=mb(t.firestore,Db),n=Ob(e),r=new Lw(e);return tb(n,t._query,{source:"server"}).then((function(n){return new mw(e,r,t,n)}))}(this._delegate):function(t){t=mb(t,_b);var e=mb(t.firestore,Db),n=Ob(e),r=new Lw(e);return bw(t._query),tb(n,t._query).then((function(n){return new mw(e,r,t,n)}))}(this._delegate)).then((function(t){return new o_(e.firestore,new mw(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Zw(e),i=t_(e,(function(e){return new o_(t.firestore,new mw(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return Vw(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter($w.sa(this.firestore,e)):this._delegate.withConverter(null))},t}(),i_=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new n_(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),o_=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new r_(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new n_(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new i_(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new n_(n._firestore,r))}))},t.prototype.isEqual=function(t){return gw(this._delegate,t._delegate)},t}(),s_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return ki(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Xw(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Xw(this.firestore,void 0===t?Eb(this._delegate):Eb(this._delegate,t))}catch(e){throw Jw(e,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e,n,r,i,o,s=this;return(e=this._delegate,n=t,r=mb(e.firestore,Db),i=Eb(e),o=xw(e.converter,n),Uw(r,[Kb(Yb(e.firestore),"addDoc",i._key,o,null!==e.converter,{}).toMutation(i._key,fd.exists(!1))]).then((function(){return i}))).then((function(t){return new Xw(s.firestore,t)}))},e.prototype.isEqual=function(t){return Sb(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter($w.sa(this.firestore,t)):this._delegate.withConverter(null))},e}(r_);function a_(t){return mb(t,wb)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var u_,c_=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Pb.bind.apply(Pb,xi([void 0],t)))}return t.documentId=function(){return new t(Mh.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Xi(t))instanceof Pb&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),l_=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new zb("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Hb("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Qb("arrayUnion",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new $b("arrayRemove",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=new Xb("increment",e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),h_={Firestore:Hw,GeoPoint:Fb,Timestamp:Ah,Blob:Yw,Transaction:zw,WriteBatch:Qw,DocumentReference:Xw,DocumentSnapshot:e_,Query:r_,QueryDocumentSnapshot:n_,QuerySnapshot:o_,CollectionReference:s_,FieldPath:c_,FieldValue:l_,setLogLevel:function(t){var e;e=t,dh.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(u_=Ao).INTERNAL.registerComponent(new Ji("firestore",(function(t){return function(t,e){return new Hw(t,new Db(t,e),new Kw)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},h_))),u_.registerVersion("@firebase/firestore","2.3.1");
/*!
  * vue-router v4.0.8
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */
const f_="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,d_=t=>f_?Symbol(t):"_vr_"+t,p_=d_("rvlm"),v_=d_("rvd"),m_=d_("r"),y_=d_("rl"),g_=d_("rvl"),b_="undefined"!=typeof window;const w_=Object.assign;function __(t,e){const n={};for(const r in e){const i=e[r];n[r]=Array.isArray(i)?i.map(t):t(i)}return n}let I_=()=>{};const T_=/\/$/;function E_(t,e,n="/"){let r,i={},o="",s="";const a=e.indexOf("?"),u=e.indexOf("#",a>-1?a:0);return a>-1&&(r=e.slice(0,a),o=e.slice(a+1,u>-1?u:e.length),i=t(o)),u>-1&&(r=r||e.slice(0,u),s=e.slice(u,e.length)),r=function(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/");let i,o,s=n.length-1;for(i=0;i<r.length;i++)if(o=r[i],1!==s&&"."!==o){if(".."!==o)break;s--}return n.slice(0,s).join("/")+"/"+r.slice(i-(i===r.length?1:0)).join("/")}(null!=r?r:e,n),{fullPath:r+(o&&"?")+o+s,path:r,query:i,hash:s}}function S_(t,e){return!e||t.toLowerCase().indexOf(e.toLowerCase())?t:t.slice(e.length)||"/"}function k_(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function A_(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let n in t)if(!N_(t[n],e[n]))return!1;return!0}function N_(t,e){return Array.isArray(t)?D_(t,e):Array.isArray(e)?D_(e,t):t===e}function D_(t,e){return Array.isArray(e)?t.length===e.length&&t.every(((t,n)=>t===e[n])):1===t.length&&t[0]===e}var O_,C_,x_,R_;function P_(t){if(!t)if(b_){const e=document.querySelector("base");t=(t=e&&e.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return"/"!==t[0]&&"#"!==t[0]&&(t="/"+t),t.replace(T_,"")}(C_=O_||(O_={})).pop="pop",C_.push="push",(R_=x_||(x_={})).back="back",R_.forward="forward",R_.unknown="";const M_=/^[^#]+#/;function L_(t,e){return t.replace(M_,"#")+e}const F_=()=>({left:window.pageXOffset,top:window.pageYOffset});function V_(t){let e;if("el"in t){let n=t.el;const r="string"==typeof n&&n.startsWith("#"),i="string"==typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=function(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(null!=e.left?e.left:window.pageXOffset,null!=e.top?e.top:window.pageYOffset)}function U_(t,e){return(history.state?history.state.position-e:-1)+t}const j_=new Map;function q_(t,e){const{pathname:n,search:r,hash:i}=e,o=t.indexOf("#");if(o>-1){let e=i.includes(t.slice(o))?t.slice(o).length:1,n=i.slice(e);return"/"!==n[0]&&(n="/"+n),S_(n,"")}return S_(n,t)+r+i}function B_(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?F_():null}}function G_(t){const{history:e,location:n}=window;let r={value:q_(t,n)},i={value:e.state};function o(r,o,s){const a=t.indexOf("#"),u=a>-1?(n.host&&document.querySelector("base")?t:t.slice(a))+r:location.protocol+"//"+location.host+t+r;try{e[s?"replaceState":"pushState"](o,"",u),i.value=o}catch(c){console.error(c),n[s?"replace":"assign"](u)}}return i.value||o(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0),{location:r,state:i,push:function(t,n){const s=w_({},i.value,e.state,{forward:t,scroll:F_()});o(s.current,s,!0),o(t,w_({},B_(r.value,t,null),{position:s.position+1},n),!1),r.value=t},replace:function(t,n){o(t,w_({},e.state,B_(i.value.back,t,i.value.forward,!0),n,{position:i.value.position}),!0),r.value=t}}}function Y_(t){const e=G_(t=P_(t)),n=function(t,e,n,r){let i=[],o=[],s=null;const a=({state:o})=>{const a=q_(t,location),u=n.value,c=e.value;let l=0;if(o){if(n.value=a,e.value=o,s&&s===u)return void(s=null);l=c?o.position-c.position:0}else r(a);i.forEach((t=>{t(n.value,u,{delta:l,type:O_.pop,direction:l?l>0?x_.forward:x_.back:x_.unknown})}))};function u(){const{history:t}=window;t.state&&t.replaceState(w_({},t.state,{scroll:F_()}),"")}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:function(){s=n.value},listen:function(t){i.push(t);const e=()=>{const e=i.indexOf(t);e>-1&&i.splice(e,1)};return o.push(e),e},destroy:function(){for(const t of o)t();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}}}(t,e.state,e.location,e.replace);const r=w_({location:"",base:t,go:function(t,e=!0){e||n.pauseListeners(),history.go(t)},createHref:L_.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function K_(t){return"string"==typeof t||"symbol"==typeof t}const H_={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},W_=d_("nf");var z_,Q_;function $_(t,e){return w_(new Error,{type:t,[W_]:!0},e)}function X_(t,e){return t instanceof Error&&W_ in t&&(null==e||!!(t.type&e))}(Q_=z_||(z_={}))[Q_.aborted=4]="aborted",Q_[Q_.cancelled=8]="cancelled",Q_[Q_.duplicated=16]="duplicated";const J_={sensitive:!1,strict:!1,start:!0,end:!0},Z_=/[.+*?^${}()[\]/\\]/g;function tI(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?1===t.length&&80===t[0]?-1:1:t.length>e.length?1===e.length&&80===e[0]?1:-1:0}function eI(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const t=tI(r[n],i[n]);if(t)return t;n++}return i.length-r.length}const nI={type:0,value:""},rI=/[a-zA-Z0-9_]/;function iI(t,e,n){const r=function(t,e){const n=w_({},J_,e);let r=[],i=n.start?"^":"";const o=[];for(const u of t){const t=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let e=0;e<u.length;e++){const r=u[e];let s=40+(n.sensitive?.25:0);if(0===r.type)e||(i+="/"),i+=r.value.replace(Z_,"\\$&"),s+=40;else if(1===r.type){const{value:t,repeatable:n,optional:c,regexp:l}=r;o.push({name:t,repeatable:n,optional:c});const h=l||"[^/]+?";if("[^/]+?"!==h){s+=10;try{new RegExp(`(${h})`)}catch(a){throw new Error(`Invalid custom RegExp for param "${t}" (${h}): `+a.message)}}let f=n?`((?:${h})(?:/(?:${h}))*)`:`(${h})`;e||(f=c&&u.length<2?`(?:/${f})`:"/"+f),c&&(f+="?"),i+=f,s+=20,c&&(s+=-8),n&&(s+=-20),".*"===h&&(s+=-50)}t.push(s)}r.push(t)}if(n.strict&&n.end){const t=r.length-1;r[t][r[t].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const s=new RegExp(i,n.sensitive?"":"i");return{re:s,score:r,keys:o,parse:function(t){const e=t.match(s),n={};if(!e)return null;for(let r=1;r<e.length;r++){const t=e[r]||"",i=o[r-1];n[i.name]=t&&i.repeatable?t.split("/"):t}return n},stringify:function(e){let n="",r=!1;for(const i of t){r&&n.endsWith("/")||(n+="/"),r=!1;for(const t of i)if(0===t.type)n+=t.value;else if(1===t.type){const{value:o,repeatable:s,optional:a}=t,u=o in e?e[o]:"";if(Array.isArray(u)&&!s)throw new Error(`Provided param "${o}" is an array but it is not repeatable (* or + modifiers)`);const c=Array.isArray(u)?u.join("/"):u;if(!c){if(!a)throw new Error(`Missing required param "${o}"`);i.length<2&&(n.endsWith("/")?n=n.slice(0,-1):r=!0)}n+=c}}return n}}}(function(t){if(!t)return[[]];if("/"===t)return[[nI]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(t){throw new Error(`ERR (${n})/"${c}": ${t}`)}let n=0,r=n;const i=[];let o;function s(){o&&i.push(o),o=[]}let a,u=0,c="",l="";function h(){c&&(0===n?o.push({type:0,value:c}):1===n||2===n||3===n?(o.length>1&&("*"===a||"+"===a)&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:l,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):e("Invalid state to consume buffer"),c="")}function f(){c+=a}for(;u<t.length;)if(a=t[u++],"\\"!==a||2===n)switch(n){case 0:"/"===a?(c&&h(),s()):":"===a?(h(),n=1):f();break;case 4:f(),n=r;break;case 1:"("===a?n=2:rI.test(a)?f():(h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&u--);break;case 2:")"===a?"\\"==l[l.length-1]?l=l.slice(0,-1)+a:n=3:l+=a;break;case 3:h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&u--,l="";break;default:e("Unknown state")}else r=n,n=4;return 2===n&&e(`Unfinished custom RegExp for param "${c}"`),h(),s(),i}(t.path),n),i=w_(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function oI(t,e){const n=[],r=new Map;function i(t,n,r){let a=!r,u=function(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:sI(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||{}:{default:t.component}}}(t);u.aliasOf=r&&r.record;const c=cI(e,t),l=[u];if("alias"in t){const e="string"==typeof t.alias?[t.alias]:t.alias;for(const t of e)l.push(w_({},u,{components:r?r.record.components:u.components,path:t,aliasOf:r?r.record:u}))}let h,f;for(const e of l){let{path:l}=e;if(n&&"/"!==l[0]){let t=n.record.path,r="/"===t[t.length-1]?"":"/";e.path=n.record.path+(l&&r+l)}if(h=iI(e,n,c),r?r.alias.push(h):(f=f||h,f!==h&&f.alias.push(h),a&&t.name&&!aI(h)&&o(t.name)),"children"in u){let t=u.children;for(let e=0;e<t.length;e++)i(t[e],h,r&&r.children[e])}r=r||h,s(h)}return f?()=>{o(f)}:I_}function o(t){if(K_(t)){const e=r.get(t);e&&(r.delete(t),n.splice(n.indexOf(e),1),e.children.forEach(o),e.alias.forEach(o))}else{let e=n.indexOf(t);e>-1&&(n.splice(e,1),t.record.name&&r.delete(t.record.name),t.children.forEach(o),t.alias.forEach(o))}}function s(t){let e=0;for(;e<n.length&&eI(t,n[e])>=0;)e++;n.splice(e,0,t),t.record.name&&!aI(t)&&r.set(t.record.name,t)}return e=cI({strict:!1,end:!0,sensitive:!1},e),t.forEach((t=>i(t))),{addRoute:i,resolve:function(t,e){let i,o,s,a={};if("name"in t&&t.name){if(i=r.get(t.name),!i)throw $_(1,{location:t});s=i.record.name,a=w_(function(t,e){let n={};for(let r of e)r in t&&(n[r]=t[r]);return n}(e.params,i.keys.filter((t=>!t.optional)).map((t=>t.name))),t.params),o=i.stringify(a)}else if("path"in t)o=t.path,i=n.find((t=>t.re.test(o))),i&&(a=i.parse(o),s=i.record.name);else{if(i=e.name?r.get(e.name):n.find((t=>t.re.test(e.path))),!i)throw $_(1,{location:t,currentLocation:e});s=i.record.name,a=w_({},e.params,t.params),o=i.stringify(a)}const u=[];let c=i;for(;c;)u.unshift(c.record),c=c.parent;return{name:s,path:o,params:a,matched:u,meta:uI(u)}},removeRoute:o,getRoutes:function(){return n},getRecordMatcher:function(t){return r.get(t)}}}function sI(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(let r in t.components)e[r]="boolean"==typeof n?n:n[r];return e}function aI(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function uI(t){return t.reduce(((t,e)=>w_(t,e.meta)),{})}function cI(t,e){let n={};for(let r in t)n[r]=r in e?e[r]:t[r];return n}const lI=/#/g,hI=/&/g,fI=/\//g,dI=/=/g,pI=/\?/g,vI=/\+/g,mI=/%5B/g,yI=/%5D/g,gI=/%5E/g,bI=/%60/g,wI=/%7B/g,_I=/%7C/g,II=/%7D/g,TI=/%20/g;function EI(t){return encodeURI(""+t).replace(_I,"|").replace(mI,"[").replace(yI,"]")}function SI(t){return EI(t).replace(vI,"%2B").replace(TI,"+").replace(lI,"%23").replace(hI,"%26").replace(bI,"`").replace(wI,"{").replace(II,"}").replace(gI,"^")}function kI(t){return function(t){return EI(t).replace(lI,"%23").replace(pI,"%3F")}(t).replace(fI,"%2F")}function AI(t){try{return decodeURIComponent(""+t)}catch(e){}return""+t}function NI(t){const e={};if(""===t||"?"===t)return e;const n=("?"===t[0]?t.slice(1):t).split("&");for(let r=0;r<n.length;++r){const t=n[r].replace(vI," ");let i=t.indexOf("="),o=AI(i<0?t:t.slice(0,i));if(Object.prototype.hasOwnProperty(o))continue;let s=i<0?null:AI(t.slice(i+1));if(o in e){let t=e[o];Array.isArray(t)||(t=e[o]=[t]),t.push(s)}else e[o]=s}return e}function DI(t){let e="";for(let n in t){const r=t[n];if(n=SI(n).replace(dI,"%3D"),null==r){void 0!==r&&(e+=(e.length?"&":"")+n);continue}(Array.isArray(r)?r.map((t=>t&&SI(t))):[r&&SI(r)]).forEach((t=>{void 0!==t&&(e+=(e.length?"&":"")+n,null!=t&&(e+="="+t))}))}return e}function OI(t){const e={};for(let n in t){let r=t[n];void 0!==r&&(e[n]=Array.isArray(r)?r.map((t=>null==t?null:""+t)):null==r?r:""+r)}return e}function CI(){let t=[];return{add:function(e){return t.push(e),()=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)}},list:()=>t,reset:function(){t=[]}}}function xI(t,e,n,r,i){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise(((s,a)=>{const u=t=>{var u;!1===t?a($_(4,{from:n,to:e})):t instanceof Error?a(t):"string"==typeof(u=t)||u&&"object"==typeof u?a($_(2,{from:e,to:t})):(o&&r.enterCallbacks[i]===o&&"function"==typeof t&&o.push(t),s())},c=t.call(r&&r.instances[i],e,n,u);let l=Promise.resolve(c);t.length<3&&(l=l.then(u)),l.catch((t=>a(t)))}))}function RI(t,e,n,r){const i=[];for(const s of t)for(const t in s.components){let a=s.components[t];if("beforeRouteEnter"===e||s.instances[t])if("object"==typeof(o=a)||"displayName"in o||"props"in o||"__vccOpts"in o){const o=(a.__vccOpts||a)[e];o&&i.push(xI(o,n,r,s,t))}else{let o=a();o=o.catch(console.error),i.push((()=>o.then((i=>{if(!i)return Promise.reject(new Error(`Couldn't resolve component "${t}" at "${s.path}"`));const o=(a=i).__esModule||f_&&"Module"===a[Symbol.toStringTag]?i.default:i;var a;s.components[t]=o;const u=(o.__vccOpts||o)[e];return u&&xI(u,n,r,s,t)()}))))}}var o;return i}function PI(t){const e=vr(m_),n=vr(y_),r=Vr((()=>e.resolve(oe(t.to)))),i=Vr((()=>{let{matched:t}=r.value,{length:e}=t;const i=t[e-1];let o=n.matched;if(!i||!o.length)return-1;let s=o.findIndex(k_.bind(null,i));if(s>-1)return s;let a=LI(t[e-2]);return e>1&&LI(i)===a&&o[o.length-1].path!==a?o.findIndex(k_.bind(null,t[e-2])):s})),o=Vr((()=>i.value>-1&&function(t,e){for(let n in e){let r=e[n],i=t[n];if("string"==typeof r){if(r!==i)return!1}else if(!Array.isArray(i)||i.length!==r.length||r.some(((t,e)=>t!==i[e])))return!1}return!0}(n.params,r.value.params))),s=Vr((()=>i.value>-1&&i.value===n.matched.length-1&&A_(n.params,r.value.params)));return{route:r,href:Vr((()=>r.value.href)),isActive:o,isExactActive:s,navigate:function(n={}){return function(t){if(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)return;if(t.defaultPrevented)return;if(void 0!==t.button&&0!==t.button)return;if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}t.preventDefault&&t.preventDefault();return!0}(n)?e[oe(t.replace)?"replace":"push"](oe(t.to)):Promise.resolve()}}}const MI=Fn({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},setup(t,{slots:e}){const n=zt(PI(t)),{options:r}=vr(m_),i=Vr((()=>({[FI(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[FI(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const r=e.default&&e.default(n);return t.custom?r:Ur("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}});function LI(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const FI=(t,e,n)=>null!=t?t:null!=e?e:n;function VI(t,e){if(!t)return null;const n=t(e);return 1===n.length?n[0]:n}const UI=Fn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(t,{attrs:e,slots:n}){const r=vr(g_),i=Vr((()=>t.route||r.value)),o=vr(v_,0),s=Vr((()=>i.value.matched[o]));pr(v_,o+1),pr(p_,s),pr(g_,i);const a=ie(u);var u;return wn((()=>[a.value,s.value,t.name]),(([t,e,n],[r,i,o])=>{e&&(e.instances[n]=t,i&&i!==e&&t&&t===r&&(e.leaveGuards.size||(e.leaveGuards=i.leaveGuards),e.updateGuards.size||(e.updateGuards=i.updateGuards))),!t||!e||i&&k_(e,i)&&r||(e.enterCallbacks[n]||[]).forEach((e=>e(t)))}),{flush:"post"}),()=>{const r=i.value,o=s.value,u=o&&o.components[t.name],c=t.name;if(!u)return VI(n.default,{Component:u,route:r});const l=o.props[t.name],h=l?!0===l?r.params:"function"==typeof l?l(r):l:null,f=Ur(u,w_({},h,e,{onVnodeUnmounted:t=>{t.component.isUnmounted&&(o.instances[c]=null)},ref:a}));return VI(n.default,{Component:f,route:r})||f}}});function jI(t){const e=oI(t.routes,t);let n=t.parseQuery||NI,r=t.stringifyQuery||DI,i=t.history;const o=CI(),s=CI(),a=CI(),u=ie(H_,!0);let c=H_;b_&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const l=__.bind(null,(t=>""+t)),h=__.bind(null,kI),f=__.bind(null,AI);function d(t,o){if(o=w_({},o||u.value),"string"==typeof t){let r=E_(n,t,o.path),s=e.resolve({path:r.path},o),a=i.createHref(r.fullPath);return w_(r,s,{params:f(s.params),hash:AI(r.hash),redirectedFrom:void 0,href:a})}let s;"path"in t?s=w_({},t,{path:E_(n,t.path,o.path).path}):(s=w_({},t,{params:h(t.params)}),o.params=h(o.params));let a=e.resolve(s,o);const c=t.hash||"";a.params=l(f(a.params));const d=function(t,e){let n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}(r,w_({},t,{hash:(p=c,EI(p).replace(wI,"{").replace(II,"}").replace(gI,"^")),path:a.path}));var p;let v=i.createHref(d);return w_({fullPath:d,hash:c,query:r===DI?OI(t.query):t.query},a,{redirectedFrom:void 0,href:v})}function p(t){return"string"==typeof t?E_(n,t,u.value.path):w_({},t)}function v(t,e){if(c!==t)return $_(8,{from:e,to:t})}function m(t){return g(t)}function y(t){const e=t.matched[t.matched.length-1];if(e&&e.redirect){const{redirect:n}=e;let r="function"==typeof n?n(t):n;return"string"==typeof r&&(r=r.indexOf("?")>-1||r.indexOf("#")>-1?r=p(r):{path:r}),w_({query:t.query,hash:t.hash,params:t.params},r)}}function g(t,e){const n=c=d(t),i=u.value,o=t.state,s=t.force,a=!0===t.replace,l=y(n);if(l)return g(w_(p(l),{state:o,force:s,replace:a}),e||n);const h=n;let f;return h.redirectedFrom=e,!s&&function(t,e,n){let r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&k_(e.matched[r],n.matched[i])&&A_(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}(r,i,n)&&(f=$_(16,{to:h,from:i}),O(i,i,!0,!1)),(f?Promise.resolve(f):w(h,i)).catch((t=>X_(t)?t:N(t))).then((t=>{if(t){if(X_(t,2))return g(w_(p(t.to),{state:o,force:s,replace:a}),e||h)}else t=I(h,i,!0,a,o);return _(h,i,t),t}))}function b(t,e){const n=v(t,e);return n?Promise.reject(n):Promise.resolve()}function w(t,e){let n;const[r,i,a]=function(t,e){const n=[],r=[],i=[],o=Math.max(e.matched.length,t.matched.length);for(let s=0;s<o;s++){const o=e.matched[s];o&&(t.matched.find((t=>k_(t,o)))?r.push(o):n.push(o));const a=t.matched[s];a&&(e.matched.find((t=>k_(t,a)))||i.push(a))}return[n,r,i]}
/*!
 * vuex v4.0.0
 * (c) 2021 Evan You
 * @license MIT
 */(t,e);n=RI(r.reverse(),"beforeRouteLeave",t,e);for(const o of r)o.leaveGuards.forEach((r=>{n.push(xI(r,t,e))}));const u=b.bind(null,t,e);return n.push(u),qI(n).then((()=>{n=[];for(const r of o.list())n.push(xI(r,t,e));return n.push(u),qI(n)})).then((()=>{n=RI(i,"beforeRouteUpdate",t,e);for(const r of i)r.updateGuards.forEach((r=>{n.push(xI(r,t,e))}));return n.push(u),qI(n)})).then((()=>{n=[];for(const r of t.matched)if(r.beforeEnter&&e.matched.indexOf(r)<0)if(Array.isArray(r.beforeEnter))for(const i of r.beforeEnter)n.push(xI(i,t,e));else n.push(xI(r.beforeEnter,t,e));return n.push(u),qI(n)})).then((()=>(t.matched.forEach((t=>t.enterCallbacks={})),n=RI(a,"beforeRouteEnter",t,e),n.push(u),qI(n)))).then((()=>{n=[];for(const r of s.list())n.push(xI(r,t,e));return n.push(u),qI(n)})).catch((t=>X_(t,8)?t:Promise.reject(t)))}function _(t,e,n){for(const r of a.list())r(t,e,n)}function I(t,e,n,r,o){const s=v(t,e);if(s)return s;const a=e===H_,c=b_?history.state:{};n&&(r||a?i.replace(t.fullPath,w_({scroll:a&&c&&c.scroll},o)):i.push(t.fullPath,o)),u.value=t,O(t,e,n,a),D()}let T;function E(){T=i.listen(((t,e,n)=>{let r=d(t);const o=y(r);if(o)return void g(w_(o,{replace:!0}),r).catch(I_);c=r;const s=u.value;var a,l;b_&&(a=U_(s.fullPath,n.delta),l=F_(),j_.set(a,l)),w(r,s).catch((t=>X_(t,12)?t:X_(t,2)?(g(t.to,r).catch(I_),Promise.reject()):(n.delta&&i.go(-n.delta,!1),N(t)))).then((t=>{(t=t||I(r,s,!1))&&n.delta&&i.go(-n.delta,!1),_(r,s,t)})).catch(I_)}))}let S,k=CI(),A=CI();function N(t){return D(t),A.list().forEach((e=>e(t))),Promise.reject(t)}function D(t){S||(S=!0,E(),k.list().forEach((([e,n])=>t?n(t):e())),k.reset())}function O(e,n,r,i){const{scrollBehavior:o}=t;if(!b_||!o)return Promise.resolve();let s=!r&&function(t){const e=j_.get(t);return j_.delete(t),e}(U_(e.fullPath,0))||(i||!r)&&history.state&&history.state.scroll||null;return ke().then((()=>o(e,n,s))).then((t=>t&&V_(t))).catch(N)}const C=t=>i.go(t);let x;const R=new Set;return{currentRoute:u,addRoute:function(t,n){let r,i;return K_(t)?(r=e.getRecordMatcher(t),i=n):i=t,e.addRoute(i,r)},removeRoute:function(t){let n=e.getRecordMatcher(t);n&&e.removeRoute(n)},hasRoute:function(t){return!!e.getRecordMatcher(t)},getRoutes:function(){return e.getRoutes().map((t=>t.record))},resolve:d,options:t,push:m,replace:function(t){return m(w_(p(t),{replace:!0}))},go:C,back:()=>C(-1),forward:()=>C(1),beforeEach:o.add,beforeResolve:s.add,afterEach:a.add,onError:A.add,isReady:function(){return S&&u.value!==H_?Promise.resolve():new Promise(((t,e)=>{k.add([t,e])}))},install(t){t.component("RouterLink",MI),t.component("RouterView",UI),t.config.globalProperties.$router=this,Object.defineProperty(t.config.globalProperties,"$route",{enumerable:!0,get:()=>oe(u)}),b_&&!x&&u.value===H_&&(x=!0,m(i.location).catch((t=>{})));const e={};for(let r in H_)e[r]=Vr((()=>u.value[r]));t.provide(m_,this),t.provide(y_,zt(e)),t.provide(g_,u);let n=t.unmount;R.add(t),t.unmount=function(){R.delete(t),R.size<1&&(T(),u.value=H_,x=!1,S=!1),n()}}}}function qI(t){return t.reduce(((t,e)=>t.then((()=>e()))),Promise.resolve())}var BI=("undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).__VUE_DEVTOOLS_GLOBAL_HOOK__;function GI(t,e){Object.keys(t).forEach((function(n){return e(t[n],n)}))}var YI=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"==typeof n?n():n)||{}},KI={namespaced:{configurable:!0}};KI.namespaced.get=function(){return!!this._rawModule.namespaced},YI.prototype.addChild=function(t,e){this._children[t]=e},YI.prototype.removeChild=function(t){delete this._children[t]},YI.prototype.getChild=function(t){return this._children[t]},YI.prototype.hasChild=function(t){return t in this._children},YI.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},YI.prototype.forEachChild=function(t){GI(this._children,t)},YI.prototype.forEachGetter=function(t){this._rawModule.getters&&GI(this._rawModule.getters,t)},YI.prototype.forEachAction=function(t){this._rawModule.actions&&GI(this._rawModule.actions,t)},YI.prototype.forEachMutation=function(t){this._rawModule.mutations&&GI(this._rawModule.mutations,t)},Object.defineProperties(YI.prototype,KI);var HI=function(t){this.register([],t,!1)};function WI(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return;WI(t.concat(r),e.getChild(r),n.modules[r])}}function zI(t){return new XI(t)}HI.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},HI.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,n){return t+((e=e.getChild(n)).namespaced?n+"/":"")}),"")},HI.prototype.update=function(t){WI([],this.root,t)},HI.prototype.register=function(t,e,n){var r=this;void 0===n&&(n=!0);var i=new YI(e,n);0===t.length?this.root=i:this.get(t.slice(0,-1)).addChild(t[t.length-1],i);e.modules&&GI(e.modules,(function(e,i){r.register(t.concat(i),e,n)}))},HI.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1],r=e.getChild(n);r&&r.runtime&&e.removeChild(n)},HI.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];return!!e&&e.hasChild(n)};var QI,$I,XI=function(t){var e=this;void 0===t&&(t={});var n=t.plugins;void 0===n&&(n=[]);var r=t.strict;void 0===r&&(r=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new HI(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null);var i=this,o=this.dispatch,s=this.commit;this.dispatch=function(t,e){return o.call(i,t,e)},this.commit=function(t,e,n){return s.call(i,t,e,n)},this.strict=r;var a=this._modules.root.state;nT(this,a,[],this._modules.root),eT(this,a),n.forEach((function(t){return t(e)})),(void 0===t.devtools||t.devtools)&&function(t){BI&&(t._devtoolHook=BI,BI.emit("vuex:init",t),BI.on("vuex:travel-to-state",(function(e){t.replaceState(e)})),t.subscribe((function(t,e){BI.emit("vuex:mutation",t,e)}),{prepend:!0}),t.subscribeAction((function(t,e){BI.emit("vuex:action",t,e)}),{prepend:!0}))}(this)},JI={state:{configurable:!0}};function ZI(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function tT(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;nT(t,n,[],t._modules.root,!0),eT(t,n,e)}function eT(t,e,n){var r=t._state;t.getters={},t._makeLocalGettersCache=Object.create(null);var i=t._wrappedGetters,o={};GI(i,(function(e,n){o[n]=function(t,e){return function(){return t(e)}}(e,t),Object.defineProperty(t.getters,n,{get:function(){return o[n]()},enumerable:!0})})),t._state=zt({data:e}),t.strict&&function(t){wn((function(){return t._state.data}),(function(){}),{deep:!0,flush:"sync"})}(t),r&&n&&t._withCommit((function(){r.data=null}))}function nT(t,e,n,r,i){var o=!n.length,s=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[s],t._modulesNamespaceMap[s]=r),!o&&!i){var a=rT(e,n.slice(0,-1)),u=n[n.length-1];t._withCommit((function(){a[u]=r.state}))}var c=r.context=function(t,e,n){var r=""===e,i={dispatch:r?t.dispatch:function(n,r,i){var o=iT(n,r,i),s=o.payload,a=o.options,u=o.type;return a&&a.root||(u=e+u),t.dispatch(u,s)},commit:r?t.commit:function(n,r,i){var o=iT(n,r,i),s=o.payload,a=o.options,u=o.type;a&&a.root||(u=e+u),t.commit(u,s,a)}};return Object.defineProperties(i,{getters:{get:r?function(){return t.getters}:function(){return function(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach((function(i){if(i.slice(0,r)===e){var o=i.slice(r);Object.defineProperty(n,o,{get:function(){return t.getters[i]},enumerable:!0})}})),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}(t,e)}},state:{get:function(){return rT(t.state,n)}}}),i}(t,s,n);r.forEachMutation((function(e,n){!function(t,e,n,r){(t._mutations[e]||(t._mutations[e]=[])).push((function(e){n.call(t,r.state,e)}))}(t,s+n,e,c)})),r.forEachAction((function(e,n){var r=e.root?n:s+n,i=e.handler||e;!function(t,e,n,r){(t._actions[e]||(t._actions[e]=[])).push((function(e){var i,o=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},e);return(i=o)&&"function"==typeof i.then||(o=Promise.resolve(o)),t._devtoolHook?o.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):o}))}(t,r,i,c)})),r.forEachGetter((function(e,n){!function(t,e,n,r){if(t._wrappedGetters[e])return;t._wrappedGetters[e]=function(t){return n(r.state,r.getters,t.state,t.getters)}}(t,s+n,e,c)})),r.forEachChild((function(r,o){nT(t,e,n.concat(o),r,i)}))}function rT(t,e){return e.reduce((function(t,e){return t[e]}),t)}function iT(t,e,n){var r;return null!==(r=t)&&"object"==typeof r&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}
//! moment.js
//! version : 2.29.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
function oT(){return QI.apply(null,arguments)}function sT(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function aT(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function uT(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function cT(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(uT(t,e))return!1;return!0}function lT(t){return void 0===t}function hT(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function fT(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function dT(t,e){var n,r=[];for(n=0;n<t.length;++n)r.push(e(t[n],n));return r}function pT(t,e){for(var n in e)uT(e,n)&&(t[n]=e[n]);return uT(e,"toString")&&(t.toString=e.toString),uT(e,"valueOf")&&(t.valueOf=e.valueOf),t}function vT(t,e,n,r){return kS(t,e,n,r,!0).utc()}function mT(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function yT(t){if(null==t._isValid){var e=mT(t),n=$I.call(e.parsedDateParts,(function(t){return null!=t})),r=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(r=r&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return r;t._isValid=r}return t._isValid}function gT(t){var e=vT(NaN);return null!=t?pT(mT(e),t):mT(e).userInvalidated=!0,e}XI.prototype.install=function(t,e){t.provide(e||"store",this),t.config.globalProperties.$store=this},JI.state.get=function(){return this._state.data},JI.state.set=function(t){},XI.prototype.commit=function(t,e,n){var r=this,i=iT(t,e,n),o=i.type,s=i.payload,a={type:o,payload:s},u=this._mutations[o];u&&(this._withCommit((function(){u.forEach((function(t){t(s)}))})),this._subscribers.slice().forEach((function(t){return t(a,r.state)})))},XI.prototype.dispatch=function(t,e){var n=this,r=iT(t,e),i=r.type,o=r.payload,s={type:i,payload:o},a=this._actions[i];if(a){try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(s,n.state)}))}catch(u_){}var u=a.length>1?Promise.all(a.map((function(t){return t(o)}))):a[0](o);return new Promise((function(t,e){u.then((function(e){try{n._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(s,n.state)}))}catch(u_){}t(e)}),(function(t){try{n._actionSubscribers.filter((function(t){return t.error})).forEach((function(e){return e.error(s,n.state,t)}))}catch(u_){}e(t)}))}))}},XI.prototype.subscribe=function(t,e){return ZI(t,this._subscribers,e)},XI.prototype.subscribeAction=function(t,e){return ZI("function"==typeof t?{before:t}:t,this._actionSubscribers,e)},XI.prototype.watch=function(t,e,n){var r=this;return wn((function(){return t(r.state,r.getters)}),e,Object.assign({},n))},XI.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._state.data=t}))},XI.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"==typeof t&&(t=[t]),this._modules.register(t,e),nT(this,this.state,t,this._modules.get(t),n.preserveState),eT(this,this.state)},XI.prototype.unregisterModule=function(t){var e=this;"string"==typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){delete rT(e.state,t.slice(0,-1))[t[t.length-1]]})),tT(this)},XI.prototype.hasModule=function(t){return"string"==typeof t&&(t=[t]),this._modules.isRegistered(t)},XI.prototype.hotUpdate=function(t){this._modules.update(t),tT(this,!0)},XI.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(XI.prototype,JI),$I=Array.prototype.some?Array.prototype.some:function(t){var e,n=Object(this),r=n.length>>>0;for(e=0;e<r;e++)if(e in n&&t.call(this,n[e],e,n))return!0;return!1};var bT=oT.momentProperties=[],wT=!1;function _T(t,e){var n,r,i;if(lT(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),lT(e._i)||(t._i=e._i),lT(e._f)||(t._f=e._f),lT(e._l)||(t._l=e._l),lT(e._strict)||(t._strict=e._strict),lT(e._tzm)||(t._tzm=e._tzm),lT(e._isUTC)||(t._isUTC=e._isUTC),lT(e._offset)||(t._offset=e._offset),lT(e._pf)||(t._pf=mT(e)),lT(e._locale)||(t._locale=e._locale),bT.length>0)for(n=0;n<bT.length;n++)lT(i=e[r=bT[n]])||(t[r]=i);return t}function IT(t){_T(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===wT&&(wT=!0,oT.updateOffset(this),wT=!1)}function TT(t){return t instanceof IT||null!=t&&null!=t._isAMomentObject}function ET(t){!1===oT.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function ST(t,e){var n=!0;return pT((function(){if(null!=oT.deprecationHandler&&oT.deprecationHandler(null,t),n){var r,i,o,s=[];for(i=0;i<arguments.length;i++){if(r="","object"==typeof arguments[i]){for(o in r+="\n["+i+"] ",arguments[0])uT(arguments[0],o)&&(r+=o+": "+arguments[0][o]+", ");r=r.slice(0,-2)}else r=arguments[i];s.push(r)}ET(t+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),n=!1}return e.apply(this,arguments)}),e)}var kT,AT={};function NT(t,e){null!=oT.deprecationHandler&&oT.deprecationHandler(t,e),AT[t]||(ET(e),AT[t]=!0)}function DT(t){return"undefined"!=typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function OT(t,e){var n,r=pT({},t);for(n in e)uT(e,n)&&(aT(t[n])&&aT(e[n])?(r[n]={},pT(r[n],t[n]),pT(r[n],e[n])):null!=e[n]?r[n]=e[n]:delete r[n]);for(n in t)uT(t,n)&&!uT(e,n)&&aT(t[n])&&(r[n]=pT({},r[n]));return r}function CT(t){null!=t&&this.set(t)}oT.suppressDeprecationWarnings=!1,oT.deprecationHandler=null,kT=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)uT(t,e)&&n.push(e);return n};function xT(t,e,n){var r=""+Math.abs(t),i=e-r.length;return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var RT=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,PT=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,MT={},LT={};function FT(t,e,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),t&&(LT[t]=i),e&&(LT[e[0]]=function(){return xT(i.apply(this,arguments),e[1],e[2])}),n&&(LT[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function VT(t,e){return t.isValid()?(e=UT(e,t.localeData()),MT[e]=MT[e]||function(t){var e,n,r,i=t.match(RT);for(e=0,n=i.length;e<n;e++)LT[i[e]]?i[e]=LT[i[e]]:i[e]=(r=i[e]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(e){var r,o="";for(r=0;r<n;r++)o+=DT(i[r])?i[r].call(e,t):i[r];return o}}(e),MT[e](t)):t.localeData().invalidDate()}function UT(t,e){var n=5;function r(t){return e.longDateFormat(t)||t}for(PT.lastIndex=0;n>=0&&PT.test(t);)t=t.replace(PT,r),PT.lastIndex=0,n-=1;return t}var jT={};function qT(t,e){var n=t.toLowerCase();jT[n]=jT[n+"s"]=jT[e]=t}function BT(t){return"string"==typeof t?jT[t]||jT[t.toLowerCase()]:void 0}function GT(t){var e,n,r={};for(n in t)uT(t,n)&&(e=BT(n))&&(r[e]=t[n]);return r}var YT={};function KT(t,e){YT[t]=e}function HT(t){return t%4==0&&t%100!=0||t%400==0}function WT(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function zT(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=WT(e)),n}function QT(t,e){return function(n){return null!=n?(XT(this,t,n),oT.updateOffset(this,e),this):$T(this,t)}}function $T(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function XT(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&HT(t.year())&&1===t.month()&&29===t.date()?(n=zT(n),t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),TE(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](n))}var JT,ZT=/\d/,tE=/\d\d/,eE=/\d{3}/,nE=/\d{4}/,rE=/[+-]?\d{6}/,iE=/\d\d?/,oE=/\d\d\d\d?/,sE=/\d\d\d\d\d\d?/,aE=/\d{1,3}/,uE=/\d{1,4}/,cE=/[+-]?\d{1,6}/,lE=/\d+/,hE=/[+-]?\d+/,fE=/Z|[+-]\d\d:?\d\d/gi,dE=/Z|[+-]\d\d(?::?\d\d)?/gi,pE=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function vE(t,e,n){JT[t]=DT(e)?e:function(t,r){return t&&n?n:e}}function mE(t,e){return uT(JT,t)?JT[t](e._strict,e._locale):new RegExp(yE(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,n,r,i){return e||n||r||i}))))}function yE(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}JT={};var gE={};function bE(t,e){var n,r=e;for("string"==typeof t&&(t=[t]),hT(e)&&(r=function(t,n){n[e]=zT(t)}),n=0;n<t.length;n++)gE[t[n]]=r}function wE(t,e){bE(t,(function(t,n,r,i){r._w=r._w||{},e(t,r._w,r,i)}))}function _E(t,e,n){null!=e&&uT(gE,t)&&gE[t](e,n._a,n,t)}var IE;function TE(t,e){if(isNaN(t)||isNaN(e))return NaN;var n,r=(e%(n=12)+n)%n;return t+=(e-r)/12,1===r?HT(t)?29:28:31-r%7%2}IE=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},FT("M",["MM",2],"Mo",(function(){return this.month()+1})),FT("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),FT("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),qT("month","M"),KT("month",8),vE("M",iE),vE("MM",iE,tE),vE("MMM",(function(t,e){return e.monthsShortRegex(t)})),vE("MMMM",(function(t,e){return e.monthsRegex(t)})),bE(["M","MM"],(function(t,e){e[1]=zT(t)-1})),bE(["MMM","MMMM"],(function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);null!=i?e[1]=i:mT(n).invalidMonth=t}));var EE="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),SE="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),kE=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,AE=pE,NE=pE;function DE(t,e,n){var r,i,o,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=vT([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(i=IE.call(this._shortMonthsParse,s))?i:null:-1!==(i=IE.call(this._longMonthsParse,s))?i:null:"MMM"===e?-1!==(i=IE.call(this._shortMonthsParse,s))||-1!==(i=IE.call(this._longMonthsParse,s))?i:null:-1!==(i=IE.call(this._longMonthsParse,s))||-1!==(i=IE.call(this._shortMonthsParse,s))?i:null}function OE(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=zT(e);else if(!hT(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),TE(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function CE(t){return null!=t?(OE(this,t),oT.updateOffset(this,!0),this):$T(this,"Month")}function xE(){function t(t,e){return e.length-t.length}var e,n,r=[],i=[],o=[];for(e=0;e<12;e++)n=vT([2e3,e]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(t),i.sort(t),o.sort(t),e=0;e<12;e++)r[e]=yE(r[e]),i[e]=yE(i[e]);for(e=0;e<24;e++)o[e]=yE(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function RE(t){return HT(t)?366:365}FT("Y",0,0,(function(){var t=this.year();return t<=9999?xT(t,4):"+"+t})),FT(0,["YY",2],0,(function(){return this.year()%100})),FT(0,["YYYY",4],0,"year"),FT(0,["YYYYY",5],0,"year"),FT(0,["YYYYYY",6,!0],0,"year"),qT("year","y"),KT("year",1),vE("Y",hE),vE("YY",iE,tE),vE("YYYY",uE,nE),vE("YYYYY",cE,rE),vE("YYYYYY",cE,rE),bE(["YYYYY","YYYYYY"],0),bE("YYYY",(function(t,e){e[0]=2===t.length?oT.parseTwoDigitYear(t):zT(t)})),bE("YY",(function(t,e){e[0]=oT.parseTwoDigitYear(t)})),bE("Y",(function(t,e){e[0]=parseInt(t,10)})),oT.parseTwoDigitYear=function(t){return zT(t)+(zT(t)>68?1900:2e3)};var PE=QT("FullYear",!0);function ME(t,e,n,r,i,o,s){var a;return t<100&&t>=0?(a=new Date(t+400,e,n,r,i,o,s),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,n,r,i,o,s),a}function LE(t){var e,n;return t<100&&t>=0?((n=Array.prototype.slice.call(arguments))[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function FE(t,e,n){var r=7+e-n;return-((7+LE(t,0,r).getUTCDay()-e)%7)+r-1}function VE(t,e,n,r,i){var o,s,a=1+7*(e-1)+(7+n-r)%7+FE(t,r,i);return a<=0?s=RE(o=t-1)+a:a>RE(t)?(o=t+1,s=a-RE(t)):(o=t,s=a),{year:o,dayOfYear:s}}function UE(t,e,n){var r,i,o=FE(t.year(),e,n),s=Math.floor((t.dayOfYear()-o-1)/7)+1;return s<1?r=s+jE(i=t.year()-1,e,n):s>jE(t.year(),e,n)?(r=s-jE(t.year(),e,n),i=t.year()+1):(i=t.year(),r=s),{week:r,year:i}}function jE(t,e,n){var r=FE(t,e,n),i=FE(t+1,e,n);return(RE(t)-r+i)/7}FT("w",["ww",2],"wo","week"),FT("W",["WW",2],"Wo","isoWeek"),qT("week","w"),qT("isoWeek","W"),KT("week",5),KT("isoWeek",5),vE("w",iE),vE("ww",iE,tE),vE("W",iE),vE("WW",iE,tE),wE(["w","ww","W","WW"],(function(t,e,n,r){e[r.substr(0,1)]=zT(t)}));function qE(t,e){return t.slice(e,7).concat(t.slice(0,e))}FT("d",0,"do","day"),FT("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),FT("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),FT("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),FT("e",0,0,"weekday"),FT("E",0,0,"isoWeekday"),qT("day","d"),qT("weekday","e"),qT("isoWeekday","E"),KT("day",11),KT("weekday",11),KT("isoWeekday",11),vE("d",iE),vE("e",iE),vE("E",iE),vE("dd",(function(t,e){return e.weekdaysMinRegex(t)})),vE("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),vE("dddd",(function(t,e){return e.weekdaysRegex(t)})),wE(["dd","ddd","dddd"],(function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);null!=i?e.d=i:mT(n).invalidWeekday=t})),wE(["d","e","E"],(function(t,e,n,r){e[r]=zT(t)}));var BE="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),GE="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),YE="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),KE=pE,HE=pE,WE=pE;function zE(t,e,n){var r,i,o,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=vT([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(i=IE.call(this._weekdaysParse,s))?i:null:"ddd"===e?-1!==(i=IE.call(this._shortWeekdaysParse,s))?i:null:-1!==(i=IE.call(this._minWeekdaysParse,s))?i:null:"dddd"===e?-1!==(i=IE.call(this._weekdaysParse,s))||-1!==(i=IE.call(this._shortWeekdaysParse,s))||-1!==(i=IE.call(this._minWeekdaysParse,s))?i:null:"ddd"===e?-1!==(i=IE.call(this._shortWeekdaysParse,s))||-1!==(i=IE.call(this._weekdaysParse,s))||-1!==(i=IE.call(this._minWeekdaysParse,s))?i:null:-1!==(i=IE.call(this._minWeekdaysParse,s))||-1!==(i=IE.call(this._weekdaysParse,s))||-1!==(i=IE.call(this._shortWeekdaysParse,s))?i:null}function QE(){function t(t,e){return e.length-t.length}var e,n,r,i,o,s=[],a=[],u=[],c=[];for(e=0;e<7;e++)n=vT([2e3,1]).day(e),r=yE(this.weekdaysMin(n,"")),i=yE(this.weekdaysShort(n,"")),o=yE(this.weekdays(n,"")),s.push(r),a.push(i),u.push(o),c.push(r),c.push(i),c.push(o);s.sort(t),a.sort(t),u.sort(t),c.sort(t),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function $E(){return this.hours()%12||12}function XE(t,e){FT(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function JE(t,e){return e._meridiemParse}FT("H",["HH",2],0,"hour"),FT("h",["hh",2],0,$E),FT("k",["kk",2],0,(function(){return this.hours()||24})),FT("hmm",0,0,(function(){return""+$E.apply(this)+xT(this.minutes(),2)})),FT("hmmss",0,0,(function(){return""+$E.apply(this)+xT(this.minutes(),2)+xT(this.seconds(),2)})),FT("Hmm",0,0,(function(){return""+this.hours()+xT(this.minutes(),2)})),FT("Hmmss",0,0,(function(){return""+this.hours()+xT(this.minutes(),2)+xT(this.seconds(),2)})),XE("a",!0),XE("A",!1),qT("hour","h"),KT("hour",13),vE("a",JE),vE("A",JE),vE("H",iE),vE("h",iE),vE("k",iE),vE("HH",iE,tE),vE("hh",iE,tE),vE("kk",iE,tE),vE("hmm",oE),vE("hmmss",sE),vE("Hmm",oE),vE("Hmmss",sE),bE(["H","HH"],3),bE(["k","kk"],(function(t,e,n){var r=zT(t);e[3]=24===r?0:r})),bE(["a","A"],(function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t})),bE(["h","hh"],(function(t,e,n){e[3]=zT(t),mT(n).bigHour=!0})),bE("hmm",(function(t,e,n){var r=t.length-2;e[3]=zT(t.substr(0,r)),e[4]=zT(t.substr(r)),mT(n).bigHour=!0})),bE("hmmss",(function(t,e,n){var r=t.length-4,i=t.length-2;e[3]=zT(t.substr(0,r)),e[4]=zT(t.substr(r,2)),e[5]=zT(t.substr(i)),mT(n).bigHour=!0})),bE("Hmm",(function(t,e,n){var r=t.length-2;e[3]=zT(t.substr(0,r)),e[4]=zT(t.substr(r))})),bE("Hmmss",(function(t,e,n){var r=t.length-4,i=t.length-2;e[3]=zT(t.substr(0,r)),e[4]=zT(t.substr(r,2)),e[5]=zT(t.substr(i))}));var ZE=QT("Hours",!0);var tS,eS={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:EE,monthsShort:SE,week:{dow:0,doy:6},weekdays:BE,weekdaysMin:YE,weekdaysShort:GE,meridiemParse:/[ap]\.?m?\.?/i},nS={},rS={};function iS(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function oS(t){return t?t.toLowerCase().replace("_","-"):t}function sS(t){var e=null;if(void 0===nS[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=tS._abbr,require("./locale/"+t),aS(e)}catch(u_){nS[t]=null}return nS[t]}function aS(t,e){var n;return t&&((n=lT(e)?cS(t):uS(t,e))?tS=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),tS._abbr}function uS(t,e){if(null!==e){var n,r=eS;if(e.abbr=t,null!=nS[t])NT("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=nS[t]._config;else if(null!=e.parentLocale)if(null!=nS[e.parentLocale])r=nS[e.parentLocale]._config;else{if(null==(n=sS(e.parentLocale)))return rS[e.parentLocale]||(rS[e.parentLocale]=[]),rS[e.parentLocale].push({name:t,config:e}),null;r=n._config}return nS[t]=new CT(OT(r,e)),rS[t]&&rS[t].forEach((function(t){uS(t.name,t.config)})),aS(t),nS[t]}return delete nS[t],null}function cS(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return tS;if(!sT(t)){if(e=sS(t))return e;t=[t]}return function(t){for(var e,n,r,i,o=0;o<t.length;){for(e=(i=oS(t[o]).split("-")).length,n=(n=oS(t[o+1]))?n.split("-"):null;e>0;){if(r=sS(i.slice(0,e).join("-")))return r;if(n&&n.length>=e&&iS(i,n)>=e-1)break;e--}o++}return tS}(t)}function lS(t){var e,n=t._a;return n&&-2===mT(t).overflow&&(e=n[1]<0||n[1]>11?1:n[2]<1||n[2]>TE(n[0],n[1])?2:n[3]<0||n[3]>24||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||n[4]>59?4:n[5]<0||n[5]>59?5:n[6]<0||n[6]>999?6:-1,mT(t)._overflowDayOfYear&&(e<0||e>2)&&(e=2),mT(t)._overflowWeeks&&-1===e&&(e=7),mT(t)._overflowWeekday&&-1===e&&(e=8),mT(t).overflow=e),t}var hS=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,fS=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,dS=/Z|[+-]\d\d(?::?\d\d)?/,pS=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],vS=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],mS=/^\/?Date\((-?\d+)/i,yS=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,gS={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function bS(t){var e,n,r,i,o,s,a=t._i,u=hS.exec(a)||fS.exec(a);if(u){for(mT(t).iso=!0,e=0,n=pS.length;e<n;e++)if(pS[e][1].exec(u[1])){i=pS[e][0],r=!1!==pS[e][2];break}if(null==i)return void(t._isValid=!1);if(u[3]){for(e=0,n=vS.length;e<n;e++)if(vS[e][1].exec(u[3])){o=(u[2]||" ")+vS[e][0];break}if(null==o)return void(t._isValid=!1)}if(!r&&null!=o)return void(t._isValid=!1);if(u[4]){if(!dS.exec(u[4]))return void(t._isValid=!1);s="Z"}t._f=i+(o||"")+(s||""),ES(t)}else t._isValid=!1}function wS(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function _S(t){var e,n,r,i,o,s,a,u,c=yS.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(c){if(n=c[4],r=c[3],i=c[2],o=c[5],s=c[6],a=c[7],u=[wS(n),SE.indexOf(r),parseInt(i,10),parseInt(o,10),parseInt(s,10)],a&&u.push(parseInt(a,10)),e=u,!function(t,e,n){return!t||GE.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(mT(n).weekdayMismatch=!0,n._isValid=!1,!1)}(c[1],e,t))return;t._a=e,t._tzm=function(t,e,n){if(t)return gS[t];if(e)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}(c[8],c[9],c[10]),t._d=LE.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),mT(t).rfc2822=!0}else t._isValid=!1}function IS(t,e,n){return null!=t?t:null!=e?e:n}function TS(t){var e,n,r,i,o,s=[];if(!t._d){for(r=function(t){var e=new Date(oT.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(t),t._w&&null==t._a[2]&&null==t._a[1]&&function(t){var e,n,r,i,o,s,a,u,c;null!=(e=t._w).GG||null!=e.W||null!=e.E?(o=1,s=4,n=IS(e.GG,t._a[0],UE(AS(),1,4).year),r=IS(e.W,1),((i=IS(e.E,1))<1||i>7)&&(u=!0)):(o=t._locale._week.dow,s=t._locale._week.doy,c=UE(AS(),o,s),n=IS(e.gg,t._a[0],c.year),r=IS(e.w,c.week),null!=e.d?((i=e.d)<0||i>6)&&(u=!0):null!=e.e?(i=e.e+o,(e.e<0||e.e>6)&&(u=!0)):i=o);r<1||r>jE(n,o,s)?mT(t)._overflowWeeks=!0:null!=u?mT(t)._overflowWeekday=!0:(a=VE(n,r,i,o,s),t._a[0]=a.year,t._dayOfYear=a.dayOfYear)}(t),null!=t._dayOfYear&&(o=IS(t._a[0],r[0]),(t._dayOfYear>RE(o)||0===t._dayOfYear)&&(mT(t)._overflowDayOfYear=!0),n=LE(o,0,t._dayOfYear),t._a[1]=n.getUTCMonth(),t._a[2]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=r[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[3]&&0===t._a[4]&&0===t._a[5]&&0===t._a[6]&&(t._nextDay=!0,t._a[3]=0),t._d=(t._useUTC?LE:ME).apply(null,s),i=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[3]=24),t._w&&void 0!==t._w.d&&t._w.d!==i&&(mT(t).weekdayMismatch=!0)}}function ES(t){if(t._f!==oT.ISO_8601)if(t._f!==oT.RFC_2822){t._a=[],mT(t).empty=!0;var e,n,r,i,o,s,a=""+t._i,u=a.length,c=0;for(r=UT(t._f,t._locale).match(RT)||[],e=0;e<r.length;e++)i=r[e],(n=(a.match(mE(i,t))||[])[0])&&((o=a.substr(0,a.indexOf(n))).length>0&&mT(t).unusedInput.push(o),a=a.slice(a.indexOf(n)+n.length),c+=n.length),LT[i]?(n?mT(t).empty=!1:mT(t).unusedTokens.push(i),_E(i,n,t)):t._strict&&!n&&mT(t).unusedTokens.push(i);mT(t).charsLeftOver=u-c,a.length>0&&mT(t).unusedInput.push(a),t._a[3]<=12&&!0===mT(t).bigHour&&t._a[3]>0&&(mT(t).bigHour=void 0),mT(t).parsedDateParts=t._a.slice(0),mT(t).meridiem=t._meridiem,t._a[3]=function(t,e,n){var r;if(null==n)return e;return null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?((r=t.isPM(n))&&e<12&&(e+=12),r||12!==e||(e=0),e):e}(t._locale,t._a[3],t._meridiem),null!==(s=mT(t).era)&&(t._a[0]=t._locale.erasConvertYear(s,t._a[0])),TS(t),lS(t)}else _S(t);else bS(t)}function SS(t){var e=t._i,n=t._f;return t._locale=t._locale||cS(t._l),null===e||void 0===n&&""===e?gT({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),TT(e)?new IT(lS(e)):(fT(e)?t._d=e:sT(n)?function(t){var e,n,r,i,o,s,a=!1;if(0===t._f.length)return mT(t).invalidFormat=!0,void(t._d=new Date(NaN));for(i=0;i<t._f.length;i++)o=0,s=!1,e=_T({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[i],ES(e),yT(e)&&(s=!0),o+=mT(e).charsLeftOver,o+=10*mT(e).unusedTokens.length,mT(e).score=o,a?o<r&&(r=o,n=e):(null==r||o<r||s)&&(r=o,n=e,s&&(a=!0));pT(t,n||e)}(t):n?ES(t):function(t){var e=t._i;lT(e)?t._d=new Date(oT.now()):fT(e)?t._d=new Date(e.valueOf()):"string"==typeof e?function(t){var e=mS.exec(t._i);null===e?(bS(t),!1===t._isValid&&(delete t._isValid,_S(t),!1===t._isValid&&(delete t._isValid,t._strict?t._isValid=!1:oT.createFromInputFallback(t)))):t._d=new Date(+e[1])}(t):sT(e)?(t._a=dT(e.slice(0),(function(t){return parseInt(t,10)})),TS(t)):aT(e)?function(t){if(!t._d){var e=GT(t._i),n=void 0===e.day?e.date:e.day;t._a=dT([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),TS(t)}}(t):hT(e)?t._d=new Date(e):oT.createFromInputFallback(t)}(t),yT(t)||(t._d=null),t))}function kS(t,e,n,r,i){var o,s={};return!0!==e&&!1!==e||(r=e,e=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(aT(t)&&cT(t)||sT(t)&&0===t.length)&&(t=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=t,s._f=e,s._strict=r,(o=new IT(lS(SS(s))))._nextDay&&(o.add(1,"d"),o._nextDay=void 0),o}function AS(t,e,n,r){return kS(t,e,n,r,!1)}oT.createFromInputFallback=ST("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),oT.ISO_8601=function(){},oT.RFC_2822=function(){};var NS=ST("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=AS.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:gT()})),DS=ST("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=AS.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:gT()}));function OS(t,e){var n,r;if(1===e.length&&sT(e[0])&&(e=e[0]),!e.length)return AS();for(n=e[0],r=1;r<e.length;++r)e[r].isValid()&&!e[r][t](n)||(n=e[r]);return n}var CS=["year","quarter","month","week","day","hour","minute","second","millisecond"];function xS(t){var e=GT(t),n=e.year||0,r=e.quarter||0,i=e.month||0,o=e.week||e.isoWeek||0,s=e.day||0,a=e.hour||0,u=e.minute||0,c=e.second||0,l=e.millisecond||0;this._isValid=function(t){var e,n,r=!1;for(e in t)if(uT(t,e)&&(-1===IE.call(CS,e)||null!=t[e]&&isNaN(t[e])))return!1;for(n=0;n<CS.length;++n)if(t[CS[n]]){if(r)return!1;parseFloat(t[CS[n]])!==zT(t[CS[n]])&&(r=!0)}return!0}(e),this._milliseconds=+l+1e3*c+6e4*u+1e3*a*60*60,this._days=+s+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=cS(),this._bubble()}function RS(t){return t instanceof xS}function PS(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function MS(t,e){FT(t,0,0,(function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+xT(~~(t/60),2)+e+xT(~~t%60,2)}))}MS("Z",":"),MS("ZZ",""),vE("Z",dE),vE("ZZ",dE),bE(["Z","ZZ"],(function(t,e,n){n._useUTC=!0,n._tzm=FS(dE,t)}));var LS=/([\+\-]|\d\d)/gi;function FS(t,e){var n,r,i=(e||"").match(t);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(LS)||["-",0,0])[1]+zT(n[2]))?0:"+"===n[0]?r:-r}function VS(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(TT(t)||fT(t)?t.valueOf():AS(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),oT.updateOffset(n,!1),n):AS(t).local()}function US(t){return-Math.round(t._d.getTimezoneOffset())}function jS(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}oT.updateOffset=function(){};var qS=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,BS=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function GS(t,e){var n,r,i,o=t,s=null;return RS(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:hT(t)||!isNaN(+t)?(o={},e?o[e]=+t:o.milliseconds=+t):(s=qS.exec(t))?(n="-"===s[1]?-1:1,o={y:0,d:zT(s[2])*n,h:zT(s[3])*n,m:zT(s[4])*n,s:zT(s[5])*n,ms:zT(PS(1e3*s[6]))*n}):(s=BS.exec(t))?(n="-"===s[1]?-1:1,o={y:YS(s[2],n),M:YS(s[3],n),w:YS(s[4],n),d:YS(s[5],n),h:YS(s[6],n),m:YS(s[7],n),s:YS(s[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=function(t,e){var n;if(!t.isValid()||!e.isValid())return{milliseconds:0,months:0};e=VS(e,t),t.isBefore(e)?n=KS(t,e):((n=KS(e,t)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(AS(o.from),AS(o.to)),(o={}).ms=i.milliseconds,o.M=i.months),r=new xS(o),RS(t)&&uT(t,"_locale")&&(r._locale=t._locale),RS(t)&&uT(t,"_isValid")&&(r._isValid=t._isValid),r}function YS(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function KS(t,e){var n={};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function HS(t,e){return function(n,r){var i;return null===r||isNaN(+r)||(NT(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),WS(this,GS(n,r),t),this}}function WS(t,e,n,r){var i=e._milliseconds,o=PS(e._days),s=PS(e._months);t.isValid()&&(r=null==r||r,s&&OE(t,$T(t,"Month")+s*n),o&&XT(t,"Date",$T(t,"Date")+o*n),i&&t._d.setTime(t._d.valueOf()+i*n),r&&oT.updateOffset(t,o||s))}GS.fn=xS.prototype,GS.invalid=function(){return GS(NaN)};var zS=HS(1,"add"),QS=HS(-1,"subtract");function $S(t){return"string"==typeof t||t instanceof String}function XS(t){return TT(t)||fT(t)||$S(t)||hT(t)||function(t){var e=sT(t),n=!1;e&&(n=0===t.filter((function(e){return!hT(e)&&$S(t)})).length);return e&&n}(t)||function(t){var e,n,r=aT(t)&&!cT(t),i=!1,o=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(e=0;e<o.length;e+=1)n=o[e],i=i||uT(t,n);return r&&i}(t)||null==t}function JS(t){var e,n=aT(t)&&!cT(t),r=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(e=0;e<i.length;e+=1)r=r||uT(t,i[e]);return n&&r}function ZS(t,e){if(t.date()<e.date())return-ZS(e,t);var n=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(n,"months");return-(n+(e-r<0?(e-r)/(r-t.clone().add(n-1,"months")):(e-r)/(t.clone().add(n+1,"months")-r)))||0}function tk(t){var e;return void 0===t?this._locale._abbr:(null!=(e=cS(t))&&(this._locale=e),this)}oT.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",oT.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ek=ST("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function nk(){return this._locale}function rk(t,e){return(t%e+e)%e}function ik(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-126227808e5:new Date(t,e,n).valueOf()}function ok(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-126227808e5:Date.UTC(t,e,n)}function sk(t,e){return e.erasAbbrRegex(t)}function ak(){var t,e,n=[],r=[],i=[],o=[],s=this.eras();for(t=0,e=s.length;t<e;++t)r.push(yE(s[t].name)),n.push(yE(s[t].abbr)),i.push(yE(s[t].narrow)),o.push(yE(s[t].name)),o.push(yE(s[t].abbr)),o.push(yE(s[t].narrow));this._erasRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function uk(t,e){FT(0,[t,t.length],0,e)}function ck(t,e,n,r,i){var o;return null==t?UE(this,r,i).year:(e>(o=jE(t,r,i))&&(e=o),lk.call(this,t,e,n,r,i))}function lk(t,e,n,r,i){var o=VE(t,e,n,r,i),s=LE(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}FT("N",0,0,"eraAbbr"),FT("NN",0,0,"eraAbbr"),FT("NNN",0,0,"eraAbbr"),FT("NNNN",0,0,"eraName"),FT("NNNNN",0,0,"eraNarrow"),FT("y",["y",1],"yo","eraYear"),FT("y",["yy",2],0,"eraYear"),FT("y",["yyy",3],0,"eraYear"),FT("y",["yyyy",4],0,"eraYear"),vE("N",sk),vE("NN",sk),vE("NNN",sk),vE("NNNN",(function(t,e){return e.erasNameRegex(t)})),vE("NNNNN",(function(t,e){return e.erasNarrowRegex(t)})),bE(["N","NN","NNN","NNNN","NNNNN"],(function(t,e,n,r){var i=n._locale.erasParse(t,r,n._strict);i?mT(n).era=i:mT(n).invalidEra=t})),vE("y",lE),vE("yy",lE),vE("yyy",lE),vE("yyyy",lE),vE("yo",(function(t,e){return e._eraYearOrdinalRegex||lE})),bE(["y","yy","yyy","yyyy"],0),bE(["yo"],(function(t,e,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[0]=n._locale.eraYearOrdinalParse(t,i):e[0]=parseInt(t,10)})),FT(0,["gg",2],0,(function(){return this.weekYear()%100})),FT(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),uk("gggg","weekYear"),uk("ggggg","weekYear"),uk("GGGG","isoWeekYear"),uk("GGGGG","isoWeekYear"),qT("weekYear","gg"),qT("isoWeekYear","GG"),KT("weekYear",1),KT("isoWeekYear",1),vE("G",hE),vE("g",hE),vE("GG",iE,tE),vE("gg",iE,tE),vE("GGGG",uE,nE),vE("gggg",uE,nE),vE("GGGGG",cE,rE),vE("ggggg",cE,rE),wE(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,n,r){e[r.substr(0,2)]=zT(t)})),wE(["gg","GG"],(function(t,e,n,r){e[r]=oT.parseTwoDigitYear(t)})),FT("Q",0,"Qo","quarter"),qT("quarter","Q"),KT("quarter",7),vE("Q",ZT),bE("Q",(function(t,e){e[1]=3*(zT(t)-1)})),FT("D",["DD",2],"Do","date"),qT("date","D"),KT("date",9),vE("D",iE),vE("DD",iE,tE),vE("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),bE(["D","DD"],2),bE("Do",(function(t,e){e[2]=zT(t.match(iE)[0])}));var hk=QT("Date",!0);FT("DDD",["DDDD",3],"DDDo","dayOfYear"),qT("dayOfYear","DDD"),KT("dayOfYear",4),vE("DDD",aE),vE("DDDD",eE),bE(["DDD","DDDD"],(function(t,e,n){n._dayOfYear=zT(t)})),FT("m",["mm",2],0,"minute"),qT("minute","m"),KT("minute",14),vE("m",iE),vE("mm",iE,tE),bE(["m","mm"],4);var fk=QT("Minutes",!1);FT("s",["ss",2],0,"second"),qT("second","s"),KT("second",15),vE("s",iE),vE("ss",iE,tE),bE(["s","ss"],5);var dk,pk,vk=QT("Seconds",!1);for(FT("S",0,0,(function(){return~~(this.millisecond()/100)})),FT(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),FT(0,["SSS",3],0,"millisecond"),FT(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),FT(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),FT(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),FT(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),FT(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),FT(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),qT("millisecond","ms"),KT("millisecond",16),vE("S",aE,ZT),vE("SS",aE,tE),vE("SSS",aE,eE),dk="SSSS";dk.length<=9;dk+="S")vE(dk,lE);function mk(t,e){e[6]=zT(1e3*("0."+t))}for(dk="S";dk.length<=9;dk+="S")bE(dk,mk);pk=QT("Milliseconds",!1),FT("z",0,0,"zoneAbbr"),FT("zz",0,0,"zoneName");var yk=IT.prototype;function gk(t){return t}yk.add=zS,yk.calendar=function(t,e){1===arguments.length&&(arguments[0]?XS(arguments[0])?(t=arguments[0],e=void 0):JS(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||AS(),r=VS(n,this).startOf("day"),i=oT.calendarFormat(this,r)||"sameElse",o=e&&(DT(e[i])?e[i].call(this,n):e[i]);return this.format(o||this.localeData().calendar(i,this,AS(n)))},yk.clone=function(){return new IT(this)},yk.diff=function(t,e,n){var r,i,o;if(!this.isValid())return NaN;if(!(r=VS(t,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),e=BT(e)){case"year":o=ZS(this,r)/12;break;case"month":o=ZS(this,r);break;case"quarter":o=ZS(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:WT(o)},yk.endOf=function(t){var e,n;if(void 0===(t=BT(t))||"millisecond"===t||!this.isValid())return this;switch(n=this._isUTC?ok:ik,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=36e5-rk(e+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":e=this._d.valueOf(),e+=6e4-rk(e,6e4)-1;break;case"second":e=this._d.valueOf(),e+=1e3-rk(e,1e3)-1}return this._d.setTime(e),oT.updateOffset(this,!0),this},yk.format=function(t){t||(t=this.isUtc()?oT.defaultFormatUtc:oT.defaultFormat);var e=VT(this,t);return this.localeData().postformat(e)},yk.from=function(t,e){return this.isValid()&&(TT(t)&&t.isValid()||AS(t).isValid())?GS({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},yk.fromNow=function(t){return this.from(AS(),t)},yk.to=function(t,e){return this.isValid()&&(TT(t)&&t.isValid()||AS(t).isValid())?GS({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},yk.toNow=function(t){return this.to(AS(),t)},yk.get=function(t){return DT(this[t=BT(t)])?this[t]():this},yk.invalidAt=function(){return mT(this).overflow},yk.isAfter=function(t,e){var n=TT(t)?t:AS(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=BT(e)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())},yk.isBefore=function(t,e){var n=TT(t)?t:AS(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=BT(e)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())},yk.isBetween=function(t,e,n,r){var i=TT(t)?t:AS(t),o=TT(e)?e:AS(e);return!!(this.isValid()&&i.isValid()&&o.isValid())&&(("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(o,n):!this.isAfter(o,n)))},yk.isSame=function(t,e){var n,r=TT(t)?t:AS(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(e=BT(e)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))},yk.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},yk.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},yk.isValid=function(){return yT(this)},yk.lang=ek,yk.locale=tk,yk.localeData=nk,yk.max=DS,yk.min=NS,yk.parsingFlags=function(){return pT({},mT(this))},yk.set=function(t,e){if("object"==typeof t){var n,r=function(t){var e,n=[];for(e in t)uT(t,e)&&n.push({unit:e,priority:YT[e]});return n.sort((function(t,e){return t.priority-e.priority})),n}(t=GT(t));for(n=0;n<r.length;n++)this[r[n].unit](t[r[n].unit])}else if(DT(this[t=BT(t)]))return this[t](e);return this},yk.startOf=function(t){var e,n;if(void 0===(t=BT(t))||"millisecond"===t||!this.isValid())return this;switch(n=this._isUTC?ok:ik,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=rk(e+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":e=this._d.valueOf(),e-=rk(e,6e4);break;case"second":e=this._d.valueOf(),e-=rk(e,1e3)}return this._d.setTime(e),oT.updateOffset(this,!0),this},yk.subtract=QS,yk.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},yk.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},yk.toDate=function(){return new Date(this.valueOf())},yk.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?VT(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):DT(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",VT(n,"Z")):VT(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},yk.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t,e,n,r="moment",i="";return this.isLocal()||(r=0===this.utcOffset()?"moment.utc":"moment.parseZone",i="Z"),t="["+r+'("]',e=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY","-MM-DD[T]HH:mm:ss.SSS",n=i+'[")]',this.format(t+e+"-MM-DD[T]HH:mm:ss.SSS"+n)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(yk[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),yk.toJSON=function(){return this.isValid()?this.toISOString():null},yk.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},yk.unix=function(){return Math.floor(this.valueOf()/1e3)},yk.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},yk.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},yk.eraName=function(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t){if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until)return r[t].name;if(r[t].until<=n&&n<=r[t].since)return r[t].name}return""},yk.eraNarrow=function(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t){if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until)return r[t].narrow;if(r[t].until<=n&&n<=r[t].since)return r[t].narrow}return""},yk.eraAbbr=function(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t){if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until)return r[t].abbr;if(r[t].until<=n&&n<=r[t].since)return r[t].abbr}return""},yk.eraYear=function(){var t,e,n,r,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=i[t].since<=i[t].until?1:-1,r=this.clone().startOf("day").valueOf(),i[t].since<=r&&r<=i[t].until||i[t].until<=r&&r<=i[t].since)return(this.year()-oT(i[t].since).year())*n+i[t].offset;return this.year()},yk.year=PE,yk.isLeapYear=function(){return HT(this.year())},yk.weekYear=function(t){return ck.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},yk.isoWeekYear=function(t){return ck.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},yk.quarter=yk.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},yk.month=CE,yk.daysInMonth=function(){return TE(this.year(),this.month())},yk.week=yk.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},yk.isoWeek=yk.isoWeeks=function(t){var e=UE(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},yk.weeksInYear=function(){var t=this.localeData()._week;return jE(this.year(),t.dow,t.doy)},yk.weeksInWeekYear=function(){var t=this.localeData()._week;return jE(this.weekYear(),t.dow,t.doy)},yk.isoWeeksInYear=function(){return jE(this.year(),1,4)},yk.isoWeeksInISOWeekYear=function(){return jE(this.isoWeekYear(),1,4)},yk.date=hk,yk.day=yk.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}(t,this.localeData()),this.add(t-e,"d")):e},yk.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},yk.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=function(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},yk.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},yk.hour=yk.hours=ZE,yk.minute=yk.minutes=fk,yk.second=yk.seconds=vk,yk.millisecond=yk.milliseconds=pk,yk.utcOffset=function(t,e,n){var r,i=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=FS(dE,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(r=US(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==t&&(!e||this._changeInProgress?WS(this,GS(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,oT.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:US(this)},yk.utc=function(t){return this.utcOffset(0,t)},yk.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(US(this),"m")),this},yk.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=FS(fE,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},yk.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?AS(t).utcOffset():0,(this.utcOffset()-t)%60==0)},yk.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},yk.isLocal=function(){return!!this.isValid()&&!this._isUTC},yk.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},yk.isUtc=jS,yk.isUTC=jS,yk.zoneAbbr=function(){return this._isUTC?"UTC":""},yk.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},yk.dates=ST("dates accessor is deprecated. Use date instead.",hk),yk.months=ST("months accessor is deprecated. Use month instead",CE),yk.years=ST("years accessor is deprecated. Use year instead",PE),yk.zone=ST("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()})),yk.isDSTShifted=ST("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!lT(this._isDSTShifted))return this._isDSTShifted;var t,e={};return _T(e,this),(e=SS(e))._a?(t=e._isUTC?vT(e._a):AS(e._a),this._isDSTShifted=this.isValid()&&function(t,e,n){var r,i=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),s=0;for(r=0;r<i;r++)(n&&t[r]!==e[r]||!n&&zT(t[r])!==zT(e[r]))&&s++;return s+o}(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var bk=CT.prototype;function wk(t,e,n,r){var i=cS(),o=vT().set(r,e);return i[n](o,t)}function _k(t,e,n){if(hT(t)&&(e=t,t=void 0),t=t||"",null!=e)return wk(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=wk(t,r,n,"month");return i}function Ik(t,e,n,r){"boolean"==typeof t?(hT(e)&&(n=e,e=void 0),e=e||""):(n=e=t,t=!1,hT(e)&&(n=e,e=void 0),e=e||"");var i,o=cS(),s=t?o._week.dow:0,a=[];if(null!=n)return wk(e,(n+s)%7,r,"day");for(i=0;i<7;i++)a[i]=wk(e,(i+s)%7,r,"day");return a}bk.calendar=function(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return DT(r)?r.call(e,n):r},bk.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(RT).map((function(t){return"MMMM"===t||"MM"===t||"DD"===t||"dddd"===t?t.slice(1):t})).join(""),this._longDateFormat[t])},bk.invalidDate=function(){return this._invalidDate},bk.ordinal=function(t){return this._ordinal.replace("%d",t)},bk.preparse=gk,bk.postformat=gk,bk.relativeTime=function(t,e,n,r){var i=this._relativeTime[n];return DT(i)?i(t,e,n,r):i.replace(/%d/i,t)},bk.pastFuture=function(t,e){var n=this._relativeTime[t>0?"future":"past"];return DT(n)?n(e):n.replace(/%s/i,e)},bk.set=function(t){var e,n;for(n in t)uT(t,n)&&(DT(e=t[n])?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},bk.eras=function(t,e){var n,r,i,o=this._eras||cS("en")._eras;for(n=0,r=o.length;n<r;++n){switch(typeof o[n].since){case"string":i=oT(o[n].since).startOf("day"),o[n].since=i.valueOf()}switch(typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":i=oT(o[n].until).startOf("day").valueOf(),o[n].until=i.valueOf()}}return o},bk.erasParse=function(t,e,n){var r,i,o,s,a,u=this.eras();for(t=t.toUpperCase(),r=0,i=u.length;r<i;++r)if(o=u[r].name.toUpperCase(),s=u[r].abbr.toUpperCase(),a=u[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(s===t)return u[r];break;case"NNNN":if(o===t)return u[r];break;case"NNNNN":if(a===t)return u[r]}else if([o,s,a].indexOf(t)>=0)return u[r]},bk.erasConvertYear=function(t,e){var n=t.since<=t.until?1:-1;return void 0===e?oT(t.since).year():oT(t.since).year()+(e-t.offset)*n},bk.erasAbbrRegex=function(t){return uT(this,"_erasAbbrRegex")||ak.call(this),t?this._erasAbbrRegex:this._erasRegex},bk.erasNameRegex=function(t){return uT(this,"_erasNameRegex")||ak.call(this),t?this._erasNameRegex:this._erasRegex},bk.erasNarrowRegex=function(t){return uT(this,"_erasNarrowRegex")||ak.call(this),t?this._erasNarrowRegex:this._erasRegex},bk.months=function(t,e){return t?sT(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||kE).test(e)?"format":"standalone"][t.month()]:sT(this._months)?this._months:this._months.standalone},bk.monthsShort=function(t,e){return t?sT(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[kE.test(e)?"format":"standalone"][t.month()]:sT(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},bk.monthsParse=function(t,e,n){var r,i,o;if(this._monthsParseExact)return DE.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=vT([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[r].test(t))return r;if(n&&"MMM"===e&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}},bk.monthsRegex=function(t){return this._monthsParseExact?(uT(this,"_monthsRegex")||xE.call(this),t?this._monthsStrictRegex:this._monthsRegex):(uT(this,"_monthsRegex")||(this._monthsRegex=NE),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},bk.monthsShortRegex=function(t){return this._monthsParseExact?(uT(this,"_monthsRegex")||xE.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(uT(this,"_monthsShortRegex")||(this._monthsShortRegex=AE),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},bk.week=function(t){return UE(t,this._week.dow,this._week.doy).week},bk.firstDayOfYear=function(){return this._week.doy},bk.firstDayOfWeek=function(){return this._week.dow},bk.weekdays=function(t,e){var n=sT(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?qE(n,this._week.dow):t?n[t.day()]:n},bk.weekdaysMin=function(t){return!0===t?qE(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},bk.weekdaysShort=function(t){return!0===t?qE(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},bk.weekdaysParse=function(t,e,n){var r,i,o;if(this._weekdaysParseExact)return zE.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=vT([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[r].test(t))return r;if(n&&"ddd"===e&&this._shortWeekdaysParse[r].test(t))return r;if(n&&"dd"===e&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}},bk.weekdaysRegex=function(t){return this._weekdaysParseExact?(uT(this,"_weekdaysRegex")||QE.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(uT(this,"_weekdaysRegex")||(this._weekdaysRegex=KE),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},bk.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(uT(this,"_weekdaysRegex")||QE.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(uT(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=HE),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},bk.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(uT(this,"_weekdaysRegex")||QE.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(uT(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=WE),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},bk.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},bk.meridiem=function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},aS("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===zT(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),oT.lang=ST("moment.lang is deprecated. Use moment.locale instead.",aS),oT.langData=ST("moment.langData is deprecated. Use moment.localeData instead.",cS);var Tk=Math.abs;function Ek(t,e,n,r){var i=GS(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function Sk(t){return t<0?Math.floor(t):Math.ceil(t)}function kk(t){return 4800*t/146097}function Ak(t){return 146097*t/4800}function Nk(t){return function(){return this.as(t)}}var Dk=Nk("ms"),Ok=Nk("s"),Ck=Nk("m"),xk=Nk("h"),Rk=Nk("d"),Pk=Nk("w"),Mk=Nk("M"),Lk=Nk("Q"),Fk=Nk("y");function Vk(t){return function(){return this.isValid()?this._data[t]:NaN}}var Uk=Vk("milliseconds"),jk=Vk("seconds"),qk=Vk("minutes"),Bk=Vk("hours"),Gk=Vk("days"),Yk=Vk("months"),Kk=Vk("years");var Hk=Math.round,Wk={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function zk(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}var Qk=Math.abs;function $k(t){return(t>0)-(t<0)||+t}function Xk(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n,r,i,o,s,a,u=Qk(this._milliseconds)/1e3,c=Qk(this._days),l=Qk(this._months),h=this.asSeconds();return h?(t=WT(u/60),e=WT(t/60),u%=60,t%=60,n=WT(l/12),l%=12,r=u?u.toFixed(3).replace(/\.?0+$/,""):"",i=h<0?"-":"",o=$k(this._months)!==$k(h)?"-":"",s=$k(this._days)!==$k(h)?"-":"",a=$k(this._milliseconds)!==$k(h)?"-":"",i+"P"+(n?o+n+"Y":"")+(l?o+l+"M":"")+(c?s+c+"D":"")+(e||t||u?"T":"")+(e?a+e+"H":"")+(t?a+t+"M":"")+(u?a+r+"S":"")):"P0D"}var Jk=xS.prototype;Jk.isValid=function(){return this._isValid},Jk.abs=function(){var t=this._data;return this._milliseconds=Tk(this._milliseconds),this._days=Tk(this._days),this._months=Tk(this._months),t.milliseconds=Tk(t.milliseconds),t.seconds=Tk(t.seconds),t.minutes=Tk(t.minutes),t.hours=Tk(t.hours),t.months=Tk(t.months),t.years=Tk(t.years),this},Jk.add=function(t,e){return Ek(this,t,e,1)},Jk.subtract=function(t,e){return Ek(this,t,e,-1)},Jk.as=function(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if("month"===(t=BT(t))||"quarter"===t||"year"===t)switch(e=this._days+r/864e5,n=this._months+kk(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(Ak(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return 24*e+r/36e5;case"minute":return 1440*e+r/6e4;case"second":return 86400*e+r/1e3;case"millisecond":return Math.floor(864e5*e)+r;default:throw new Error("Unknown unit "+t)}},Jk.asMilliseconds=Dk,Jk.asSeconds=Ok,Jk.asMinutes=Ck,Jk.asHours=xk,Jk.asDays=Rk,Jk.asWeeks=Pk,Jk.asMonths=Mk,Jk.asQuarters=Lk,Jk.asYears=Fk,Jk.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*zT(this._months/12):NaN},Jk._bubble=function(){var t,e,n,r,i,o=this._milliseconds,s=this._days,a=this._months,u=this._data;return o>=0&&s>=0&&a>=0||o<=0&&s<=0&&a<=0||(o+=864e5*Sk(Ak(a)+s),s=0,a=0),u.milliseconds=o%1e3,t=WT(o/1e3),u.seconds=t%60,e=WT(t/60),u.minutes=e%60,n=WT(e/60),u.hours=n%24,s+=WT(n/24),a+=i=WT(kk(s)),s-=Sk(Ak(i)),r=WT(a/12),a%=12,u.days=s,u.months=a,u.years=r,this},Jk.clone=function(){return GS(this)},Jk.get=function(t){return t=BT(t),this.isValid()?this[t+"s"]():NaN},Jk.milliseconds=Uk,Jk.seconds=jk,Jk.minutes=qk,Jk.hours=Bk,Jk.days=Gk,Jk.weeks=function(){return WT(this.days()/7)},Jk.months=Yk,Jk.years=Kk,Jk.humanize=function(t,e){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,o=Wk;return"object"==typeof t&&(e=t,t=!1),"boolean"==typeof t&&(i=t),"object"==typeof e&&(o=Object.assign({},Wk,e),null!=e.s&&null==e.ss&&(o.ss=e.s-1)),r=function(t,e,n,r){var i=GS(t).abs(),o=Hk(i.as("s")),s=Hk(i.as("m")),a=Hk(i.as("h")),u=Hk(i.as("d")),c=Hk(i.as("M")),l=Hk(i.as("w")),h=Hk(i.as("y")),f=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||u<=1&&["d"]||u<n.d&&["dd",u];return null!=n.w&&(f=f||l<=1&&["w"]||l<n.w&&["ww",l]),(f=f||c<=1&&["M"]||c<n.M&&["MM",c]||h<=1&&["y"]||["yy",h])[2]=e,f[3]=+t>0,f[4]=r,zk.apply(null,f)}(this,!i,o,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)},Jk.toISOString=Xk,Jk.toString=Xk,Jk.toJSON=Xk,Jk.locale=tk,Jk.localeData=nk,Jk.toIsoString=ST("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Xk),Jk.lang=ek,FT("X",0,0,"unix"),FT("x",0,0,"valueOf"),vE("x",hE),vE("X",/[+-]?\d+(\.\d{1,3})?/),bE("X",(function(t,e,n){n._d=new Date(1e3*parseFloat(t))})),bE("x",(function(t,e,n){n._d=new Date(zT(t))})),
//! moment.js
oT.version="2.29.1",QI=AS,oT.fn=yk,oT.min=function(){var t=[].slice.call(arguments,0);return OS("isBefore",t)},oT.max=function(){var t=[].slice.call(arguments,0);return OS("isAfter",t)},oT.now=function(){return Date.now?Date.now():+new Date},oT.utc=vT,oT.unix=function(t){return AS(1e3*t)},oT.months=function(t,e){return _k(t,e,"months")},oT.isDate=fT,oT.locale=aS,oT.invalid=gT,oT.duration=GS,oT.isMoment=TT,oT.weekdays=function(t,e,n){return Ik(t,e,n,"weekdays")},oT.parseZone=function(){return AS.apply(null,arguments).parseZone()},oT.localeData=cS,oT.isDuration=RS,oT.monthsShort=function(t,e){return _k(t,e,"monthsShort")},oT.weekdaysMin=function(t,e,n){return Ik(t,e,n,"weekdaysMin")},oT.defineLocale=uS,oT.updateLocale=function(t,e){if(null!=e){var n,r,i=eS;null!=nS[t]&&null!=nS[t].parentLocale?nS[t].set(OT(nS[t]._config,e)):(null!=(r=sS(t))&&(i=r._config),e=OT(i,e),null==r&&(e.abbr=t),(n=new CT(e)).parentLocale=nS[t],nS[t]=n),aS(t)}else null!=nS[t]&&(null!=nS[t].parentLocale?(nS[t]=nS[t].parentLocale,t===aS()&&aS(t)):null!=nS[t]&&delete nS[t]);return nS[t]},oT.locales=function(){return kT(nS)},oT.weekdaysShort=function(t,e,n){return Ik(t,e,n,"weekdaysShort")},oT.normalizeUnits=BT,oT.relativeTimeRounding=function(t){return void 0===t?Hk:"function"==typeof t&&(Hk=t,!0)},oT.relativeTimeThreshold=function(t,e){return void 0!==Wk[t]&&(void 0===e?Wk[t]:(Wk[t]=e,"s"===t&&(Wk.ss=e-1),!0))},oT.calendarFormat=function(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},oT.prototype=yk,oT.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};export{Wn as F,ar as a,cr as b,er as c,xn as d,bi as e,Ao as f,lr as g,zI as h,jI as i,Y_ as j,oT as k,Ei as l,Ke as m,He as n,Zn as o,Ye as p,Ue as q,Yn as r,jr as s,l as t,hi as u,wi as v,We as w,li as x,di as y};
