function t(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?t=>!!n[t.toLowerCase()]:t=>!!n[t]}const e=t("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt"),n=t("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function r(t){if(T(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],o=r(A(i)?s(i):i);if(o)for(const t in o)e[t]=o[t]}return e}if(O(t))return t}const i=/;(?![^(]*\))/g,o=/:(.+)/;function s(t){const e={};return t.split(i).forEach((t=>{if(t){const n=t.split(o);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}function a(t){let e="";if(A(t))e=t;else if(T(t))for(let n=0;n<t.length;n++){const r=a(t[n]);r&&(e+=r+" ")}else if(O(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function u(t,e){if(t===e)return!0;let n=k(t),r=k(e);if(n||r)return!(!n||!r)&&t.getTime()===e.getTime();if(n=T(t),r=T(e),n||r)return!(!n||!r)&&function(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=u(t[r],e[r]);return n}(t,e);if(n=O(t),r=O(e),n||r){if(!n||!r)return!1;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t){const r=t.hasOwnProperty(n),i=e.hasOwnProperty(n);if(r&&!i||!r&&i||!u(t[n],e[n]))return!1}}return String(t)===String(e)}function c(t,e){return t.findIndex((t=>u(t,e)))}const l=t=>null==t?"":O(t)?JSON.stringify(t,h,2):String(t),h=(t,e)=>E(e)?{[`Map(${e.size})`]:[...e.entries()].reduce(((t,[e,n])=>(t[`${e} =>`]=n,t)),{})}:S(e)?{[`Set(${e.size})`]:[...e.values()]}:!O(e)||T(e)||P(e)?e:String(e),f={},d=[],p=()=>{},v=()=>!1,m=/^on[^a-z]/,g=t=>m.test(t),y=t=>t.startsWith("onUpdate:"),b=Object.assign,w=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},_=Object.prototype.hasOwnProperty,I=(t,e)=>_.call(t,e),T=Array.isArray,E=t=>"[object Map]"===R(t),S=t=>"[object Set]"===R(t),k=t=>t instanceof Date,N=t=>"function"==typeof t,A=t=>"string"==typeof t,D=t=>"symbol"==typeof t,O=t=>null!==t&&"object"==typeof t,C=t=>O(t)&&N(t.then)&&N(t.catch),x=Object.prototype.toString,R=t=>x.call(t),P=t=>"[object Object]"===R(t),M=t=>A(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,L=t(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),F=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},V=/-(\w)/g,U=F((t=>t.replace(V,((t,e)=>e?e.toUpperCase():"")))),j=/\B([A-Z])/g,q=F((t=>t.replace(j,"-$1").toLowerCase())),B=F((t=>t.charAt(0).toUpperCase()+t.slice(1))),K=F((t=>t?`on${B(t)}`:"")),G=(t,e)=>t!==e&&(t==t||e==e),Y=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},H=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},W=t=>{const e=parseFloat(t);return isNaN(e)?t:e},z=new WeakMap,Q=[];let $;const X=Symbol(""),J=Symbol("");function Z(t,e=f){(function(t){return t&&!0===t._isEffect})(t)&&(t=t.raw);const n=function(t,e){const n=function(){if(!n.active)return e.scheduler?void 0:t();if(!Q.includes(n)){nt(n);try{return it.push(rt),rt=!0,Q.push(n),$=n,t()}finally{Q.pop(),st(),$=Q[Q.length-1]}}};return n.id=et++,n.allowRecurse=!!e.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=t,n.deps=[],n.options=e,n}(t,e);return e.lazy||n(),n}function tt(t){t.active&&(nt(t),t.options.onStop&&t.options.onStop(),t.active=!1)}let et=0;function nt(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let rt=!0;const it=[];function ot(){it.push(rt),rt=!1}function st(){const t=it.pop();rt=void 0===t||t}function at(t,e,n){if(!rt||void 0===$)return;let r=z.get(t);r||z.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=new Set),i.has($)||(i.add($),$.deps.push(i))}function ut(t,e,n,r,i,o){const s=z.get(t);if(!s)return;const a=new Set,u=t=>{t&&t.forEach((t=>{(t!==$||t.allowRecurse)&&a.add(t)}))};if("clear"===e)s.forEach(u);else if("length"===n&&T(t))s.forEach(((t,e)=>{("length"===e||e>=r)&&u(t)}));else switch(void 0!==n&&u(s.get(n)),e){case"add":T(t)?M(n)&&u(s.get("length")):(u(s.get(X)),E(t)&&u(s.get(J)));break;case"delete":T(t)||(u(s.get(X)),E(t)&&u(s.get(J)));break;case"set":E(t)&&u(s.get(X))}a.forEach((t=>{t.options.scheduler?t.options.scheduler(t):t()}))}const ct=t("__proto__,__v_isRef,__isVue"),lt=new Set(Object.getOwnPropertyNames(Symbol).map((t=>Symbol[t])).filter(D)),ht=mt(),ft=mt(!1,!0),dt=mt(!0),pt=mt(!0,!0),vt={};function mt(t=!1,e=!1){return function(n,r,i){if("__v_isReactive"===r)return!t;if("__v_isReadonly"===r)return t;if("__v_raw"===r&&i===(t?e?Ht:Yt:e?Gt:Kt).get(n))return n;const o=T(n);if(!t&&o&&I(vt,r))return Reflect.get(vt,r,i);const s=Reflect.get(n,r,i);if(D(r)?lt.has(r):ct(r))return s;if(t||at(n,0,r),e)return s;if(ne(s)){return!o||!M(r)?s.value:s}return O(s)?t?Qt(s):zt(s):s}}["includes","indexOf","lastIndexOf"].forEach((t=>{const e=Array.prototype[t];vt[t]=function(...t){const n=te(this);for(let e=0,i=this.length;e<i;e++)at(n,0,e+"");const r=e.apply(n,t);return-1===r||!1===r?e.apply(n,t.map(te)):r}})),["push","pop","shift","unshift","splice"].forEach((t=>{const e=Array.prototype[t];vt[t]=function(...t){ot();const n=e.apply(this,t);return st(),n}}));function gt(t=!1){return function(e,n,r,i){let o=e[n];if(!t&&(r=te(r),o=te(o),!T(e)&&ne(o)&&!ne(r)))return o.value=r,!0;const s=T(e)&&M(n)?Number(n)<e.length:I(e,n),a=Reflect.set(e,n,r,i);return e===te(i)&&(s?G(r,o)&&ut(e,"set",n,r):ut(e,"add",n,r)),a}}const yt={get:ht,set:gt(),deleteProperty:function(t,e){const n=I(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&ut(t,"delete",e,void 0),r},has:function(t,e){const n=Reflect.has(t,e);return D(e)&&lt.has(e)||at(t,0,e),n},ownKeys:function(t){return at(t,0,T(t)?"length":X),Reflect.ownKeys(t)}},bt={get:dt,set:(t,e)=>!0,deleteProperty:(t,e)=>!0},wt=b({},yt,{get:ft,set:gt(!0)});b({},bt,{get:pt});const _t=t=>O(t)?zt(t):t,It=t=>O(t)?Qt(t):t,Tt=t=>t,Et=t=>Reflect.getPrototypeOf(t);function St(t,e,n=!1,r=!1){const i=te(t=t.__v_raw),o=te(e);e!==o&&!n&&at(i,0,e),!n&&at(i,0,o);const{has:s}=Et(i),a=r?Tt:n?It:_t;return s.call(i,e)?a(t.get(e)):s.call(i,o)?a(t.get(o)):void 0}function kt(t,e=!1){const n=this.__v_raw,r=te(n),i=te(t);return t!==i&&!e&&at(r,0,t),!e&&at(r,0,i),t===i?n.has(t):n.has(t)||n.has(i)}function Nt(t,e=!1){return t=t.__v_raw,!e&&at(te(t),0,X),Reflect.get(t,"size",t)}function At(t){t=te(t);const e=te(this);return Et(e).has.call(e,t)||(e.add(t),ut(e,"add",t,t)),this}function Dt(t,e){e=te(e);const n=te(this),{has:r,get:i}=Et(n);let o=r.call(n,t);o||(t=te(t),o=r.call(n,t));const s=i.call(n,t);return n.set(t,e),o?G(e,s)&&ut(n,"set",t,e):ut(n,"add",t,e),this}function Ot(t){const e=te(this),{has:n,get:r}=Et(e);let i=n.call(e,t);i||(t=te(t),i=n.call(e,t)),r&&r.call(e,t);const o=e.delete(t);return i&&ut(e,"delete",t,void 0),o}function Ct(){const t=te(this),e=0!==t.size,n=t.clear();return e&&ut(t,"clear",void 0,void 0),n}function xt(t,e){return function(n,r){const i=this,o=i.__v_raw,s=te(o),a=e?Tt:t?It:_t;return!t&&at(s,0,X),o.forEach(((t,e)=>n.call(r,a(t),a(e),i)))}}function Rt(t,e,n){return function(...r){const i=this.__v_raw,o=te(i),s=E(o),a="entries"===t||t===Symbol.iterator&&s,u="keys"===t&&s,c=i[t](...r),l=n?Tt:e?It:_t;return!e&&at(o,0,u?J:X),{next(){const{value:t,done:e}=c.next();return e?{value:t,done:e}:{value:a?[l(t[0]),l(t[1])]:l(t),done:e}},[Symbol.iterator](){return this}}}}function Pt(t){return function(...e){return"delete"!==t&&this}}const Mt={get(t){return St(this,t)},get size(){return Nt(this)},has:kt,add:At,set:Dt,delete:Ot,clear:Ct,forEach:xt(!1,!1)},Lt={get(t){return St(this,t,!1,!0)},get size(){return Nt(this)},has:kt,add:At,set:Dt,delete:Ot,clear:Ct,forEach:xt(!1,!0)},Ft={get(t){return St(this,t,!0)},get size(){return Nt(this,!0)},has(t){return kt.call(this,t,!0)},add:Pt("add"),set:Pt("set"),delete:Pt("delete"),clear:Pt("clear"),forEach:xt(!0,!1)},Vt={get(t){return St(this,t,!0,!0)},get size(){return Nt(this,!0)},has(t){return kt.call(this,t,!0)},add:Pt("add"),set:Pt("set"),delete:Pt("delete"),clear:Pt("clear"),forEach:xt(!0,!0)};function Ut(t,e){const n=e?t?Vt:Lt:t?Ft:Mt;return(e,r,i)=>"__v_isReactive"===r?!t:"__v_isReadonly"===r?t:"__v_raw"===r?e:Reflect.get(I(n,r)&&r in e?n:e,r,i)}["keys","values","entries",Symbol.iterator].forEach((t=>{Mt[t]=Rt(t,!1,!1),Ft[t]=Rt(t,!0,!1),Lt[t]=Rt(t,!1,!0),Vt[t]=Rt(t,!0,!0)}));const jt={get:Ut(!1,!1)},qt={get:Ut(!1,!0)},Bt={get:Ut(!0,!1)},Kt=new WeakMap,Gt=new WeakMap,Yt=new WeakMap,Ht=new WeakMap;function Wt(t){return t.__v_skip||!Object.isExtensible(t)?0:function(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((t=>R(t).slice(8,-1))(t))}function zt(t){return t&&t.__v_isReadonly?t:$t(t,!1,yt,jt,Kt)}function Qt(t){return $t(t,!0,bt,Bt,Yt)}function $t(t,e,n,r,i){if(!O(t))return t;if(t.__v_raw&&(!e||!t.__v_isReactive))return t;const o=i.get(t);if(o)return o;const s=Wt(t);if(0===s)return t;const a=new Proxy(t,2===s?r:n);return i.set(t,a),a}function Xt(t){return Jt(t)?Xt(t.__v_raw):!(!t||!t.__v_isReactive)}function Jt(t){return!(!t||!t.__v_isReadonly)}function Zt(t){return Xt(t)||Jt(t)}function te(t){return t&&te(t.__v_raw)||t}const ee=t=>O(t)?zt(t):t;function ne(t){return Boolean(t&&!0===t.__v_isRef)}class re{constructor(t,e=!1){this._rawValue=t,this._shallow=e,this.__v_isRef=!0,this._value=e?t:ee(t)}get value(){return at(te(this),0,"value"),this._value}set value(t){G(te(t),this._rawValue)&&(this._rawValue=t,this._value=this._shallow?t:ee(t),ut(te(this),"set","value",t))}}function ie(t,e=!1){return ne(t)?t:new re(t,e)}function oe(t){return ne(t)?t.value:t}const se={get:(t,e,n)=>oe(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return ne(i)&&!ne(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function ae(t){return Xt(t)?t:new Proxy(t,se)}class ue{constructor(t,e){this._object=t,this._key=e,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(t){this._object[this._key]=t}}class ce{constructor(t,e,n){this._setter=e,this._dirty=!0,this.__v_isRef=!0,this.effect=Z(t,{lazy:!0,scheduler:()=>{this._dirty||(this._dirty=!0,ut(te(this),"set","value"))}}),this.__v_isReadonly=n}get value(){const t=te(this);return t._dirty&&(t._value=this.effect(),t._dirty=!1),at(t,0,"value"),t._value}set value(t){this._setter(t)}}function le(t,e,n,r){let i;try{i=r?t(...r):t()}catch(o){fe(o,e,n)}return i}function he(t,e,n,r){if(N(t)){const i=le(t,e,n,r);return i&&C(i)&&i.catch((t=>{fe(t,e,n)})),i}const i=[];for(let o=0;o<t.length;o++)i.push(he(t[o],e,n,r));return i}function fe(t,e,n,r=!0){e&&e.vnode;if(e){let r=e.parent;const i=e.proxy,o=n;for(;r;){const e=r.ec;if(e)for(let n=0;n<e.length;n++)if(!1===e[n](t,i,o))return;r=r.parent}const s=e.appContext.config.errorHandler;if(s)return void le(s,null,10,[t,i,o])}!function(t,e,n,r=!0){console.error(t)}(t,0,0,r)}let de=!1,pe=!1;const ve=[];let me=0;const ge=[];let ye=null,be=0;const we=[];let _e=null,Ie=0;const Te=Promise.resolve();let Ee=null,Se=null;function ke(t){const e=Ee||Te;return t?e.then(this?t.bind(this):t):e}function Ne(t){if(!(ve.length&&ve.includes(t,de&&t.allowRecurse?me+1:me)||t===Se)){const e=function(t){let e=me+1,n=ve.length;const r=xe(t);for(;e<n;){const t=e+n>>>1;xe(ve[t])<r?e=t+1:n=t}return e}(t);e>-1?ve.splice(e,0,t):ve.push(t),Ae()}}function Ae(){de||pe||(pe=!0,Ee=Te.then(Re))}function De(t,e,n,r){T(t)?n.push(...t):e&&e.includes(t,t.allowRecurse?r+1:r)||n.push(t),Ae()}function Oe(t,e=null){if(ge.length){for(Se=e,ye=[...new Set(ge)],ge.length=0,be=0;be<ye.length;be++)ye[be]();ye=null,be=0,Se=null,Oe(t,e)}}function Ce(t){if(we.length){const t=[...new Set(we)];if(we.length=0,_e)return void _e.push(...t);for(_e=t,_e.sort(((t,e)=>xe(t)-xe(e))),Ie=0;Ie<_e.length;Ie++)_e[Ie]();_e=null,Ie=0}}const xe=t=>null==t.id?1/0:t.id;function Re(t){pe=!1,de=!0,Oe(t),ve.sort(((t,e)=>xe(t)-xe(e)));try{for(me=0;me<ve.length;me++){const t=ve[me];t&&le(t,null,14)}}finally{me=0,ve.length=0,Ce(),de=!1,Ee=null,(ve.length||we.length)&&Re(t)}}function Pe(t,e,...n){const r=t.vnode.props||f;let i=n;const o=e.startsWith("update:"),s=o&&e.slice(7);if(s&&s in r){const t=`${"modelValue"===s?"model":s}Modifiers`,{number:e,trim:o}=r[t]||f;o?i=n.map((t=>t.trim())):e&&(i=n.map(W))}let a,u=r[a=K(e)]||r[a=K(U(e))];!u&&o&&(u=r[a=K(q(e))]),u&&he(u,t,6,i);const c=r[a+"Once"];if(c){if(t.emitted){if(t.emitted[a])return}else(t.emitted={})[a]=!0;he(c,t,6,i)}}function Me(t,e,n=!1){if(!e.deopt&&void 0!==t.__emits)return t.__emits;const r=t.emits;let i={},o=!1;if(!N(t)){const r=t=>{const n=Me(t,e,!0);n&&(o=!0,b(i,n))};!n&&e.mixins.length&&e.mixins.forEach(r),t.extends&&r(t.extends),t.mixins&&t.mixins.forEach(r)}return r||o?(T(r)?r.forEach((t=>i[t]=null)):b(i,r),t.__emits=i):t.__emits=null}function Le(t,e){return!(!t||!g(e))&&(e=e.slice(2).replace(/Once$/,""),I(t,e[0].toLowerCase()+e.slice(1))||I(t,q(e))||I(t,e))}let Fe=0;const Ve=t=>Fe+=t;function Ue(t,e,n={},r,i){let o=t[e];Fe++,Zn();const s=o&&je(o(n)),a=er(Wn,{key:n.key||`_${e}`},s||(r?r():[]),s&&1===t._?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),Fe--,a}function je(t){return t.some((t=>!nr(t)||t.type!==Qn&&!(t.type===Wn&&!je(t.children))))?t:null}let qe=null,Be=null;function Ke(t){const e=qe;return qe=t,Be=t&&t.type.__scopeId||null,e}function Ge(t){Be=t}function Ye(){Be=null}const He=t=>We;function We(t,e=qe){if(!e)return t;const n=(...n)=>{Fe||Zn(!0);const r=Ke(e),i=t(...n);return Ke(r),Fe||tr(),i};return n._c=!0,n}function ze(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:o,propsOptions:[s],slots:a,attrs:u,emit:c,render:l,renderCache:h,data:f,setupState:d,ctx:p}=t;let v;const m=Ke(t);try{let t;if(4&n.shapeFlag){const e=i||r;v=hr(l.call(e,e,h,o,d,f,p)),t=u}else{const n=e;0,v=hr(n.length>1?n(o,{attrs:u,slots:a,emit:c}):n(o,null)),t=e.props?u:$e(u)}let m=v;if(!1!==e.inheritAttrs&&t){const e=Object.keys(t),{shapeFlag:n}=m;e.length&&(1&n||6&n)&&(s&&e.some(y)&&(t=Xe(t,s)),m=ur(m,t))}n.dirs&&(m.dirs=m.dirs?m.dirs.concat(n.dirs):n.dirs),n.transition&&(m.transition=n.transition),v=m}catch(g){Xn.length=0,fe(g,t,1),v=ar(Qn)}return Ke(m),v}function Qe(t){let e;for(let n=0;n<t.length;n++){const r=t[n];if(!nr(r))return;if(r.type!==Qn||"v-if"===r.children){if(e)return;e=r}}return e}const $e=t=>{let e;for(const n in t)("class"===n||"style"===n||g(n))&&((e||(e={}))[n]=t[n]);return e},Xe=(t,e)=>{const n={};for(const r in t)y(r)&&r.slice(9)in e||(n[r]=t[r]);return n};function Je(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(e[o]!==t[o]&&!Le(n,o))return!0}return!1}function Ze(t){if(N(t)&&(t=t()),T(t)){t=Qe(t)}return hr(t)}function tn(t,e,n,r=!1){const i={},o={};H(o,ir,1),t.propsDefaults=Object.create(null),en(t,e,i,o),n?t.props=r?i:$t(i,!1,wt,qt,Gt):t.type.props?t.props=i:t.props=o,t.attrs=o}function en(t,e,n,r){const[i,o]=t.propsOptions;if(e)for(const s in e){const o=e[s];if(L(s))continue;let a;i&&I(i,a=U(s))?n[a]=o:Le(t.emitsOptions,s)||(r[s]=o)}if(o){const e=te(n);for(let r=0;r<o.length;r++){const s=o[r];n[s]=nn(i,e,s,e[s],t)}}}function nn(t,e,n,r,i){const o=t[n];if(null!=o){const t=I(o,"default");if(t&&void 0===r){const t=o.default;if(o.type!==Function&&N(t)){const{propsDefaults:o}=i;n in o?r=o[n]:(Cr(i),r=o[n]=t(e),Cr(null))}else r=t}o[0]&&(I(e,n)||t?!o[1]||""!==r&&r!==q(n)||(r=!0):r=!1)}return r}function rn(t,e,n=!1){if(!e.deopt&&t.__props)return t.__props;const r=t.props,i={},o=[];let s=!1;if(!N(t)){const r=t=>{s=!0;const[n,r]=rn(t,e,!0);b(i,n),r&&o.push(...r)};!n&&e.mixins.length&&e.mixins.forEach(r),t.extends&&r(t.extends),t.mixins&&t.mixins.forEach(r)}if(!r&&!s)return t.__props=d;if(T(r))for(let a=0;a<r.length;a++){const t=U(r[a]);on(t)&&(i[t]=f)}else if(r)for(const a in r){const t=U(a);if(on(t)){const e=r[a],n=i[t]=T(e)||N(e)?{type:e}:e;if(n){const e=un(Boolean,n.type),r=un(String,n.type);n[0]=e>-1,n[1]=r<0||e<r,(e>-1||I(n,"default"))&&o.push(t)}}}return t.__props=[i,o]}function on(t){return"$"!==t[0]}function sn(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function an(t,e){return sn(t)===sn(e)}function un(t,e){return T(e)?e.findIndex((e=>an(e,t))):N(e)&&an(e,t)?0:-1}function cn(t,e,n=Or,r=!1){if(n){const i=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...r)=>{if(n.isUnmounted)return;ot(),Cr(n);const i=he(e,n,t,r);return Cr(null),st(),i});return r?i.unshift(o):i.push(o),o}}const ln=t=>(e,n=Or)=>!Rr&&cn(t,e,n),hn=ln("bm"),fn=ln("m"),dn=ln("bu"),pn=ln("u"),vn=ln("bum"),mn=ln("um"),gn=ln("rtg"),yn=ln("rtc"),bn={};function wn(t,e,n){return _n(t,e,n)}function _n(t,e,{immediate:n,deep:r,flush:i,onTrack:o,onTrigger:s}=f,a=Or){let u,c,l=!1;if(ne(t)?(u=()=>t.value,l=!!t._shallow):Xt(t)?(u=()=>t,r=!0):u=T(t)?()=>t.map((t=>ne(t)?t.value:Xt(t)?Tn(t):N(t)?le(t,a,2,[a&&a.proxy]):void 0)):N(t)?e?()=>le(t,a,2,[a&&a.proxy]):()=>{if(!a||!a.isUnmounted)return c&&c(),he(t,a,3,[h])}:p,e&&r){const t=u;u=()=>Tn(t())}let h=t=>{c=g.options.onStop=()=>{le(t,a,4)}},d=T(t)?[]:bn;const v=()=>{if(g.active)if(e){const t=g();(r||l||G(t,d))&&(c&&c(),he(e,a,3,[t,d===bn?void 0:d,h]),d=t)}else g()};let m;v.allowRecurse=!!e,m="sync"===i?v:"post"===i?()=>Un(v,a&&a.suspense):()=>{!a||a.isMounted?function(t){De(t,ye,ge,be)}(v):v()};const g=Z(u,{lazy:!0,onTrack:o,onTrigger:s,scheduler:m});return Lr(g,a),e?n?v():d=g():"post"===i?Un(g,a&&a.suspense):g(),()=>{tt(g),a&&w(a.effects,g)}}function In(t,e,n){const r=this.proxy;return _n(A(t)?()=>r[t]:t.bind(r),e.bind(r),n,this)}function Tn(t,e=new Set){if(!O(t)||e.has(t))return t;if(e.add(t),ne(t))Tn(t.value,e);else if(T(t))for(let n=0;n<t.length;n++)Tn(t[n],e);else if(S(t)||E(t))t.forEach((t=>{Tn(t,e)}));else for(const n in t)Tn(t[n],e);return t}const En=t=>t.type.__isKeepAlive;function Sn(t,e,n=Or){const r=t.__wdc||(t.__wdc=()=>{let e=n;for(;e;){if(e.isDeactivated)return;e=e.parent}t()});if(cn(e,r,n),n){let t=n.parent;for(;t&&t.parent;)En(t.parent.vnode)&&kn(r,e,n,t),t=t.parent}}function kn(t,e,n,r){const i=cn(e,t,r,!0);mn((()=>{w(r[e],i)}),n)}const Nn=t=>"_"===t[0]||"$stable"===t,An=t=>T(t)?t.map(hr):[hr(t)],Dn=(t,e,n)=>We((t=>An(e(t))),n),On=(t,e)=>{const n=t._ctx;for(const r in t){if(Nn(r))continue;const i=t[r];if(N(i))e[r]=Dn(0,i,n);else if(null!=i){const t=An(i);e[r]=()=>t}}},Cn=(t,e)=>{const n=An(e);t.slots.default=()=>n};function xn(t,e){if(null===qe)return t;const n=qe.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[t,o,s,a=f]=e[i];N(t)&&(t={mounted:t,updated:t}),r.push({dir:t,instance:n,value:o,oldValue:void 0,arg:s,modifiers:a})}return t}function Rn(t,e,n,r){const i=t.dirs,o=e&&e.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);const u=a.dir[r];u&&he(u,n,8,[t.el,a,t,e])}}function Pn(){return{app:null,config:{isNativeTag:v,performance:!1,globalProperties:{},optionMergeStrategies:{},isCustomElement:v,errorHandler:void 0,warnHandler:void 0},mixins:[],components:{},directives:{},provides:Object.create(null)}}let Mn=0;function Ln(t,e){return function(n,r=null){null==r||O(r)||(r=null);const i=Pn(),o=new Set;let s=!1;const a=i.app={_uid:Mn++,_component:n,_props:r,_container:null,_context:i,version:qr,get config(){return i.config},set config(t){},use:(t,...e)=>(o.has(t)||(t&&N(t.install)?(o.add(t),t.install(a,...e)):N(t)&&(o.add(t),t(a,...e))),a),mixin:t=>(i.mixins.includes(t)||(i.mixins.push(t),(t.props||t.emits)&&(i.deopt=!0)),a),component:(t,e)=>e?(i.components[t]=e,a):i.components[t],directive:(t,e)=>e?(i.directives[t]=e,a):i.directives[t],mount(o,u,c){if(!s){const l=ar(n,r);return l.appContext=i,u&&e?e(l,o):t(l,o,c),s=!0,a._container=o,o.__vue_app__=a,l.component.proxy}},unmount(){s&&(t(null,a._container),delete a._container.__vue_app__)},provide:(t,e)=>(i.provides[t]=e,a)};return a}}function Fn(t){return N(t)?{setup:t,name:t.name}:t}const Vn={scheduler:Ne,allowRecurse:!0},Un=function(t,e){e&&e.pendingBranch?T(t)?e.effects.push(...t):e.effects.push(t):De(t,_e,we,Ie)},jn=(t,e,n,r)=>{if(T(t))return void t.forEach(((t,i)=>jn(t,e&&(T(e)?e[i]:e),n,r)));let i;if(r){if(r.type.__asyncLoader)return;i=4&r.shapeFlag?r.component.exposed||r.component.proxy:r.el}else i=null;const{i:o,r:s}=t,a=e&&e.r,u=o.refs===f?o.refs={}:o.refs,c=o.setupState;if(null!=a&&a!==s&&(A(a)?(u[a]=null,I(c,a)&&(c[a]=null)):ne(a)&&(a.value=null)),A(s)){const t=()=>{u[s]=i,I(c,s)&&(c[s]=i)};i?(t.id=-1,Un(t,n)):t()}else if(ne(s)){const t=()=>{s.value=i};i?(t.id=-1,Un(t,n)):t()}else N(s)&&le(s,o,12,[i,u])};function qn(t){return function(t,e){const{insert:n,remove:r,patchProp:i,forcePatchProp:o,createElement:s,createText:a,createComment:u,setText:c,setElementText:l,parentNode:h,nextSibling:v,setScopeId:m=p,cloneNode:g,insertStaticContent:y}=t,w=(t,e,n,r=null,i=null,o=null,s=!1,a=null,u=!1)=>{t&&!rr(t,e)&&(r=rt(t),$(t,i,o,!0),t=null),-2===e.patchFlag&&(u=!1,e.dynamicChildren=null);const{type:c,ref:l,shapeFlag:h}=e;switch(c){case zn:_(t,e,n,r);break;case Qn:T(t,e,n,r);break;case $n:null==t&&E(e,n,r,s);break;case Wn:M(t,e,n,r,i,o,s,a,u);break;default:1&h?N(t,e,n,r,i,o,s,a,u):6&h?F(t,e,n,r,i,o,s,a,u):(64&h||128&h)&&c.process(t,e,n,r,i,o,s,a,u,at)}null!=l&&i&&jn(l,t&&t.ref,o,e)},_=(t,e,r,i)=>{if(null==t)n(e.el=a(e.children),r,i);else{const n=e.el=t.el;e.children!==t.children&&c(n,e.children)}},T=(t,e,r,i)=>{null==t?n(e.el=u(e.children||""),r,i):e.el=t.el},E=(t,e,n,r)=>{[t.el,t.anchor]=y(t.children,e,n,r)},S=({el:t,anchor:e},r,i)=>{let o;for(;t&&t!==e;)o=v(t),n(t,r,i),t=o;n(e,r,i)},k=({el:t,anchor:e})=>{let n;for(;t&&t!==e;)n=v(t),r(t),t=n;r(e)},N=(t,e,n,r,i,o,s,a,u)=>{s=s||"svg"===e.type,null==t?A(e,n,r,i,o,s,a,u):x(t,e,i,o,s,a,u)},A=(t,e,r,o,a,u,c,h)=>{let f,d;const{type:p,props:v,shapeFlag:m,transition:y,patchFlag:b,dirs:w}=t;if(t.el&&void 0!==g&&-1===b)f=t.el=g(t.el);else{if(f=t.el=s(t.type,u,v&&v.is,v),8&m?l(f,t.children):16&m&&O(t.children,f,null,o,a,u&&"foreignObject"!==p,c,h||!!t.dynamicChildren),w&&Rn(t,null,o,"created"),v){for(const e in v)L(e)||i(f,e,null,v[e],u,t.children,o,a,nt);(d=v.onVnodeBeforeMount)&&Bn(d,o,t)}D(f,t,t.scopeId,c,o)}w&&Rn(t,null,o,"beforeMount");const _=(!a||a&&!a.pendingBranch)&&y&&!y.persisted;_&&y.beforeEnter(f),n(f,e,r),((d=v&&v.onVnodeMounted)||_||w)&&Un((()=>{d&&Bn(d,o,t),_&&y.enter(f),w&&Rn(t,null,o,"mounted")}),a)},D=(t,e,n,r,i)=>{if(n&&m(t,n),r)for(let o=0;o<r.length;o++)m(t,r[o]);if(i){if(e===i.subTree){const e=i.vnode;D(t,e,e.scopeId,e.slotScopeIds,i.parent)}}},O=(t,e,n,r,i,o,s,a,u=0)=>{for(let c=u;c<t.length;c++){const u=t[c]=s?fr(t[c]):hr(t[c]);w(null,u,e,n,r,i,o,s,a)}},x=(t,e,n,r,s,a,u)=>{const c=e.el=t.el;let{patchFlag:h,dynamicChildren:d,dirs:p}=e;h|=16&t.patchFlag;const v=t.props||f,m=e.props||f;let g;if((g=m.onVnodeBeforeUpdate)&&Bn(g,n,e,t),p&&Rn(e,t,n,"beforeUpdate"),h>0){if(16&h)P(c,e,v,m,n,r,s);else if(2&h&&v.class!==m.class&&i(c,"class",null,m.class,s),4&h&&i(c,"style",v.style,m.style,s),8&h){const a=e.dynamicProps;for(let e=0;e<a.length;e++){const u=a[e],l=v[u],h=m[u];(h!==l||o&&o(c,u))&&i(c,u,l,h,s,t.children,n,r,nt)}}1&h&&t.children!==e.children&&l(c,e.children)}else u||null!=d||P(c,e,v,m,n,r,s);const y=s&&"foreignObject"!==e.type;d?R(t.dynamicChildren,d,c,n,r,y,a):u||G(t,e,c,null,n,r,y,a,!1),((g=m.onVnodeUpdated)||p)&&Un((()=>{g&&Bn(g,n,e,t),p&&Rn(e,t,n,"updated")}),r)},R=(t,e,n,r,i,o,s)=>{for(let a=0;a<e.length;a++){const u=t[a],c=e[a],l=u.type===Wn||!rr(u,c)||6&u.shapeFlag||64&u.shapeFlag?h(u.el):n;w(u,c,l,null,r,i,o,s,!0)}},P=(t,e,n,r,s,a,u)=>{if(n!==r){for(const c in r){if(L(c))continue;const l=r[c],h=n[c];(l!==h||o&&o(t,c))&&i(t,c,h,l,u,e.children,s,a,nt)}if(n!==f)for(const o in n)L(o)||o in r||i(t,o,n[o],null,u,e.children,s,a,nt)}},M=(t,e,r,i,o,s,u,c,l)=>{const h=e.el=t?t.el:a(""),f=e.anchor=t?t.anchor:a("");let{patchFlag:d,dynamicChildren:p,slotScopeIds:v}=e;d>0&&(l=!0),v&&(c=c?c.concat(v):v),null==t?(n(h,r,i),n(f,r,i),O(e.children,r,f,o,s,u,c,l)):d>0&&64&d&&p&&t.dynamicChildren?(R(t.dynamicChildren,p,r,o,s,u,c),(null!=e.key||o&&e===o.subTree)&&Kn(t,e,!0)):G(t,e,r,f,o,s,u,c,l)},F=(t,e,n,r,i,o,s,a,u)=>{e.slotScopeIds=a,null==t?512&e.shapeFlag?i.ctx.activate(e,n,r,s,u):V(e,n,r,i,o,s,u):j(t,e,u)},V=(t,e,n,r,i,o,s)=>{const a=t.component=function(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||Ar,o={uid:Dr++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,update:null,render:null,proxy:null,exposed:null,withProxy:null,effects:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:rn(r,i),emitsOptions:Me(r,i),emit:null,emitted:null,propsDefaults:f,ctx:f,data:f,props:f,attrs:f,slots:f,refs:f,setupState:f,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=Pe.bind(null,o),o}(t,r,i);if(En(t)&&(a.ctx.renderer=at),function(t,e=!1){Rr=e;const{props:n,children:r}=t.vnode,i=xr(t);tn(t,n,i,e),((t,e)=>{if(32&t.vnode.shapeFlag){const n=e._;n?(t.slots=e,H(e,"_",n)):On(e,t.slots={})}else t.slots={},e&&Cn(t,e);H(t.slots,ir,1)})(t,r);const o=i?function(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,kr);const{setup:r}=n;if(r){const n=t.setupContext=r.length>1?function(t){const e=e=>{t.exposed=ae(e)};return{attrs:t.attrs,slots:t.slots,emit:t.emit,expose:e}}(t):null;Or=t,ot();const i=le(r,t,0,[t.props,n]);if(st(),Or=null,C(i)){if(e)return i.then((e=>{Pr(t,e)})).catch((e=>{fe(e,t,0)}));t.asyncDep=i}else Pr(t,i)}else Mr(t)}(t,e):void 0;Rr=!1}(a),a.asyncDep){if(i&&i.registerDep(a,B),!t.el){const t=a.subTree=ar(Qn);T(null,t,e,n)}}else B(a,t,e,n,i,o,s)},j=(t,e,n)=>{const r=e.component=t.component;if(function(t,e,n){const{props:r,children:i,component:o}=t,{props:s,children:a,patchFlag:u}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(!(n&&u>=0))return!(!i&&!a||a&&a.$stable)||r!==s&&(r?!s||Je(r,s,c):!!s);if(1024&u)return!0;if(16&u)return r?Je(r,s,c):!!s;if(8&u){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const n=t[e];if(s[n]!==r[n]&&!Le(c,n))return!0}}return!1}(t,e,n)){if(r.asyncDep&&!r.asyncResolved)return void K(r,e,n);r.next=e,function(t){const e=ve.indexOf(t);e>me&&ve.splice(e,1)}(r.update),r.update()}else e.component=t.component,e.el=t.el,r.vnode=e},B=(t,e,n,r,i,o,s)=>{t.update=Z((function(){if(t.isMounted){let e,{next:n,bu:r,u:a,parent:u,vnode:c}=t,l=n;n?(n.el=c.el,K(t,n,s)):n=c,r&&Y(r),(e=n.props&&n.props.onVnodeBeforeUpdate)&&Bn(e,u,n,c);const f=ze(t),d=t.subTree;t.subTree=f,w(d,f,h(d.el),rt(d),t,i,o),n.el=f.el,null===l&&function({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}(t,f.el),a&&Un(a,i),(e=n.props&&n.props.onVnodeUpdated)&&Un((()=>{Bn(e,u,n,c)}),i)}else{let s;const{el:a,props:u}=e,{bm:c,m:l,parent:h}=t;c&&Y(c),(s=u&&u.onVnodeBeforeMount)&&Bn(s,h,e);const f=t.subTree=ze(t);if(a&&lt?lt(e.el,f,t,i,null):(w(null,f,n,r,t,i,o),e.el=f.el),l&&Un(l,i),s=u&&u.onVnodeMounted){const t=e;Un((()=>{Bn(s,h,t)}),i)}const{a:d}=t;d&&256&e.shapeFlag&&Un(d,i),t.isMounted=!0,e=n=r=null}}),Vn)},K=(t,e,n)=>{e.component=t;const r=t.vnode.props;t.vnode=e,t.next=null,function(t,e,n,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=t,a=te(i),[u]=t.propsOptions;if(!(r||s>0)||16&s){let r;en(t,e,i,o);for(const o in a)e&&(I(e,o)||(r=q(o))!==o&&I(e,r))||(u?!n||void 0===n[o]&&void 0===n[r]||(i[o]=nn(u,e||f,o,void 0,t)):delete i[o]);if(o!==a)for(const t in o)e&&I(e,t)||delete o[t]}else if(8&s){const n=t.vnode.dynamicProps;for(let r=0;r<n.length;r++){const s=n[r],c=e[s];if(u)if(I(o,s))o[s]=c;else{const e=U(s);i[e]=nn(u,a,e,c,t)}else o[s]=c}}ut(t,"set","$attrs")}(t,e.props,r,n),((t,e,n)=>{const{vnode:r,slots:i}=t;let o=!0,s=f;if(32&r.shapeFlag){const t=e._;t?n&&1===t?o=!1:(b(i,e),n||1!==t||delete i._):(o=!e.$stable,On(e,i)),s=e}else e&&(Cn(t,e),s={default:1});if(o)for(const a in i)Nn(a)||a in s||delete i[a]})(t,e.children,n),ot(),Oe(void 0,t.update),st()},G=(t,e,n,r,i,o,s,a,u=!1)=>{const c=t&&t.children,h=t?t.shapeFlag:0,f=e.children,{patchFlag:d,shapeFlag:p}=e;if(d>0){if(128&d)return void z(c,f,n,r,i,o,s,a,u);if(256&d)return void W(c,f,n,r,i,o,s,a,u)}8&p?(16&h&&nt(c,i,o),f!==c&&l(n,f)):16&h?16&p?z(c,f,n,r,i,o,s,a,u):nt(c,i,o,!0):(8&h&&l(n,""),16&p&&O(f,n,r,i,o,s,a,u))},W=(t,e,n,r,i,o,s,a,u)=>{e=e||d;const c=(t=t||d).length,l=e.length,h=Math.min(c,l);let f;for(f=0;f<h;f++){const r=e[f]=u?fr(e[f]):hr(e[f]);w(t[f],r,n,null,i,o,s,a,u)}c>l?nt(t,i,o,!0,!1,h):O(e,n,r,i,o,s,a,u,h)},z=(t,e,n,r,i,o,s,a,u)=>{let c=0;const l=e.length;let h=t.length-1,f=l-1;for(;c<=h&&c<=f;){const r=t[c],l=e[c]=u?fr(e[c]):hr(e[c]);if(!rr(r,l))break;w(r,l,n,null,i,o,s,a,u),c++}for(;c<=h&&c<=f;){const r=t[h],c=e[f]=u?fr(e[f]):hr(e[f]);if(!rr(r,c))break;w(r,c,n,null,i,o,s,a,u),h--,f--}if(c>h){if(c<=f){const t=f+1,h=t<l?e[t].el:r;for(;c<=f;)w(null,e[c]=u?fr(e[c]):hr(e[c]),n,h,i,o,s,a,u),c++}}else if(c>f)for(;c<=h;)$(t[c],i,o,!0),c++;else{const p=c,v=c,m=new Map;for(c=v;c<=f;c++){const t=e[c]=u?fr(e[c]):hr(e[c]);null!=t.key&&m.set(t.key,c)}let g,y=0;const b=f-v+1;let _=!1,I=0;const T=new Array(b);for(c=0;c<b;c++)T[c]=0;for(c=p;c<=h;c++){const r=t[c];if(y>=b){$(r,i,o,!0);continue}let l;if(null!=r.key)l=m.get(r.key);else for(g=v;g<=f;g++)if(0===T[g-v]&&rr(r,e[g])){l=g;break}void 0===l?$(r,i,o,!0):(T[l-v]=c+1,l>=I?I=l:_=!0,w(r,e[l],n,null,i,o,s,a,u),y++)}const E=_?function(t){const e=t.slice(),n=[0];let r,i,o,s,a;const u=t.length;for(r=0;r<u;r++){const u=t[r];if(0!==u){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)a=(o+s)/2|0,t[n[a]]<u?o=a+1:s=a;u<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}o=n.length,s=n[o-1];for(;o-- >0;)n[o]=s,s=e[s];return n}(T):d;for(g=E.length-1,c=b-1;c>=0;c--){const t=v+c,h=e[t],f=t+1<l?e[t+1].el:r;0===T[c]?w(null,h,n,f,i,o,s,a,u):_&&(g<0||c!==E[g]?Q(h,n,f,2):g--)}}},Q=(t,e,r,i,o=null)=>{const{el:s,type:a,transition:u,children:c,shapeFlag:l}=t;if(6&l)return void Q(t.component.subTree,e,r,i);if(128&l)return void t.suspense.move(e,r,i);if(64&l)return void a.move(t,e,r,at);if(a===Wn){n(s,e,r);for(let t=0;t<c.length;t++)Q(c[t],e,r,i);return void n(t.anchor,e,r)}if(a===$n)return void S(t,e,r);if(2!==i&&1&l&&u)if(0===i)u.beforeEnter(s),n(s,e,r),Un((()=>u.enter(s)),o);else{const{leave:t,delayLeave:i,afterLeave:o}=u,a=()=>n(s,e,r),c=()=>{t(s,(()=>{a(),o&&o()}))};i?i(s,a,c):c()}else n(s,e,r)},$=(t,e,n,r=!1,i=!1)=>{const{type:o,props:s,ref:a,children:u,dynamicChildren:c,shapeFlag:l,patchFlag:h,dirs:f}=t;if(null!=a&&jn(a,null,n,null),256&l)return void e.ctx.deactivate(t);const d=1&l&&f;let p;if((p=s&&s.onVnodeBeforeUnmount)&&Bn(p,e,t),6&l)et(t.component,n,r);else{if(128&l)return void t.suspense.unmount(n,r);d&&Rn(t,null,e,"beforeUnmount"),64&l?t.type.remove(t,e,n,i,at,r):c&&(o!==Wn||h>0&&64&h)?nt(c,e,n,!1,!0):(o===Wn&&(128&h||256&h)||!i&&16&l)&&nt(u,e,n),r&&X(t)}((p=s&&s.onVnodeUnmounted)||d)&&Un((()=>{p&&Bn(p,e,t),d&&Rn(t,null,e,"unmounted")}),n)},X=t=>{const{type:e,el:n,anchor:i,transition:o}=t;if(e===Wn)return void J(n,i);if(e===$n)return void k(t);const s=()=>{r(n),o&&!o.persisted&&o.afterLeave&&o.afterLeave()};if(1&t.shapeFlag&&o&&!o.persisted){const{leave:e,delayLeave:r}=o,i=()=>e(n,s);r?r(t.el,s,i):i()}else s()},J=(t,e)=>{let n;for(;t!==e;)n=v(t),r(t),t=n;r(e)},et=(t,e,n)=>{const{bum:r,effects:i,update:o,subTree:s,um:a}=t;if(r&&Y(r),i)for(let u=0;u<i.length;u++)tt(i[u]);o&&(tt(o),$(s,t,e,n)),a&&Un(a,e),Un((()=>{t.isUnmounted=!0}),e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve())},nt=(t,e,n,r=!1,i=!1,o=0)=>{for(let s=o;s<t.length;s++)$(t[s],e,n,r,i)},rt=t=>6&t.shapeFlag?rt(t.component.subTree):128&t.shapeFlag?t.suspense.next():v(t.anchor||t.el),it=(t,e,n)=>{null==t?e._vnode&&$(e._vnode,null,null,!0):w(e._vnode||null,t,e,null,null,null,n),Ce(),e._vnode=t},at={p:w,um:$,m:Q,r:X,mt:V,mc:O,pc:G,pbc:R,n:rt,o:t};let ct,lt;e&&([ct,lt]=e(at));return{render:it,hydrate:ct,createApp:Ln(it,ct)}}(t)}function Bn(t,e,n,r=null){he(t,e,7,[n,r])}function Kn(t,e,n=!1){const r=t.children,i=e.children;if(T(r)&&T(i))for(let o=0;o<r.length;o++){const t=r[o];let e=i[o];1&e.shapeFlag&&!e.dynamicChildren&&((e.patchFlag<=0||32===e.patchFlag)&&(e=i[o]=fr(i[o]),e.el=t.el),n||Kn(t,e))}}function Gn(t,e){return function(t,e,n=!0,r=!1){const i=qe||Or;if(i){const n=i.type;if("components"===t){const t=Fr(n);if(t&&(t===e||t===U(e)||t===B(U(e))))return n}const o=Hn(i[t]||n[t],e)||Hn(i.appContext[t],e);return!o&&r?n:o}}("components",t,!0,e)||t}const Yn=Symbol();function Hn(t,e){return t&&(t[e]||t[U(e)]||t[B(U(e))])}const Wn=Symbol(void 0),zn=Symbol(void 0),Qn=Symbol(void 0),$n=Symbol(void 0),Xn=[];let Jn=null;function Zn(t=!1){Xn.push(Jn=t?null:[])}function tr(){Xn.pop(),Jn=Xn[Xn.length-1]||null}function er(t,e,n,r,i){const o=ar(t,e,n,r,i,!0);return o.dynamicChildren=Jn||d,tr(),Jn&&Jn.push(o),o}function nr(t){return!!t&&!0===t.__v_isVNode}function rr(t,e){return t.type===e.type&&t.key===e.key}const ir="__vInternal",or=({key:t})=>null!=t?t:null,sr=({ref:t})=>null!=t?A(t)||ne(t)||N(t)?{i:qe,r:t}:t:null,ar=function(t,e=null,n=null,i=0,o=null,s=!1){t&&t!==Yn||(t=Qn);if(nr(t)){const r=ur(t,e,!0);return n&&dr(r,n),r}u=t,N(u)&&"__vccOpts"in u&&(t=t.__vccOpts);var u;if(e){(Zt(e)||ir in e)&&(e=b({},e));let{class:t,style:n}=e;t&&!A(t)&&(e.class=a(t)),O(n)&&(Zt(n)&&!T(n)&&(n=b({},n)),e.style=r(n))}const c=A(t)?1:(t=>t.__isSuspense)(t)?128:(t=>t.__isTeleport)(t)?64:O(t)?4:N(t)?2:0,l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&or(e),ref:e&&sr(e),scopeId:Be,slotScopeIds:null,children:null,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:c,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null};if(dr(l,n),128&c){const{content:t,fallback:e}=function(t){const{shapeFlag:e,children:n}=t;let r,i;return 32&e?(r=Ze(n.default),i=Ze(n.fallback)):(r=Ze(n),i=hr(null)),{content:r,fallback:i}}(l);l.ssContent=t,l.ssFallback=e}!s&&Jn&&(i>0||6&c)&&32!==i&&Jn.push(l);return l};function ur(t,e,n=!1){const{props:i,ref:o,patchFlag:s,children:u}=t,c=e?function(...t){const e=b({},t[0]);for(let n=1;n<t.length;n++){const i=t[n];for(const t in i)if("class"===t)e.class!==i.class&&(e.class=a([e.class,i.class]));else if("style"===t)e.style=r([e.style,i.style]);else if(g(t)){const n=e[t],r=i[t];n!==r&&(e[t]=n?[].concat(n,i[t]):r)}else""!==t&&(e[t]=i[t])}return e}(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&or(c),ref:e&&e.ref?n&&o?T(o)?o.concat(sr(e)):[o,sr(e)]:sr(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:u,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Wn?-1===s?16:16|s:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ur(t.ssContent),ssFallback:t.ssFallback&&ur(t.ssFallback),el:t.el,anchor:t.anchor}}function cr(t=" ",e=0){return ar(zn,null,t,e)}function lr(t="",e=!1){return e?(Zn(),er(Qn,null,t)):ar(Qn,null,t)}function hr(t){return null==t||"boolean"==typeof t?ar(Qn):T(t)?ar(Wn,null,t):"object"==typeof t?null===t.el?t:ur(t):ar(zn,null,String(t))}function fr(t){return null===t.el?t:ur(t)}function dr(t,e){let n=0;const{shapeFlag:r}=t;if(null==e)e=null;else if(T(e))n=16;else if("object"==typeof e){if(1&r||64&r){const n=e.default;return void(n&&(n._c&&Ve(1),dr(t,n()),n._c&&Ve(-1)))}{n=32;const r=e._;r||ir in e?3===r&&qe&&(1024&qe.vnode.patchFlag?(e._=2,t.patchFlag|=1024):e._=1):e._ctx=qe}}else N(e)?(e={default:e,_ctx:qe},n=32):(e=String(e),64&r?(n=16,e=[cr(e)]):n=8);t.children=e,t.shapeFlag|=n}function pr(t,e){if(Or){let n=Or.provides;const r=Or.parent&&Or.parent.provides;r===n&&(n=Or.provides=Object.create(r)),n[t]=e}else;}function vr(t,e,n=!1){const r=Or||qe;if(r){const i=null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&N(e)?e():e}}let mr=!0;function gr(t,e,n=[],r=[],i=[],o=!1){const{mixins:s,extends:a,data:u,computed:c,methods:l,watch:h,provide:d,inject:v,components:m,directives:g,beforeMount:y,mounted:w,beforeUpdate:_,updated:I,activated:E,deactivated:S,beforeDestroy:k,beforeUnmount:A,destroyed:D,unmounted:C,render:x,renderTracked:R,renderTriggered:P,errorCaptured:M,expose:L}=e,F=t.proxy,V=t.ctx,U=t.appContext.mixins;if(o&&x&&t.render===p&&(t.render=x),o||(mr=!1,yr("beforeCreate","bc",e,t,U),mr=!0,wr(t,U,n,r,i)),a&&gr(t,a,n,r,i,!0),s&&wr(t,s,n,r,i),v)if(T(v))for(let f=0;f<v.length;f++){const t=v[f];V[t]=vr(t)}else for(const f in v){const t=v[f];O(t)?V[f]=vr(t.from||f,t.default,!0):V[f]=vr(t)}if(l)for(const f in l){const t=l[f];N(t)&&(V[f]=t.bind(F))}if(o?u&&n.push(u):(n.length&&n.forEach((e=>_r(t,e,F))),u&&_r(t,u,F)),c)for(const f in c){const t=c[f],e=Vr({get:N(t)?t.bind(F,F):N(t.get)?t.get.bind(F,F):p,set:!N(t)&&N(t.set)?t.set.bind(F):p});Object.defineProperty(V,f,{enumerable:!0,configurable:!0,get:()=>e.value,set:t=>e.value=t})}var j;if(h&&r.push(h),!o&&r.length&&r.forEach((t=>{for(const e in t)Ir(t[e],V,F,e)})),d&&i.push(d),!o&&i.length&&i.forEach((t=>{const e=N(t)?t.call(F):t;Reflect.ownKeys(e).forEach((t=>{pr(t,e[t])}))})),o&&(m&&b(t.components||(t.components=b({},t.type.components)),m),g&&b(t.directives||(t.directives=b({},t.type.directives)),g)),o||yr("created","c",e,t,U),y&&hn(y.bind(F)),w&&fn(w.bind(F)),_&&dn(_.bind(F)),I&&pn(I.bind(F)),E&&Sn(E.bind(F),"a",j),S&&function(t,e){Sn(t,"da",e)}(S.bind(F)),M&&((t,e=Or)=>{cn("ec",t,e)})(M.bind(F)),R&&yn(R.bind(F)),P&&gn(P.bind(F)),A&&vn(A.bind(F)),C&&mn(C.bind(F)),T(L)&&!o)if(L.length){const e=t.exposed||(t.exposed=ae({}));L.forEach((t=>{e[t]=function(t,e){return ne(t[e])?t[e]:new ue(t,e)}(F,t)}))}else t.exposed||(t.exposed=f)}function yr(t,e,n,r,i){for(let o=0;o<i.length;o++)br(t,e,i[o],r);br(t,e,n,r)}function br(t,e,n,r){const{extends:i,mixins:o}=n,s=n[t];if(i&&br(t,e,i,r),o)for(let a=0;a<o.length;a++)br(t,e,o[a],r);s&&he(s.bind(r.proxy),r,e)}function wr(t,e,n,r,i){for(let o=0;o<e.length;o++)gr(t,e[o],n,r,i,!0)}function _r(t,e,n){mr=!1;const r=e.call(n,n);mr=!0,O(r)&&(t.data===f?t.data=zt(r):b(t.data,r))}function Ir(t,e,n,r){const i=r.includes(".")?function(t,e){const n=e.split(".");return()=>{let e=t;for(let t=0;t<n.length&&e;t++)e=e[n[t]];return e}}(n,r):()=>n[r];if(A(t)){const n=e[t];N(n)&&wn(i,n)}else if(N(t))wn(i,t.bind(n));else if(O(t))if(T(t))t.forEach((t=>Ir(t,e,n,r)));else{const r=N(t.handler)?t.handler.bind(n):e[t.handler];N(r)&&wn(i,r,t)}}function Tr(t,e,n){const r=n.appContext.config.optionMergeStrategies,{mixins:i,extends:o}=e;o&&Tr(t,o,n),i&&i.forEach((e=>Tr(t,e,n)));for(const s in e)r&&I(r,s)?t[s]=r[s](t[s],e[s],n.proxy,s):t[s]=e[s]}const Er=t=>t?xr(t)?t.exposed?t.exposed:t.proxy:Er(t.parent):null,Sr=b(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Er(t.parent),$root:t=>Er(t.root),$emit:t=>t.emit,$options:t=>function(t){const e=t.type,{__merged:n,mixins:r,extends:i}=e;if(n)return n;const o=t.appContext.mixins;if(!o.length&&!r&&!i)return e;const s={};return o.forEach((e=>Tr(s,e,t))),Tr(s,e,t),e.__merged=s}(t),$forceUpdate:t=>()=>Ne(t.update),$nextTick:t=>ke.bind(t.proxy),$watch:t=>In.bind(t)}),kr={get({_:t},e){const{ctx:n,setupState:r,data:i,props:o,accessCache:s,type:a,appContext:u}=t;if("__v_skip"===e)return!0;let c;if("$"!==e[0]){const a=s[e];if(void 0!==a)switch(a){case 0:return r[e];case 1:return i[e];case 3:return n[e];case 2:return o[e]}else{if(r!==f&&I(r,e))return s[e]=0,r[e];if(i!==f&&I(i,e))return s[e]=1,i[e];if((c=t.propsOptions[0])&&I(c,e))return s[e]=2,o[e];if(n!==f&&I(n,e))return s[e]=3,n[e];mr&&(s[e]=4)}}const l=Sr[e];let h,d;return l?("$attrs"===e&&at(t,0,e),l(t)):(h=a.__cssModules)&&(h=h[e])?h:n!==f&&I(n,e)?(s[e]=3,n[e]):(d=u.config.globalProperties,I(d,e)?d[e]:void 0)},set({_:t},e,n){const{data:r,setupState:i,ctx:o}=t;if(i!==f&&I(i,e))i[e]=n;else if(r!==f&&I(r,e))r[e]=n;else if(I(t.props,e))return!1;return("$"!==e[0]||!(e.slice(1)in t))&&(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:o}},s){let a;return void 0!==n[s]||t!==f&&I(t,s)||e!==f&&I(e,s)||(a=o[0])&&I(a,s)||I(r,s)||I(Sr,s)||I(i.config.globalProperties,s)}},Nr=b({},kr,{get(t,e){if(e!==Symbol.unscopables)return kr.get(t,e,t)},has:(t,n)=>"_"!==n[0]&&!e(n)}),Ar=Pn();let Dr=0;let Or=null;const Cr=t=>{Or=t};function xr(t){return 4&t.vnode.shapeFlag}let Rr=!1;function Pr(t,e,n){N(e)?t.render=e:O(e)&&(t.setupState=ae(e)),Mr(t)}function Mr(t,e){const n=t.type;t.render||(t.render=n.render||p,t.render._rc&&(t.withProxy=new Proxy(t.ctx,Nr))),Or=t,ot(),gr(t,n),st(),Or=null}function Lr(t,e=Or){e&&(e.effects||(e.effects=[])).push(t)}function Fr(t){return N(t)&&t.displayName||t.name}function Vr(t){const e=function(t){let e,n;return N(t)?(e=t,n=p):(e=t.get,n=t.set),new ce(e,n,N(t)||!t.set)}(t);return Lr(e.effect),e}function Ur(t,e,n){const r=arguments.length;return 2===r?O(e)&&!T(e)?nr(e)?ar(t,null,[e]):ar(t,e):ar(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&nr(n)&&(n=[n]),ar(t,e,n))}function jr(t,e){let n;if(T(t)||A(t)){n=new Array(t.length);for(let r=0,i=t.length;r<i;r++)n[r]=e(t[r],r)}else if("number"==typeof t){n=new Array(t);for(let r=0;r<t;r++)n[r]=e(r+1,r)}else if(O(t))if(t[Symbol.iterator])n=Array.from(t,e);else{const r=Object.keys(t);n=new Array(r.length);for(let i=0,o=r.length;i<o;i++){const o=r[i];n[i]=e(t[o],o,i)}}else n=[];return n}const qr="3.0.11",Br="http://www.w3.org/2000/svg",Kr="undefined"!=typeof document?document:null;let Gr,Yr;const Hr={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?Kr.createElementNS(Br,t):Kr.createElement(t,n?{is:n}:void 0);return"select"===t&&r&&null!=r.multiple&&i.setAttribute("multiple",r.multiple),i},createText:t=>Kr.createTextNode(t),createComment:t=>Kr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Kr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,n,r){const i=r?Yr||(Yr=Kr.createElementNS(Br,"svg")):Gr||(Gr=Kr.createElement("div"));i.innerHTML=t;const o=i.firstChild;let s=o,a=s;for(;s;)a=s,Hr.insert(s,e,n),s=i.firstChild;return[o,a]}};const Wr=/\s*!important$/;function zr(t,e,n){if(T(n))n.forEach((n=>zr(t,e,n)));else if(e.startsWith("--"))t.setProperty(e,n);else{const r=function(t,e){const n=$r[e];if(n)return n;let r=U(e);if("filter"!==r&&r in t)return $r[e]=r;r=B(r);for(let i=0;i<Qr.length;i++){const n=Qr[i]+r;if(n in t)return $r[e]=n}return e}(t,e);Wr.test(n)?t.setProperty(q(r),n.replace(Wr,""),"important"):t[r]=n}}const Qr=["Webkit","Moz","ms"],$r={};const Xr="http://www.w3.org/1999/xlink";let Jr=Date.now,Zr=!1;if("undefined"!=typeof window){Jr()>document.createEvent("Event").timeStamp&&(Jr=()=>performance.now());const t=navigator.userAgent.match(/firefox\/(\d+)/i);Zr=!!(t&&Number(t[1])<=53)}let ti=0;const ei=Promise.resolve(),ni=()=>{ti=0};function ri(t,e,n,r){t.addEventListener(e,n,r)}function ii(t,e,n,r,i=null){const o=t._vei||(t._vei={}),s=o[e];if(r&&s)s.value=r;else{const[n,a]=function(t){let e;if(oi.test(t)){let n;for(e={};n=t.match(oi);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[q(t.slice(2)),e]}(e);if(r){ri(t,n,o[e]=function(t,e){const n=t=>{const r=t.timeStamp||Jr();(Zr||r>=n.attached-1)&&he(function(t,e){if(T(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map((t=>e=>!e._stopped&&t(e)))}return e}(t,n.value),e,5,[t])};return n.value=t,n.attached=(()=>ti||(ei.then(ni),ti=Jr()))(),n}(r,i),a)}else s&&(!function(t,e,n,r){t.removeEventListener(e,n,r)}(t,n,s,a),o[e]=void 0)}}const oi=/(?:Once|Passive|Capture)$/;const si=/^on[a-z]/;const ai=t=>{const e=t.props["onUpdate:modelValue"];return T(e)?t=>Y(e,t):e};function ui(t){t.target.composing=!0}function ci(t){const e=t.target;e.composing&&(e.composing=!1,function(t,e){const n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}(e,"input"))}const li={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t._assign=ai(i);const o=r||"number"===t.type;ri(t,e?"change":"input",(e=>{if(e.target.composing)return;let r=t.value;n?r=r.trim():o&&(r=W(r)),t._assign(r)})),n&&ri(t,"change",(()=>{t.value=t.value.trim()})),e||(ri(t,"compositionstart",ui),ri(t,"compositionend",ci),ri(t,"change",ci))},mounted(t,{value:e}){t.value=null==e?"":e},beforeUpdate(t,{value:e,modifiers:{trim:n,number:r}},i){if(t._assign=ai(i),t.composing)return;if(document.activeElement===t){if(n&&t.value.trim()===e)return;if((r||"number"===t.type)&&W(t.value)===e)return}const o=null==e?"":e;t.value!==o&&(t.value=o)}},hi={created(t,e,n){t._assign=ai(n),ri(t,"change",(()=>{const e=t._modelValue,n=vi(t),r=t.checked,i=t._assign;if(T(e)){const t=c(e,n),o=-1!==t;if(r&&!o)i(e.concat(n));else if(!r&&o){const n=[...e];n.splice(t,1),i(n)}}else if(S(e)){const t=new Set(e);r?t.add(n):t.delete(n),i(t)}else i(mi(t,r))}))},mounted:fi,beforeUpdate(t,e,n){t._assign=ai(n),fi(t,e,n)}};function fi(t,{value:e,oldValue:n},r){t._modelValue=e,T(e)?t.checked=c(e,r.props.value)>-1:S(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=u(e,mi(t,!0)))}const di={created(t,{value:e,modifiers:{number:n}},r){const i=S(e);ri(t,"change",(()=>{const e=Array.prototype.filter.call(t.options,(t=>t.selected)).map((t=>n?W(vi(t)):vi(t)));t._assign(t.multiple?i?new Set(e):e:e[0])})),t._assign=ai(r)},mounted(t,{value:e}){pi(t,e)},beforeUpdate(t,e,n){t._assign=ai(n)},updated(t,{value:e}){pi(t,e)}};function pi(t,e){const n=t.multiple;if(!n||T(e)||S(e)){for(let r=0,i=t.options.length;r<i;r++){const i=t.options[r],o=vi(i);if(n)T(e)?i.selected=c(e,o)>-1:i.selected=e.has(o);else if(u(vi(i),e))return void(t.selectedIndex=r)}n||(t.selectedIndex=-1)}}function vi(t){return"_value"in t?t._value:t.value}function mi(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const gi=["ctrl","shift","alt","meta"],yi={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&0!==t.button,middle:t=>"button"in t&&1!==t.button,right:t=>"button"in t&&2!==t.button,exact:(t,e)=>gi.some((n=>t[`${n}Key`]&&!e.includes(n)))},bi=(t,e)=>(n,...r)=>{for(let t=0;t<e.length;t++){const r=yi[e[t]];if(r&&r(n,e))return}return t(n,...r)},wi={beforeMount(t,{value:e},{transition:n}){t._vod="none"===t.style.display?"":t.style.display,n&&e?n.beforeEnter(t):_i(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),_i(t,!0),r.enter(t)):r.leave(t,(()=>{_i(t,!1)})):_i(t,e))},beforeUnmount(t,{value:e}){_i(t,e)}};function _i(t,e){t.style.display=e?t._vod:"none"}const Ii=b({patchProp:(t,e,r,i,o=!1,s,a,u,c)=>{switch(e){case"class":!function(t,e,n){if(null==e&&(e=""),n)t.setAttribute("class",e);else{const n=t._vtc;n&&(e=(e?[e,...n]:[...n]).join(" ")),t.className=e}}(t,i,o);break;case"style":!function(t,e,n){const r=t.style;if(n)if(A(n)){if(e!==n){const e=r.display;r.cssText=n,"_vod"in t&&(r.display=e)}}else{for(const t in n)zr(r,t,n[t]);if(e&&!A(e))for(const t in e)null==n[t]&&zr(r,t,"")}else t.removeAttribute("style")}(t,r,i);break;default:g(e)?y(e)||ii(t,e,0,i,a):function(t,e,n,r){if(r)return"innerHTML"===e||!!(e in t&&si.test(e)&&N(n));if("spellcheck"===e||"draggable"===e)return!1;if("form"===e)return!1;if("list"===e&&"INPUT"===t.tagName)return!1;if("type"===e&&"TEXTAREA"===t.tagName)return!1;if(si.test(e)&&A(n))return!1;return e in t}(t,e,i,o)?function(t,e,n,r,i,o,s){if("innerHTML"===e||"textContent"===e)return r&&s(r,i,o),void(t[e]=null==n?"":n);if("value"!==e||"PROGRESS"===t.tagName){if(""===n||null==n){const r=typeof t[e];if(""===n&&"boolean"===r)return void(t[e]=!0);if(null==n&&"string"===r)return t[e]="",void t.removeAttribute(e);if("number"===r)return t[e]=0,void t.removeAttribute(e)}try{t[e]=n}catch($_){}}else{t._value=n;const e=null==n?"":n;t.value!==e&&(t.value=e)}}(t,e,i,s,a,u,c):("true-value"===e?t._trueValue=i:"false-value"===e&&(t._falseValue=i),function(t,e,r,i){if(i&&e.startsWith("xlink:"))null==r?t.removeAttributeNS(Xr,e.slice(6,e.length)):t.setAttributeNS(Xr,e,r);else{const i=n(e);null==r||i&&!1===r?t.removeAttribute(e):t.setAttribute(e,i?"":r)}}(t,e,i,o))}},forcePatchProp:(t,e)=>"value"===e},Hr);let Ti;const Ei=(...t)=>{const e=(Ti||(Ti=qn(Ii))).createApp(...t),{mount:n}=e;return e.mount=t=>{const r=function(t){if(A(t)){return document.querySelector(t)}return t}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */(t);if(!r)return;const i=e._component;N(i)||i.render||i.template||(i.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};var Si=function(t,e){return(Si=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function ki(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Si(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Ni=function(){return(Ni=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Ai(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch($_){o($_)}}function a(t){try{u(r.throw(t))}catch($_){o($_)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function Di(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch($_){o=[6,$_],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function Oi(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ci(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function xi(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ri={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,h=(3&o)<<4|a>>4,f=(15&a)<<2|c>>6,d=63&c;u||(d=64,s||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();var c=o<<2|s>>4;if(r.push(c),64!==a){var l=s<<4&240|a>>2;if(r.push(l),64!==u){var h=a<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function Pi(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=Pi(t[n],e[n]));return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Mi=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Li(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Fi(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch($_){return!1}}function Vi(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Ui(){return"indexedDB"in self&&null!=indexedDB}function ji(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}}))}function qi(){return!(!navigator||!navigator.cookieEnabled)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bi=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,Ki.prototype.create),o}return ki(e,t),e}(Error),Ki=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?Gi(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new Bi(i,a,r);return u},t}();function Gi(t,e){return t.replace(Yi,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var Yi=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Wi(t,e){var n=new zi(t,e);return n.subscribe.bind(n)}var zi=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=Qi),void 0===r.error&&(r.error=Qi),void 0===r.complete&&(r.complete=Qi);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch($_){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch($_){"undefined"!=typeof console&&console.error&&console.error($_)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function Qi(){}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(t){return t&&t._delegate?t._delegate:t}var Ji=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),Zi=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new Mi;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch($_){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Ni({identifier:"[DEFAULT]",optional:!1},t),n=e.identifier,r=e.optional,i=this.normalizeInstanceIdentifier(n);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch($_){if(r)return null;throw $_}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch($_){}try{for(var r=Oi(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=Ci(i.value,2),s=o[0],a=o[1],u=this.normalizeInstanceIdentifier(s);try{var c=this.getOrInitializeService({instanceIdentifier:u});a.resolve(c)}catch($_){}}}catch(l){e={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Ai(this,void 0,void 0,(function(){var t;return Di(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(xi(xi([],Ci(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),Ci(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var r=t.instanceIdentifier,i=void 0===r?"[DEFAULT]":r,o=t.options,s=void 0===o?{}:o,a=this.normalizeInstanceIdentifier(i);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:a,options:s});try{for(var c=Oi(this.instancesDeferred.entries()),l=c.next();!l.done;l=c.next()){var h=Ci(l.value,2),f=h[0],d=h[1];a===this.normalizeInstanceIdentifier(f)&&d.resolve(u)}}catch(p){e={error:p}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(u,a),u},t.prototype.onInit=function(t){var e=this;return this.onInitCallbacks.add(t),function(){e.onInitCallbacks.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,r;try{for(var i=Oi(this.onInitCallbacks),o=i.next();!o.done;o=i.next()){var s=o.value;try{s(t,e)}catch(a){}}}catch(u){n={error:u}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(s){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var to,eo=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new Zi(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function no(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ro,io,oo=[];(io=ro||(ro={}))[io.DEBUG=0]="DEBUG",io[io.VERBOSE=1]="VERBOSE",io[io.INFO=2]="INFO",io[io.WARN=3]="WARN",io[io.ERROR=4]="ERROR",io[io.SILENT=5]="SILENT";var so,ao={debug:ro.DEBUG,verbose:ro.VERBOSE,info:ro.INFO,warn:ro.WARN,error:ro.ERROR,silent:ro.SILENT},uo=ro.INFO,co=((to={})[ro.DEBUG]="log",to[ro.VERBOSE]="log",to[ro.INFO]="info",to[ro.WARN]="warn",to[ro.ERROR]="error",to),lo=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=co[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,no(["["+i+"]  "+t.name+":"],n))}},ho=function(){function t(t){this.name=t,this._logLevel=uo,this._logHandler=lo,this._userLogHandler=null,oo.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in ro))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?ao[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,no([this,ro.DEBUG],t)),this._logHandler.apply(this,no([this,ro.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,no([this,ro.VERBOSE],t)),this._logHandler.apply(this,no([this,ro.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,no([this,ro.INFO],t)),this._logHandler.apply(this,no([this,ro.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,no([this,ro.WARN],t)),this._logHandler.apply(this,no([this,ro.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,no([this,ro.ERROR],t)),this._logHandler.apply(this,no([this,ro.ERROR],t))},t}();function fo(t){oo.forEach((function(e){e.setLogLevel(t)}))}var po,vo=((so={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",so["bad-app-name"]="Illegal App name: '{$appName}",so["duplicate-app"]="Firebase App named '{$appName}' already exists",so["app-deleted"]="Firebase App named '{$appName}' already deleted",so["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",so["invalid-log-argument"]="First argument to `onLog` must be null or a function.",so),mo=new Ki("app","Firebase",vo),go=((po={})["@firebase/app"]="fire-core",po["@firebase/analytics"]="fire-analytics",po["@firebase/app-check"]="fire-app-check",po["@firebase/auth"]="fire-auth",po["@firebase/database"]="fire-rtdb",po["@firebase/functions"]="fire-fn",po["@firebase/installations"]="fire-iid",po["@firebase/messaging"]="fire-fcm",po["@firebase/performance"]="fire-perf",po["@firebase/remote-config"]="fire-rc",po["@firebase/storage"]="fire-gcs",po["@firebase/firestore"]="fire-fst",po["fire-js"]="fire-js",po["firebase-wrapper"]="fire-js-all",po),yo=new ho("@firebase/app"),bo=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Pi(void 0,t),this.container=new eo(e.name),this._addComponent(new Ji("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){var n;void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch($_){yo.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,$_)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw mo.create("app-deleted",{appName:this.name_})},t}();bo.prototype.name&&bo.prototype.options||bo.prototype.delete||console.log("dc");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function wo(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw mo.create("bad-app-name",{appName:String(s)});if(Hi(e,s))throw mo.create("duplicate-app",{appName:s});var a=new t(n,o,r);return e[s]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=go[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void yo.warn(u.join(" "))}o(new Ji(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:fo,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw mo.create("invalid-log-argument");!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=ao[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:ro[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=oo;r<i.length;r++)n(i[r])}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e)},apps:null,SDK_VERSION:"8.6.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function i(t){if(!Hi(e,t=t||"[DEFAULT]"))throw mo.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return yo.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var a=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[s])throw mo.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&Pi(a,o.serviceProps),r[s]=a,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,s);return n.apply(this,o.multipleInstances?t:[])}}for(var u=0,c=Object.keys(e);u<c.length;u++){var l=c[u];e[l]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _o=function t(){var e=wo(bo);return e.INTERNAL=Ni(Ni({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Pi(e,t)},createSubscribe:Wi,ErrorFactory:Ki,deepExtend:Pi}),e}(),Io=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if("object"==typeof self&&self.self===self&&void 0!==self.firebase){yo.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var To=self.firebase.SDK_VERSION;To&&To.indexOf("LITE")>=0&&yo.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Eo=_o.initializeApp;_o.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Fi()&&yo.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Eo.apply(void 0,t)};var So,ko,No=_o;(So=No).INTERNAL.registerComponent(new Ji("platform-logger",(function(t){return new Io(t)}),"PRIVATE")),So.registerVersion("@firebase/app","0.6.22",ko),So.registerVersion("fire-js","");function Ao(t){return Array.prototype.slice.call(t)}function Do(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function Oo(t,e,n){var r,i=new Promise((function(i,o){Do(r=t[e].apply(t,n)).then(i,o)}));return i.request=r,i}function Co(t,e,n){var r=Oo(t,e,n);return r.then((function(t){if(t)return new Fo(t,r.request)}))}function xo(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function Ro(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return Oo(this[e],r,arguments)})}))}function Po(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function Mo(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return Co(this[e],r,arguments)})}))}function Lo(t){this._index=t}function Fo(t,e){this._cursor=t,this._request=e}function Vo(t){this._store=t}function Uo(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function jo(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new Uo(n)}function qo(t){this._db=t}function Bo(t,e,n){var r=Oo(indexedDB,"open",[t,e]),i=r.request;return i&&(i.onupgradeneeded=function(t){n&&n(new jo(i.result,t.oldVersion,i.transaction))}),r.then((function(t){return new qo(t)}))}function Ko(t){return Oo(indexedDB,"deleteDatabase",[t])}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
No.registerVersion("firebase","8.6.2","app"),xo(Lo,"_index",["name","keyPath","multiEntry","unique"]),Ro(Lo,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Mo(Lo,"_index",IDBIndex,["openCursor","openKeyCursor"]),xo(Fo,"_cursor",["direction","key","primaryKey","value"]),Ro(Fo,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(Fo.prototype[t]=function(){var e=this,n=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,n),Do(e._request).then((function(t){if(t)return new Fo(t,e._request)}))}))})})),Vo.prototype.createIndex=function(){return new Lo(this._store.createIndex.apply(this._store,arguments))},Vo.prototype.index=function(){return new Lo(this._store.index.apply(this._store,arguments))},xo(Vo,"_store",["name","keyPath","indexNames","autoIncrement"]),Ro(Vo,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Mo(Vo,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),Po(Vo,"_store",IDBObjectStore,["deleteIndex"]),Uo.prototype.objectStore=function(){return new Vo(this._tx.objectStore.apply(this._tx,arguments))},xo(Uo,"_tx",["objectStoreNames","mode"]),Po(Uo,"_tx",IDBTransaction,["abort"]),jo.prototype.createObjectStore=function(){return new Vo(this._db.createObjectStore.apply(this._db,arguments))},xo(jo,"_db",["name","version","objectStoreNames"]),Po(jo,"_db",IDBDatabase,["deleteObjectStore","close"]),qo.prototype.transaction=function(){return new Uo(this._db.transaction.apply(this._db,arguments))},xo(qo,"_db",["name","version","objectStoreNames"]),Po(qo,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[Vo,Lo].forEach((function(e){t in e.prototype&&(e.prototype[t.replace("open","iterate")]=function(){var e=Ao(arguments),n=e[e.length-1],r=this._store||this._index,i=r[t].apply(r,e.slice(0,-1));i.onsuccess=function(){n(i.result)}})}))})),[Lo,Vo].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(i){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)}))}))})}));var Go,Yo=((Go={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Go["not-registered"]="Firebase Installation is not registered.",Go["installation-not-found"]="Firebase Installation not found.",Go["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Go["app-offline"]="Could not process request. Application offline.",Go["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Go),Ho=new Ki("installations","Installations",Yo);function Wo(t){return t instanceof Bi&&t.code.includes("request-failed")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function Qo(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function $o(t,e){return Ai(this,void 0,void 0,(function(){var n,r;return Di(this,(function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,Ho.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function Xo(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function Jo(t,e){var n=e.refreshToken,r=Xo(t);return r.append("Authorization",function(t){return"FIS_v2 "+t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n)),r}function Zo(t){return Ai(this,void 0,void 0,(function(){var e;return Di(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}}))}))}function ts(t,e){var n=e.fid;return Ai(this,void 0,void 0,(function(){var e,r,i,o,s,a;return Di(this,(function(u){switch(u.label){case 0:return e=zo(t),r=Xo(t),i={fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:"w:0.4.26"},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,Zo((function(){return fetch(e,o)}))];case 1:return(s=u.sent()).ok?[4,s.json()]:[3,3];case 2:return a=u.sent(),[2,{fid:a.fid||n,registrationStatus:2,refreshToken:a.refreshToken,authToken:Qo(a.authToken)}];case 3:return[4,$o("Create Installation",s)];case 4:throw u.sent()}}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(t){return new Promise((function(e){setTimeout(e,t)}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ns=/^[cdef][\w-]{21}$/;function rs(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,xi([],Ci(e)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t);return ns.test(e)?e:""}catch(n){return""}}function is(t){return t.appName+"!"+t.appId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var os=new Map;function ss(t,e){var n=is(t);as(n,e),function(t,e){var n=cs();n&&n.postMessage({key:t,fid:e});ls()}(n,e)}function as(t,e){var n,r,i=os.get(t);if(i)try{for(var o=Oi(i),s=o.next();!s.done;s=o.next()){(0,s.value)(e)}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var us=null;function cs(){return!us&&"BroadcastChannel"in self&&((us=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){as(t.data.key,t.data.fid)}),us}function ls(){0===os.size&&us&&(us.close(),us=null)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hs,fs="firebase-installations-store",ds=null;function ps(){return ds||(ds=Bo("firebase-installations-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(fs)}}))),ds}function vs(t,e){return Ai(this,void 0,void 0,(function(){var n,r,i,o,s;return Di(this,(function(a){switch(a.label){case 0:return n=is(t),[4,ps()];case 1:return r=a.sent(),i=r.transaction(fs,"readwrite"),[4,(o=i.objectStore(fs)).get(n)];case 2:return s=a.sent(),[4,o.put(e,n)];case 3:return a.sent(),[4,i.complete];case 4:return a.sent(),s&&s.fid===e.fid||ss(t,e.fid),[2,e]}}))}))}function ms(t){return Ai(this,void 0,void 0,(function(){var e,n,r;return Di(this,(function(i){switch(i.label){case 0:return e=is(t),[4,ps()];case 1:return n=i.sent(),[4,(r=n.transaction(fs,"readwrite")).objectStore(fs).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function gs(t,e){return Ai(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Di(this,(function(u){switch(u.label){case 0:return n=is(t),[4,ps()];case 1:return r=u.sent(),i=r.transaction(fs,"readwrite"),[4,(o=i.objectStore(fs)).get(n)];case 2:return s=u.sent(),void 0!==(a=e(s))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(a,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!a||s&&s.fid===a.fid||ss(t,a.fid),[2,a]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(t){return Ai(this,void 0,void 0,(function(){var e,n,r;return Di(this,(function(i){switch(i.label){case 0:return[4,gs(t,(function(n){var r=function(t){return _s(t||{fid:rs(),registrationStatus:0})}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Ho.create("app-offline"))};var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return Ai(this,void 0,void 0,(function(){var n,r;return Di(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,ts(t,e)];case 1:return n=i.sent(),[2,vs(t,n)];case 2:return Wo(r=i.sent())&&409===r.customData.serverCode?[4,ms(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,vs(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:bs(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function bs(t){return Ai(this,void 0,void 0,(function(){var e,n,r,i;return Di(this,(function(o){switch(o.label){case 0:return[4,ws(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,es(100)];case 3:return o.sent(),[4,ws(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,ys(t)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,e]}}))}))}function ws(t){return gs(t,(function(t){if(!t)throw Ho.create("installation-not-found");return _s(t)}))}function _s(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}function Is(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return Ai(this,void 0,void 0,(function(){var t,i,o,s,a,u,c;return Di(this,(function(l){switch(l.label){case 0:return t=function(t,e){var n=e.fid;return zo(t)+"/"+n+"/authTokens:generate"}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n,e),i=Jo(n,e),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),s={installation:{sdkVersion:"w:0.4.26"}},a={method:"POST",headers:i,body:JSON.stringify(s)},[4,Zo((function(){return fetch(t,a)}))];case 1:return(u=l.sent()).ok?[4,u.json()]:[3,3];case 2:return c=l.sent(),[2,Qo(c)];case 3:return[4,$o("Generate Auth Token",u)];case 4:throw l.sent()}}))}))}function Ts(t,e){return void 0===e&&(e=!1),Ai(this,void 0,void 0,(function(){var n,r,i;return Di(this,(function(o){switch(o.label){case 0:return[4,gs(t.appConfig,(function(r){if(!Ss(r))throw Ho.create("not-registered");var i=r.authToken;if(!e&&function(t){return 2===t.requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}(i))return r;if(1===i.requestStatus)return n=function(t,e){return Ai(this,void 0,void 0,(function(){var n,r;return Di(this,(function(i){switch(i.label){case 0:return[4,Es(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,es(100)];case 3:return i.sent(),[4,Es(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,Ts(t,e)]:[2,r]}}))}))}(t,e),r;if(!navigator.onLine)throw Ho.create("app-offline");var o=function(t){var e={requestStatus:1,requestTime:Date.now()};return Ni(Ni({},t),{authToken:e})}(r);return n=function(t,e){return Ai(this,void 0,void 0,(function(){var n,r,i;return Di(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,Is(t,e)];case 1:return n=o.sent(),i=Ni(Ni({},e),{authToken:n}),[4,vs(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!Wo(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,ms(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=Ni(Ni({},e),{authToken:{requestStatus:0}}),[4,vs(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(t,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function Es(t){return gs(t,(function(t){if(!Ss(t))throw Ho.create("not-registered");var e,n=t.authToken;return 1===(e=n).requestStatus&&e.requestTime+1e4<Date.now()?Ni(Ni({},t),{authToken:{requestStatus:0}}):t}))}function Ss(t){return void 0!==t&&2===t.registrationStatus}function ks(t){return Ai(this,void 0,void 0,(function(){var e;return Di(this,(function(n){switch(n.label){case 0:return[4,ys(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(t,e){return Ai(this,void 0,void 0,(function(){var n,r,i,o;return Di(this,(function(s){switch(s.label){case 0:return n=function(t,e){var n=e.fid;return zo(t)+"/"+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e),r=Jo(t,e),i={method:"DELETE",headers:r},[4,Zo((function(){return fetch(n,i)}))];case 1:return(o=s.sent()).ok?[3,3]:[4,$o("Delete Installation",o)];case 2:throw s.sent();case 3:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function As(t,e){var n=t.appConfig;return function(t,e){cs();var n=is(t),r=os.get(n);r||(r=new Set,os.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=is(t),r=os.get(n);r&&(r.delete(e),0===r.size&&os.delete(n),ls())}(n,e)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(t){return Ho.create("missing-app-config-values",{valueName:t})}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(hs=No).INTERNAL.registerComponent(new Ji("installations",(function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw Ds("App Configuration");if(!t.name)throw Ds("App Name");try{for(var r=Oi(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw Ds(o)}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return function(t){return Ai(this,void 0,void 0,(function(){var e,n,r;return Di(this,(function(i){switch(i.label){case 0:return[4,ys(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):Ts(t).catch(console.error),[2,n.fid]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),Ai(this,void 0,void 0,(function(){return Di(this,(function(n){switch(n.label){case 0:return[4,ks(t.appConfig)];case 1:return n.sent(),[4,Ts(t,e)];case 2:return[2,n.sent().token]}}))}))}(n,t)},delete:function(){return function(t){return Ai(this,void 0,void 0,(function(){var e,n;return Di(this,(function(r){switch(r.label){case 0:return[4,gs(e=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw Ho.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw Ho.create("app-offline");case 3:return[4,Ns(e,n)];case 4:return r.sent(),[4,ms(e)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(t){return As(n,t)}}}),"PUBLIC")),hs.registerVersion("@firebase/installations","0.4.26");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Os,Cs,xs,Rs,Ps="https://www.googletagmanager.com/gtag/js";(Cs=Os||(Os={})).EVENT="event",Cs.SET="set",Cs.CONFIG="config",(Rs=xs||(xs={})).ADD_SHIPPING_INFO="add_shipping_info",Rs.ADD_PAYMENT_INFO="add_payment_info",Rs.ADD_TO_CART="add_to_cart",Rs.ADD_TO_WISHLIST="add_to_wishlist",Rs.BEGIN_CHECKOUT="begin_checkout",Rs.CHECKOUT_PROGRESS="checkout_progress",Rs.EXCEPTION="exception",Rs.GENERATE_LEAD="generate_lead",Rs.LOGIN="login",Rs.PAGE_VIEW="page_view",Rs.PURCHASE="purchase",Rs.REFUND="refund",Rs.REMOVE_FROM_CART="remove_from_cart",Rs.SCREEN_VIEW="screen_view",Rs.SEARCH="search",Rs.SELECT_CONTENT="select_content",Rs.SELECT_ITEM="select_item",Rs.SELECT_PROMOTION="select_promotion",Rs.SET_CHECKOUT_OPTION="set_checkout_option",Rs.SHARE="share",Rs.SIGN_UP="sign_up",Rs.TIMING_COMPLETE="timing_complete",Rs.VIEW_CART="view_cart",Rs.VIEW_ITEM="view_item",Rs.VIEW_ITEM_LIST="view_item_list",Rs.VIEW_PROMOTION="view_promotion",Rs.VIEW_SEARCH_RESULTS="view_search_results";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ms,Ls=new ho("@firebase/analytics");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(t,e,n,r,i,o){return Ai(this,void 0,void 0,(function(){var s,a,u,c;return Di(this,(function(l){switch(l.label){case 0:s=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),s?[4,e[s]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return a=l.sent(),(u=a.find((function(t){return t.measurementId===i})))?[4,e[u.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return c=l.sent(),Ls.error(c),[3,8];case 8:return t(Os.CONFIG,i,o),[2]}}))}))}function Vs(t,e,n,r,i){return Ai(this,void 0,void 0,(function(){var o,s,a,u,c,l,h,f;return Di(this,(function(d){switch(d.label){case 0:return d.trys.push([0,4,,5]),o=[],i&&i.send_to?(s=i.send_to,Array.isArray(s)||(s=[s]),[4,Promise.all(n)]):[3,2];case 1:for(a=d.sent(),u=function(t){var n=a.find((function(e){return e.measurementId===t})),r=n&&e[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,l=s;c<l.length&&(h=l[c],"break"!==u(h));c++);d.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return d.sent(),t(Os.EVENT,r,i||{}),[3,5];case 4:return f=d.sent(),Ls.error(f),[3,5];case 5:return[2]}}))}))}function Us(t,e,n,r,i){var o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(t,e,n,r){return function(i,o,s){return Ai(this,void 0,void 0,(function(){var a;return Di(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==Os.EVENT?[3,2]:[4,Vs(t,e,n,o,s)];case 1:return u.sent(),[3,5];case 2:return i!==Os.CONFIG?[3,4]:[4,Fs(t,e,n,r,o,s)];case 3:return u.sent(),[3,5];case 4:t(Os.SET,o),u.label=5;case 5:return[3,7];case 6:return a=u.sent(),Ls.error(a),[3,7];case 7:return[2]}}))}))}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}var js=((Ms={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Ms["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Ms["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Ms["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Ms["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Ms["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Ms["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Ms["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Ms["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',Ms),qs=new Ki("analytics","Analytics",js),Bs=new(function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}());function Ks(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function Gs(t){var e;return Ai(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Di(this,(function(c){switch(c.label){case 0:return n=t.appId,r=t.apiKey,i={method:"GET",headers:Ks(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(s=c.sent()).status||304===s.status)return[3,6];a="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,s.json()];case 3:return u=c.sent(),(null===(e=u.error)||void 0===e?void 0:e.message)&&(a=u.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw qs.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a});case 6:return[2,s.json()]}}))}))}function Ys(t,e,n,r){var i=e.throttleEndTimeMillis,o=e.backoffCount;return void 0===r&&(r=Bs),Ai(this,void 0,void 0,(function(){var e,s,a,u,c,l,h;return Di(this,(function(f){switch(f.label){case 0:e=t.appId,s=t.measurementId,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,Hs(n,i)];case 2:return f.sent(),[3,4];case 3:if(a=f.sent(),s)return Ls.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+a.message+"]"),[2,{appId:e,measurementId:s}];throw a;case 4:return f.trys.push([4,6,,7]),[4,Gs(t)];case 5:return u=f.sent(),r.deleteThrottleMetadata(e),[2,u];case 6:if(!function(t){if(!(t instanceof Bi&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c=f.sent())){if(r.deleteThrottleMetadata(e),s)return Ls.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:e,measurementId:s}];throw c}return l=503===Number(c.customData.httpStatus)?$i(o,r.intervalMillis,30):$i(o,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1},r.setThrottleMetadata(e,h),Ls.debug("Calling attemptFetch again in "+l+" millis"),[2,Ys(t,h,n,r)];case 7:return[2]}}))}))}function Hs(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(qs.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var Ws=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(t,e,n,r,i,o){return Ai(this,void 0,void 0,(function(){var s,a,u,c,l,h,f;return Di(this,(function(d){switch(d.label){case 0:return(s=function(t,e,n){return void 0===e&&(e=Bs),Ai(this,void 0,void 0,(function(){var r,i,o,s,a,u,c=this;return Di(this,(function(l){if(r=t.options,i=r.appId,o=r.apiKey,s=r.measurementId,!i)throw qs.create("no-app-id");if(!o){if(s)return[2,{measurementId:s,appId:i}];throw qs.create("no-api-key")}return a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new Ws,setTimeout((function(){return Ai(c,void 0,void 0,(function(){return Di(this,(function(t){return u.abort(),[2]}))}))}),void 0!==n?n:6e4),[2,Ys({appId:i,apiKey:o,measurementId:s},a,u,e)]}))}))}(t)).then((function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&Ls.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(t){return Ls.error(t)})),e.push(s),a=function(){return Ai(this,void 0,void 0,(function(){var t;return Di(this,(function(e){switch(e.label){case 0:return Ui()?[3,1]:(Ls.warn(qs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,ji()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),Ls.warn(qs.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(t){return t?r.getId():void 0})),[4,Promise.all([s,a])];case 1:return u=d.sent(),c=u[0],l=u[1],function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(Ps))return r}return null}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */()||function(t,e){var n=document.createElement("script");n.src=Ps+"?l="+t+"&id="+e,n.async=!0,document.head.appendChild(n)}(o,c.measurementId),i("js",new Date),(f={}).origin="firebase",f.update=!0,h=f,null!=l&&(h.firebase_id=l),i(Os.CONFIG,c.measurementId,h),[2,c.measurementId]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qs,$s,Xs={},Js=[],Zs={},ta="dataLayer",ea="gtag",na=!1;function ra(t){if(na)throw qs.create("already-initialized");t.dataLayerName&&(ta=t.dataLayerName),t.gtagName&&(ea=t.gtagName)}function ia(t,e){!function(){var t=[];if(Vi()&&t.push("This is a browser extension environment."),qi()||t.push("Cookies are not available."),t.length>0){var e=t.map((function(t,e){return"("+(e+1)+") "+t})).join(" "),n=qs.create("invalid-analytics-context",{errorInfo:e});Ls.warn(n.message)}}();var n,r,i=t.options.appId;if(!i)throw qs.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw qs.create("no-api-key");Ls.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Xs[i])throw qs.create("already-exists",{id:i});if(!na){n=ta,r=[],Array.isArray(window[n])?r=window[n]:window[n]=r;var o=Us(Xs,Js,Zs,ta,ea),s=o.wrappedGtag,a=o.gtagCore;$s=s,Qs=a,na=!0}return Xs[i]=zs(t,Js,Zs,e,Qs,ta),{app:t,logEvent:function(t,e,n){(
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t,e,n,r,i){return Ai(this,void 0,void 0,(function(){var o,s;return Di(this,(function(a){switch(a.label){case 0:return i&&i.global?(t(Os.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=a.sent(),s=Ni(Ni({},r),{send_to:o}),t(Os.EVENT,n,s),a.label=3;case 3:return[2]}}))}))})($s,Xs[i],t,e,n).catch((function(t){return Ls.error(t)}))},setCurrentScreen:function(t,e){(function(t,e,n,r){return Ai(this,void 0,void 0,(function(){var i;return Di(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(Os.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(Os.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})($s,Xs[i],t,e).catch((function(t){return Ls.error(t)}))},setUserId:function(t,e){(function(t,e,n,r){return Ai(this,void 0,void 0,(function(){var i;return Di(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(Os.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(Os.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})($s,Xs[i],t,e).catch((function(t){return Ls.error(t)}))},setUserProperties:function(t,e){(function(t,e,n,r){return Ai(this,void 0,void 0,(function(){var i,o,s,a,u;return Di(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,s=Object.keys(n);o<s.length;o++)a=s[o],i["user_properties."+a]=n[a];return t(Os.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:u=c.sent(),t(Os.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})($s,Xs[i],t,e).catch((function(t){return Ls.error(t)}))},setAnalyticsCollectionEnabled:function(t){(function(t,e){return Ai(this,void 0,void 0,(function(){var n;return Di(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}}))}))})(Xs[i],t).catch((function(t){return Ls.error(t)}))},INTERNAL:{delete:function(){return delete Xs[i],Promise.resolve()}}}}var oa;function sa(){return Ai(this,void 0,void 0,(function(){return Di(this,(function(t){switch(t.label){case 0:if(Vi())return[2,!1];if(!qi())return[2,!1];if(!Ui())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,ji()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}}))}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){t.INTERNAL.registerComponent(new Ji("analytics",(function(t){return ia(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:ra,EventName:xs,isSupported:sa})),t.INTERNAL.registerComponent(new Ji("analytics-internal",(function(t){try{return{logEvent:t.getProvider("analytics").getImmediate().logEvent}}catch($_){throw qs.create("interop-component-reg-failed",{reason:$_})}}),"PRIVATE")),t.registerVersion("@firebase/analytics","0.6.10")}(No);var aa,ua,ca=((oa={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',oa["only-available-in-window"]="This method is available in a Window context.",oa["only-available-in-sw"]="This method is available in a service worker context.",oa["permission-default"]="The notification permission was not granted and dismissed instead.",oa["permission-blocked"]="The notification permission was not granted and blocked instead.",oa["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",oa["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",oa["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",oa["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",oa["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",oa["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",oa["token-update-no-token"]="FCM returned no token when updating the user to push.",oa["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",oa["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",oa["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",oa["invalid-vapid-key"]="The public VAPID key must be a string.",oa["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",oa),la=new Ki("messaging","Messaging",ca),ha="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function fa(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,xi([],Ci(e)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function da(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(ua=aa||(aa={})).PUSH_RECEIVED="push-received",ua.NOTIFICATION_CLICKED="notification-clicked";function pa(t){return Ai(this,void 0,void 0,(function(){var e,n,r=this;return Di(this,(function(i){switch(i.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(e=i.sent(),!e.map((function(t){return t.name})).includes("fcm_token_details_db"))return[2,null];i.label=2;case 2:return n=null,[4,Bo("fcm_token_details_db",5,(function(e){return Ai(r,void 0,void 0,(function(){var r,i,o,s;return Di(this,(function(a){switch(a.label){case 0:return e.oldVersion<2?[2]:e.objectStoreNames.contains("fcm_token_object_Store")?[4,(r=e.transaction.objectStore("fcm_token_object_Store")).index("fcmSenderId").get(t)]:[2];case 1:return i=a.sent(),[4,r.clear()];case 2:if(a.sent(),!i)return[2];if(2===e.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];n={token:o.fcmToken,createTime:null!==(s=o.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"==typeof o.vapidKey?o.vapidKey:fa(o.vapidKey)}}}else(3===e.oldVersion||4===e.oldVersion)&&(n={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:fa(o.auth),p256dh:fa(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:fa(o.vapidKey)}});return[2]}}))}))}))];case 3:return i.sent().close(),[4,Ko("fcm_token_details_db")];case 4:return i.sent(),[4,Ko("fcm_vapid_details_db")];case 5:return i.sent(),[4,Ko("undefined")];case 6:return i.sent(),[2,va(n)?n:null]}}))}))}function va(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ma="firebase-messaging-store",ga=null;function ya(){return ga||(ga=Bo("firebase-messaging-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(ma)}}))),ga}function ba(t){return Ai(this,void 0,void 0,(function(){var e,n,r;return Di(this,(function(i){switch(i.label){case 0:return e=Ia(t),[4,ya()];case 1:return[4,i.sent().transaction(ma).objectStore(ma).get(e)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,pa(t.appConfig.senderId)];case 4:return(r=i.sent())?[4,wa(t,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function wa(t,e){return Ai(this,void 0,void 0,(function(){var n,r,i;return Di(this,(function(o){switch(o.label){case 0:return n=Ia(t),[4,ya()];case 1:return r=o.sent(),[4,(i=r.transaction(ma,"readwrite")).objectStore(ma).put(e,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}}))}))}function _a(t){return Ai(this,void 0,void 0,(function(){var e,n,r;return Di(this,(function(i){switch(i.label){case 0:return e=Ia(t),[4,ya()];case 1:return n=i.sent(),[4,(r=n.transaction(ma,"readwrite")).objectStore(ma).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function Ia(t){return t.appConfig.appId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ta(t,e){return Ai(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Di(this,(function(u){switch(u.label){case 0:return[4,Na(t)];case 1:n=u.sent(),r=Aa(e),i={method:"POST",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(ka(t.appConfig),i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw s=u.sent(),la.create("token-subscribe-failed",{errorInfo:s});case 6:if(o.error)throw a=o.error.message,la.create("token-subscribe-failed",{errorInfo:a});if(!o.token)throw la.create("token-subscribe-no-token");return[2,o.token]}}))}))}function Ea(t,e){return Ai(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Di(this,(function(u){switch(u.label){case 0:return[4,Na(t)];case 1:n=u.sent(),r=Aa(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(ka(t.appConfig)+"/"+e.token,i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw s=u.sent(),la.create("token-update-failed",{errorInfo:s});case 6:if(o.error)throw a=o.error.message,la.create("token-update-failed",{errorInfo:a});if(!o.token)throw la.create("token-update-no-token");return[2,o.token]}}))}))}function Sa(t,e){return Ai(this,void 0,void 0,(function(){var n,r,i,o,s;return Di(this,(function(a){switch(a.label){case 0:return[4,Na(t)];case 1:n=a.sent(),r={method:"DELETE",headers:n},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(ka(t.appConfig)+"/"+e,r)];case 3:return[4,a.sent().json()];case 4:if((i=a.sent()).error)throw o=i.error.message,la.create("token-unsubscribe-failed",{errorInfo:o});return[3,6];case 5:throw s=a.sent(),la.create("token-unsubscribe-failed",{errorInfo:s});case 6:return[2]}}))}))}function ka(t){return"https://fcmregistrations.googleapis.com/v1/projects/"+t.projectId+"/registrations"}function Na(t){var e=t.appConfig,n=t.installations;return Ai(this,void 0,void 0,(function(){var t;return Di(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return t=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}}))}))}function Aa(t){var e=t.p256dh,n=t.auth,r=t.endpoint,i=t.vapidKey,o={web:{endpoint:r,auth:n,p256dh:e}};return i!==ha&&(o.web.applicationPubKey=i),o}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Da(t,e,n){return Ai(this,void 0,void 0,(function(){var r,i,o,s;return Di(this,(function(a){switch(a.label){case 0:if("granted"!==Notification.permission)throw la.create("permission-blocked");return[4,Ra(e,n)];case 1:return r=a.sent(),[4,ba(t)];case 2:return i=a.sent(),o={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:fa(r.getKey("auth")),p256dh:fa(r.getKey("p256dh"))},i?[3,3]:[2,xa(t,o)];case 3:if(u=i.subscriptionOptions,l=(c=o).vapidKey===u.vapidKey,h=c.endpoint===u.endpoint,f=c.auth===u.auth,d=c.p256dh===u.p256dh,l&&h&&f&&d)return[3,8];a.label=4;case 4:return a.trys.push([4,6,,7]),[4,Sa(t,i.token)];case 5:return a.sent(),[3,7];case 6:return s=a.sent(),console.warn(s),[3,7];case 7:return[2,xa(t,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,Ca({token:i.token,createTime:Date.now(),subscriptionOptions:o},t,e)]:[2,i.token];case 9:return[2]}var u,c,l,h,f,d;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}))}))}function Oa(t,e){return Ai(this,void 0,void 0,(function(){var n,r;return Di(this,(function(i){switch(i.label){case 0:return[4,ba(t)];case 1:return(n=i.sent())?[4,Sa(t,n.token)]:[3,4];case 2:return i.sent(),[4,_a(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function Ca(t,e,n){return Ai(this,void 0,void 0,(function(){var r,i,o;return Di(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,5]),[4,Ea(e,t)];case 1:return r=s.sent(),i=Ni(Ni({},t),{token:r,createTime:Date.now()}),[4,wa(e,i)];case 2:return s.sent(),[2,r];case 3:return o=s.sent(),[4,Oa(e,n)];case 4:throw s.sent(),o;case 5:return[2]}}))}))}function xa(t,e){return Ai(this,void 0,void 0,(function(){var n,r;return Di(this,(function(i){switch(i.label){case 0:return[4,Ta(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,wa(t,r)];case 2:return i.sent(),[2,r.token]}}))}))}function Ra(t,e){return Ai(this,void 0,void 0,(function(){var n;return Di(this,(function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:da(e)})]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Pa(t){return"object"==typeof t&&!!t&&"google.c.a.c_id"in t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(t){return new Promise((function(e){setTimeout(e,t)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var La=function(){function t(t){var e=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(t){t.waitUntil(e.onPush(t))})),self.addEventListener("pushsubscriptionchange",(function(t){t.waitUntil(e.onSubChange(t))})),self.addEventListener("notificationclick",(function(t){t.waitUntil(e.onNotificationClick(t))}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||"function"!=typeof t)throw la.create("invalid-bg-handler");this.bgMessageHandler=t},t.prototype.onBackgroundMessage=function(t){var e=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){e.bgMessageHandler=null}},t.prototype.getToken=function(){var t,e;return Ai(this,void 0,void 0,(function(){var n;return Di(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,ba(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(e=null===(t=null==n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==e?e:ha,r.label=2;case 2:return[2,Da(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},t.prototype.deleteToken=function(){return Oa(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw la.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw la.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw la.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(){throw la.create("only-available-in-window")},t.prototype.onMessage=function(){throw la.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw la.create("only-available-in-window")},t.prototype.onPush=function(t){return Ai(this,void 0,void 0,(function(){var e,n,r,i;return Di(this,(function(o){switch(o.label){case 0:return(e=function(t){var e=t.data;if(!e)return null;try{return e.json()}catch(n){return null}}(t))?[4,ja()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(t){return t.some((function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")}))}(n=o.sent())?[2,Ua(n,e)]:(r=!1,e.notification?[4,qa(Fa(e))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(t){var e={from:t.from,collapseKey:t.collapse_key};return function(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}}(e,t),function(t,e){e.data&&(t.data=e.data)}(e,t),function(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}(e,t),e}(e),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,Ma(1e3)]);case 4:return o.sent(),[2]}}))}))},t.prototype.onSubChange=function(t){var e,n;return Ai(this,void 0,void 0,(function(){var r;return Di(this,(function(i){switch(i.label){case 0:return t.newSubscription?[3,2]:[4,Oa(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,ba(this.firebaseDependencies)];case 3:return r=i.sent(),[4,Oa(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,Da(this.firebaseDependencies,self.registration,null!==(n=null===(e=null==r?void 0:r.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:ha)];case 5:return i.sent(),[2]}}))}))},t.prototype.onNotificationClick=function(t){var e,n;return Ai(this,void 0,void 0,(function(){var r,i,o,s,a;return Di(this,(function(u){switch(u.label){case 0:return(r=null===(n=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===n?void 0:n.FCM_MSG)?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(i=function(t){var e,n,r,i=null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(r=t.notification)||void 0===r?void 0:r.click_action;if(i)return i;return Pa(t.data)?self.location.origin:null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r))?(o=new URL(i,self.location.href),s=new URL(self.location.origin),o.host!==s.host?[2]:[4,Va(o)]):[2]):[2];case 1:return(a=u.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return a=u.sent(),[4,Ma(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,a.focus()];case 5:a=u.sent(),u.label=6;case 6:return a?(r.messageType=aa.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,a.postMessage(r)]):[2]}}))}))},t}();function Fa(t){var e,n=Ni({},t.notification);return n.data=((e={}).FCM_MSG=t,e),n}function Va(t){return Ai(this,void 0,void 0,(function(){var e,n,r,i,o,s,a;return Di(this,(function(u){switch(u.label){case 0:return[4,ja()];case 1:e=u.sent();try{for(n=Oi(e),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),t.host===o.host)return[2,i]}catch(c){s={error:c}}finally{try{r&&!r.done&&(a=n.return)&&a.call(n)}finally{if(s)throw s.error}}return[2,null]}}))}))}function Ua(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=aa.PUSH_RECEIVED;try{for(var i=Oi(t),o=i.next();!o.done;o=i.next()){o.value.postMessage(e)}}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function ja(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function qa(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(e=t.title)&&void 0!==e?e:"",t)}var Ba=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(t){return e.messageEventListener(t)}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(t){return Ai(this,void 0,void 0,(function(){var e,n;return Di(this,(function(r){switch(r.label){case 0:return(e=t.data).isFirebaseMessaging?(this.onMessageCallback&&e.messageType===aa.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(t){return delete t.messageType,delete t.isFirebaseMessaging,t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(Object.assign({},e))):this.onMessageCallback.next(Object.assign({},e))),Pa(n=e.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(e.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(t){return Ai(this,void 0,void 0,(function(){return Di(this,(function(e){switch(e.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:e.sent(),e.label=2;case 2:if("granted"!==Notification.permission)throw la.create("permission-blocked");return[4,this.updateVapidKey(null==t?void 0:t.vapidKey)];case 3:return e.sent(),[4,this.updateSwReg(null==t?void 0:t.serviceWorkerRegistration)];case 4:return e.sent(),[2,Da(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},t.prototype.updateVapidKey=function(t){return Ai(this,void 0,void 0,(function(){return Di(this,(function(e){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=ha),[2]}))}))},t.prototype.updateSwReg=function(t){return Ai(this,void 0,void 0,(function(){return Di(this,(function(e){switch(e.label){case 0:return t||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw la.create("invalid-sw-registration");return this.swRegistration=t,[2]}}))}))},t.prototype.registerDefaultSw=function(){return Ai(this,void 0,void 0,(function(){var t,e;return Di(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return t.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw e=n.sent(),la.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 3:return[2]}}))}))},t.prototype.deleteToken=function(){return Ai(this,void 0,void 0,(function(){return Di(this,(function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,Oa(this.firebaseDependencies,this.swRegistration)]}}))}))},t.prototype.requestPermission=function(){return Ai(this,void 0,void 0,(function(){var t;return Di(this,(function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw"denied"===t?la.create("permission-blocked"):la.create("permission-default")}}))}))},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw la.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw la.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw la.create("invalid-sw-registration");if(this.swRegistration)throw la.create("use-sw-after-get-token");this.swRegistration=t},t.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw la.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw la.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(t,e){return Ai(this,void 0,void 0,(function(){var n;return Di(this,(function(r){switch(r.label){case 0:return n=function(t){switch(t){case aa.NOTIFICATION_CLICKED:return"notification_open";case aa.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:e["google.c.a.c_id"],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},t}();function Ka(t){return la.create("missing-app-config-values",{valueName:t})}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ga={isSupported:Ya};function Ya(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}No.INTERNAL.registerComponent(new Ji("messaging",(function(t){var e=t.getProvider("app").getImmediate(),n={app:e,appConfig:function(t){var e,n;if(!t||!t.options)throw Ka("App Configuration Object");if(!t.name)throw Ka("App Name");var r=t.options;try{for(var i=Oi(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var s=o.value;if(!r[s])throw Ka(s)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(e),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!Ya())throw la.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new La(n):new Ba(n)}),"PUBLIC").setServiceProps(Ga)),function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var s=n.setTimeout;r.prototype.c=function(t){s(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new r;return e.prototype.s=function(t){var e=this.f();t.Qa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Qa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Qa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=i(t),s=r.next();!s.done;s=r.next())o(s.value).Qa(e,n)}))},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e((function(t,e){function i(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,o(r.value).Qa(i(s.length-1),e),r=n.next()}while(!r.done)}))},e}));var o=o||{},s=this||self,a=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&a.test(t)?t:""}function l(){}function h(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function f(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){return"function"==h(t)}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var v="closure_uid_"+(1e9*Math.random()>>>0),m=0;function g(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:y).apply(null,arguments)}function w(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function _(t,e){function n(){}n.prototype=e.prototype,t.ab=e.prototype,t.prototype=new n,t.prototype.constructor=t}function I(t){return t}function T(t,e,n){this.code=k+t,this.message=e||N[t]||"",this.a=n||null}function E(t){var e=t&&t.code;return e?new T(e.substring(k.length),t.message,t.serverResponse):null}_(T,Error),T.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},T.prototype.toJSON=function(){return this.w()};var S,k="auth/",N={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},A={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function D(t){for(var e in A)if(A[e].id===t)return{firebaseEndpoint:(t=A[e]).Ta,secureTokenEndpoint:t.Za,identityPlatformEndpoint:t.Wa};return null}function O(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function C(t){if(Error.captureStackTrace)Error.captureStackTrace(this,C);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function x(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");C.call(this,n+t[r])}function R(t,e){throw new x("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function P(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function M(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function L(){this.b=this.a=null}S=D("__EID__")?"__EID__":void 0,_(C,Error),C.prototype.name="CustomError",_(x,C),x.prototype.name="AssertionError",P.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var F=new P((function(){return new U}),(function(t){t.reset()}));function V(){var t=ge,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function U(){this.next=this.b=this.a=null}L.prototype.add=function(t,e){var n=F.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},U.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},U.prototype.reset=function(){this.next=this.b=this.a=null};var j=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},q=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var B=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},K=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},G=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function Y(t,e){return 0<=j(t,e)}function H(t,e){var n;return(n=0<=(e=j(t,e)))&&Array.prototype.splice.call(t,e,1),n}function W(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function z(t){return Array.prototype.concat.apply([],arguments)}function Q(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var $,X=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},J=/&/g,Z=/</g,tt=/>/g,et=/"/g,nt=/'/g,rt=/\x00/g,it=/[\x00&<>"']/;function ot(t,e){return-1!=t.indexOf(e)}function st(t,e){return t<e?-1:t>e?1:0}t:{var at=s.navigator;if(at){var ut=at.userAgent;if(ut){$=ut;break t}}$=""}function ct(t){return ot($,t)}function lt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ht(t){for(var e in t)return!1;return!0}function ft(t){var e,n={};for(e in t)n[e]=t[e];return n}var dt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<dt.length;o++)n=dt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function vt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break t}}catch(a){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(p(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(a){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;R("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function mt(t,e){this.a=t===wt&&e||"",this.b=bt}function gt(t){return t instanceof mt&&t.constructor===mt&&t.b===bt?t.a:(R("expected object of type Const, got '"+t+"'"),"type_error:Const")}mt.prototype.sa=!0,mt.prototype.ra=function(){return this.a},mt.prototype.toString=function(){return"Const{"+this.a+"}"};var yt,bt={},wt={};function _t(){if(void 0===yt){var t=null,e=s.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:I,createScript:I,createScriptURL:I})}catch(n){s.console&&s.console.error(n.message)}yt=t}else yt=t}return yt}function It(t,e){this.a=e===Nt?t:""}function Tt(t){return t instanceof It&&t.constructor===It?t.a:(R("expected object of type TrustedResourceUrl, got '"+t+"' of type "+h(t)),"type_error:TrustedResourceUrl")}function Et(t,e){var n=gt(t);if(!kt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=_t();return new It(t=e?e.createScriptURL(t):t,Nt)}(t=n.replace(St,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof mt?gt(t):encodeURIComponent(String(t))})))}It.prototype.sa=!0,It.prototype.ra=function(){return this.a.toString()},It.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var St=/%{(\w+)}/g,kt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Nt={};function At(t,e){this.a=e===Mt?t:""}function Dt(t){return t instanceof At&&t.constructor===At?t.a:(R("expected object of type SafeUrl, got '"+t+"' of type "+h(t)),"type_error:SafeUrl")}At.prototype.sa=!0,At.prototype.ra=function(){return this.a.toString()},At.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ot=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Ct=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,xt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Rt(t){if(t instanceof At)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),xt.test(t))t=new At(t,Mt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Ct);t=e&&Ot.test(e[1])?new At(t,Mt):null}return t}function Pt(t){return t instanceof At?t:(t="object"==typeof t&&t.sa?t.ra():String(t),xt.test(t)||(t="about:invalid#zClosurez"),new At(t,Mt))}var Mt={},Lt=new At("about:invalid#zClosurez",Mt);function Ft(t,e,n){this.a=n===Vt?t:""}Ft.prototype.sa=!0,Ft.prototype.ra=function(){return this.a.toString()},Ft.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Vt={};function Ut(t,e,n,r){return t=t instanceof At?t:Pt(t),e=e||s,n=n instanceof mt?gt(n):n||"",e.open(Dt(t),n,r,void 0)}function jt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function qt(t){return it.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(J,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(Z,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(tt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(et,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(nt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(rt,"&#0;"))),t}function Bt(t){return Bt[" "](t),t}Bt[" "]=l;var Kt,Gt,Yt=ct("Opera"),Ht=ct("Trident")||ct("MSIE"),Wt=ct("Edge"),zt=Wt||Ht,Qt=ct("Gecko")&&!(ot($.toLowerCase(),"webkit")&&!ct("Edge"))&&!(ct("Trident")||ct("MSIE"))&&!ct("Edge"),$t=ot($.toLowerCase(),"webkit")&&!ct("Edge");function Xt(){var t=s.document;return t?t.documentMode:void 0}t:{var Jt="",Zt=(Gt=$,Qt?/rv:([^\);]+)(\)|;)/.exec(Gt):Wt?/Edge\/([\d\.]+)/.exec(Gt):Ht?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Gt):$t?/WebKit\/(\S+)/.exec(Gt):Yt?/(?:Version)[ \/]?(\S+)/.exec(Gt):void 0);if(Zt&&(Jt=Zt?Zt[1]:""),Ht){var te=Xt();if(null!=te&&te>parseFloat(Jt)){Kt=String(te);break t}}Kt=Jt}var ee,ne={};function re(t){return function(t,e){var n=ne;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=X(String(Kt)).split("."),r=X(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=st(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||st(0==s[2].length,0==a[2].length)||st(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}if(s.document&&Ht){var ie=Xt();ee=ie||(parseInt(Kt,10)||void 0)}else ee=void 0;var oe=ee;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Gt){}var se=!Ht||9<=Number(oe);function ae(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ue(t,e){lt(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:he.hasOwnProperty(n)?t.setAttribute(he[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var ce,le,he={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function fe(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||p(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(p(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(d(o)){s="function"==typeof o.item;break t}}s=!1}q(s?Q(o):o,r)}}}function de(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function pe(t){s.setTimeout((function(){throw t}),0)}function ve(t,e){le||function(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);le=function(){t.then(ye)}}else le=function(){var t=ye;!d(s.setImmediate)||s.Window&&s.Window.prototype&&!ct("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(ce||(ce=function(){var t=s.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ct("Presto")&&(t=function(){var t=de(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=b((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ct("Trident")&&!ct("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Gb;n.Gb=null,t()}},function(t){r.next={Gb:t},r=r.next,e.port2.postMessage(0)}}return function(t){s.setTimeout(t,0)}}()),ce(t)):s.setImmediate(t)}}(),me||(le(),me=!0),ge.add(t,e)}var me=!1,ge=new L;function ye(){for(var t;t=V();){try{t.a.call(t.b)}catch(e){pe(e)}M(F,t)}me=!1}function be(t,e){if(this.a=we,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=l)try{var n=this;t.call(e,(function(t){Re(n,_e,t)}),(function(t){if(!(t instanceof je))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch($_){}Re(n,Ie,t)}))}catch(r){Re(this,Ie,r)}}var we=0,_e=2,Ie=3;function Te(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Te.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ee=new P((function(){return new Te}),(function(t){t.reset()}));function Se(t,e,n){var r=Ee.get();return r.g=t,r.b=e,r.f=n,r}function ke(t){if(t instanceof be)return t;var e=new be(l);return Re(e,_e,t),e}function Ne(t){return new be((function(e,n){n(t)}))}function Ae(t,e,n){Pe(t,e,n,null)||ve(w(e,t))}function De(t){return new be((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Ae(t[o],w(i,o,!0),w(i,o,!1));else e(r)}))}function Oe(t,e){if(t.a==we)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,s=n.b;s&&(s.c||(r++,s.a==t&&(i=s),!(i&&1<r)));s=s.next)i||(o=s);i&&(n.a==we&&1==r?Oe(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Le(n),Fe(n,i,Ie,e)))}t.c=null}else Re(t,Ie,e)}function Ce(t,e){t.b||t.a!=_e&&t.a!=Ie||Me(t),t.f?t.f.next=e:t.b=e,t.f=e}function xe(t,e,n,r){var i=Se(null,null,null);return i.a=new be((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(s){o(s)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof je?o(e):t(i)}catch(s){o(s)}}:o})),i.a.c=t,Ce(t,i),i.a}function Re(t,e,n){t.a==we&&(t===n&&(e=Ie,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Pe(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Me(t),e!=Ie||n instanceof je||function(t,e){t.g=!0,ve((function(){t.g&&Ue.call(null,e)}))}(t,n)))}function Pe(t,e,n,r){if(t instanceof be)return Ce(t,Se(e||l,n||null,r)),!0;if(O(t))return t.then(e,n,r),!0;if(p(t))try{var i=t.then;if(d(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}function s(t){a||(a=!0,n.call(i,t))}var a=!1;try{e.call(t,s,o)}catch(u){o(u)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Me(t){t.h||(t.h=!0,ve(t.gc,t))}function Le(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Fe(t,e,n,r){if(n==Ie&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ve(e,n,r);else try{e.c?e.g.call(e.f):Ve(e,n,r)}catch($_){Ue.call(null,$_)}M(Ee,e)}function Ve(t,e,n){e==_e?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}be.prototype.then=function(t,e,n){return xe(this,d(t)?t:null,d(e)?e:null,n)},be.prototype.$goog_Thenable=!0,(t=be.prototype).oa=function(t,e){return(t=Se(t,t,e)).c=!0,Ce(this,t),this},t.o=function(t,e){return xe(this,null,t,e)},t.cancel=function(t){if(this.a==we){var e=new je(t);ve((function(){Oe(this,e)}),this)}},t.$c=function(t){this.a=we,Re(this,_e,t)},t.ad=function(t){this.a=we,Re(this,Ie,t)},t.gc=function(){for(var t;t=Le(this);)Fe(this,t,this.a,this.i);this.h=!1};var Ue=pe;function je(t){C.call(this,t)}function qe(){this.xa=this.xa,this.pa=this.pa}_(je,C),je.prototype.name="cancel";var Be={};function Ke(t){if(!t.xa&&(t.xa=!0,t.Da(),0)){var e=function(t){return Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++m)}(t);delete Be[e]}}qe.prototype.xa=!1,qe.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Ge=Object.freeze||function(t){return t},Ye=!Ht||9<=Number(oe),He=Ht&&!re("9"),We=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",l,e),s.removeEventListener("test",l,e)}catch(n){}return t}();function ze(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Qe(t,e){if(ze.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Qt){t:{try{Bt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:$e[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}ze.prototype.preventDefault=function(){this.defaultPrevented=!0},_(Qe,ze);var $e=Ge({2:"touch",3:"pen",4:"mouse"});Qe.prototype.preventDefault=function(){Qe.ab.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,He)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Qe.prototype.g=function(){return this.a};var Xe="closure_listenable_"+(1e6*Math.random()|0),Je=0;function Ze(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Va=i,this.key=++Je,this.va=this.Pa=!1}function tn(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Va=null}function en(t){this.src=t,this.a={},this.b=0}function nn(t,e){var n=e.type;n in t.a&&H(t.a[n],e)&&(tn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function rn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Va==r)return i}return-1}en.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=rn(t,e,r,i);return-1<s?(e=t[s],n||(e.Pa=!1)):((e=new Ze(e,this.src,o,!!r,i)).Pa=n,t.push(e)),e};var on="closure_lm_"+(1e6*Math.random()|0),sn={};function an(t,e,n,r,i){if(r&&r.once)cn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)an(t,e[o],n,r,i);else n=yn(n),t&&t[Xe]?wn(t,e,n,p(r)?!!r.capture:!!r,i):un(t,e,n,!1,r,i)}function un(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=p(i)?!!i.capture:!!i,a=mn(t);if(a||(t[on]=a=new en(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=vn,e=Ye?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)We||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(fn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function cn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,r,i);else n=yn(n),t&&t[Xe]?_n(t,e,n,p(r)?!!r.capture:!!r,i):un(t,e,n,!0,r,i)}function ln(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)ln(t,e[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=yn(n),t&&t[Xe]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(n=rn(o=t.a[e],n,r,i))&&(tn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=mn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=rn(e,n,r,i)),(n=-1<t?e[t]:null)&&hn(n))}function hn(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[Xe])nn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(fn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=mn(e))?(nn(n,t),0==n.b&&(n.src=null,e[on]=null)):tn(t)}}}function fn(t){return t in sn?sn[t]:sn[t]="on"+t}function dn(t,e,n,r){var i=!0;if((t=mn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=pn(o,r),i=i&&!1!==o)}return i}function pn(t,e){var n=t.listener,r=t.Va||t.src;return t.Pa&&hn(t),n.call(r,e)}function vn(t,e){if(t.va)return!0;if(!Ye){if(!e)t:{e=["window","event"];for(var n=s,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Qe(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(a){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=dn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=dn(r[i],t,!1,e),n=n&&o}return n}return pn(t,new Qe(e,this))}function mn(t){return(t=t[on])instanceof en?t:null}var gn="__closure_events_fn_"+(1e9*Math.random()>>>0);function yn(t){return d(t)?t:(t[gn]||(t[gn]=function(e){return t.handleEvent(e)}),t[gn])}function bn(){qe.call(this),this.v=new en(this),this.ac=this,this.gb=null}function wn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function _n(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function In(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.va&&s.capture==n){var a=s.listener,u=s.Va||s.src;s.Pa&&nn(t.v,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function Tn(t,e,n){if(d(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function En(t){var e=null;return new be((function(n,r){-1==(e=Tn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw s.clearTimeout(e),t}))}function Sn(t){if(t.W&&"function"==typeof t.W)return t.W();if("string"==typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function kn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.W||"function"!=typeof t.W){if(f(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Nn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Nn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function An(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Dn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Dn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Dn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}_(bn,qe),bn.prototype[Xe]=!0,bn.prototype.addEventListener=function(t,e,n,r){an(this,t,e,n,r)},bn.prototype.removeEventListener=function(t,e,n,r){ln(this,t,e,n,r)},bn.prototype.dispatchEvent=function(t){var e,n=this.gb;if(n)for(e=[];n;n=n.gb)e.push(n);n=this.ac;var r=t.type||t;if("string"==typeof t)t=new ze(t,n);else if(t instanceof ze)t.target=t.target||n;else{var i=t;pt(t=new ze(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=In(s,r,!0,t)&&i}if(i=In(s=t.b=n,r,!0,t)&&i,i=In(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=In(s=t.b=e[o],r,!1,t)&&i;return i},bn.prototype.Da=function(){if(bn.ab.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)tn(n[r]);delete e.a[t],e.b--}}this.gb=null},(t=Nn.prototype).W=function(){An(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return An(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Dn(this.b,t)?this.b[t]:e},t.set=function(t,e){Dn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var On=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Cn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Cn?(this.i=void 0!==e?e:t.i,xn(this,t.c),this.l=t.l,this.a=t.a,Rn(this,t.g),this.f=t.f,Pn(this,Zn(t.b)),this.h=t.h):t&&(n=String(t).match(On))?(this.i=!!e,xn(this,n[1]||"",!0),this.l=Un(n[2]||""),this.a=Un(n[3]||"",!0),Rn(this,n[4]),this.f=Un(n[5]||"",!0),Pn(this,n[6]||"",!0),this.h=Un(n[7]||"")):(this.i=!!e,this.b=new Wn(null,this.i))}function xn(t,e,n){t.c=n?Un(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Rn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Pn(t,e,n){e instanceof Wn?(t.b=e,function(t,e){e&&!t.f&&(zn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&($n(this,e),Jn(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=jn(e,Yn)),t.b=new Wn(e,t.i))}function Mn(t,e,n){t.b.set(e,n)}function Ln(t,e){return t.b.get(e)}function Fn(t){return t instanceof Cn?new Cn(t):new Cn(t,void 0)}function Vn(t,e,n,r){var i=new Cn(null,void 0);return t&&xn(i,t),e&&(i.a=e),n&&Rn(i,n),r&&(i.f=r),i}function Un(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function jn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,qn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function qn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Cn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(jn(e,Bn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(jn(e,Bn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(jn(n,"/"==n.charAt(0)?Gn:Kn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",jn(n,Hn)),t.join("")},Cn.prototype.resolve=function(t){var e=new Cn(this),n=!!t.c;n?xn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Rn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ot(i,"./")||ot(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Pn(e,Zn(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Bn=/[#\/\?@]/g,Kn=/[#\?:]/g,Gn=/[#\?]/g,Yn=/[#\?@]/g,Hn=/#/g;function Wn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function zn(t){t.a||(t.a=new Nn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Qn(t){var e=kn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Wn(null,void 0);t=Sn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Jn(n,i,o):n.add(i,o)}return n}function $n(t,e){zn(t),e=tr(t,e),Dn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Dn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&An(t)))}function Xn(t,e){return zn(t),e=tr(t,e),Dn(t.a.b,e)}function Jn(t,e,n){$n(t,e),0<n.length&&(t.c=null,t.a.set(tr(t,e),Q(n)),t.b+=n.length)}function Zn(t){var e=new Wn;return e.c=t.c,t.a&&(e.a=new Nn(t.a),e.b=t.b),e}function tr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function er(t){var e=[];return rr(new nr,t,e),e.join("")}function nr(){}function rr(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),rr(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&("function"!=typeof(o=e[r])&&(n.push(i),sr(r,n),n.push(":"),rr(t,o,n),i=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":sr(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Wn.prototype).add=function(t,e){zn(this),this.c=null,t=tr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){zn(this),this.a.forEach((function(n,r){q(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){zn(this);for(var t=this.a.W(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.W=function(t){zn(this);var e=[];if("string"==typeof t)Xn(this,t)&&(e=z(e,this.a.get(tr(this,t))));else{t=this.a.W();for(var n=0;n<t.length;n++)e=z(e,t[n])}return e},t.set=function(t,e){return zn(this),this.c=null,Xn(this,t=tr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var ir={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},or=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function sr(t,e){e.push('"',t.replace(or,(function(t){var e=ir[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ir[t]=e),e})),'"')}function ar(){var t=Nr();return Ht&&!!oe&&11==oe||/Edge\/\d+/.test(t)}function ur(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function cr(t,e){e=e||s.window;var n="about:blank";t&&(n=Dt(Rt(t)||Lt)),e.location.href=n}function lr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<lr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function hr(t){return!!((t=(t||Nr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function fr(t){t=t||s.window;try{t.close()}catch(e){}}function dr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Nr().toLowerCase(),r&&(e.target=r,ot(n,"crios/")&&(e.target="_blank")),Er(Nr())==Ir&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof At?n:Rt(void 0!==n.href?n.href:String(n))||Lt,n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((ct("iPhone")&&!ct("iPod")&&!ct("iPad")||ct("iPad")||ct("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(vt(s=de(document,"A"),"HTMLAnchorElement"),e=e instanceof At?e:Pt(e),s.href=Dt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=Ut("",r,n,s),t=Dt(e),s&&(zt&&ot(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+qt(t)+'">',t=new Ft(t=(r=_t())?r.createHTML(t):t,null,Vt),r=s.document)&&(r.write(function(t){return t instanceof Ft&&t.constructor===Ft?t.a:(R("expected object of type SafeHtml, got '"+t+"' of type "+h(t)),"type_error:SafeHtml")}(t)),r.close())):(s=Ut(e,r,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var pr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vr=/^[^@]+@[^@]+$/;function mr(){var t=null;return new be((function(e){"complete"==s.document.readyState?e():(t=function(){e()},cn(window,"load",t))})).o((function(e){throw ln(window,"load",t),e}))}function gr(t){return t=t||Nr(),!("file:"!==xr()&&"ionic:"!==xr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function yr(){var t=s.window;try{return!(!t||t==t.top)}catch(e){return!1}}function br(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function wr(){return No.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":No.INTERNAL.hasOwnProperty("node")?"Node":br()?"Worker":"Browser"}function _r(){var t=wr();return"ReactNative"===t||"Node"===t}var Ir="Firefox",Tr="Chrome";function Er(t){var e=t.toLowerCase();return ot(e,"opera/")||ot(e,"opr/")||ot(e,"opios/")?"Opera":ot(e,"iemobile")?"IEMobile":ot(e,"msie")||ot(e,"trident/")?"IE":ot(e,"edge/")?"Edge":ot(e,"firefox/")?Ir:ot(e,"silk/")?"Silk":ot(e,"blackberry")?"Blackberry":ot(e,"webos")?"Webos":!ot(e,"safari/")||ot(e,"chrome/")||ot(e,"crios/")||ot(e,"android")?!ot(e,"chrome/")&&!ot(e,"crios/")||ot(e,"edge/")?ot(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Tr:"Safari"}var Sr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function kr(t,e){e=e||[];var n,r=[],i={};for(n in Sr)i[Sr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=wr())?r=Er(i=Nr()):"Worker"===r&&(r=Er(i=Nr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Nr(){return s.navigator&&s.navigator.userAgent||""}function Ar(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Dr(){try{var t=s.localStorage,e=Fr();if(t)return t.setItem(e,"1"),t.removeItem(e),!ar()||!!s.indexedDB}catch(n){return br()&&!!s.indexedDB}return!1}function Or(){return(Cr()||"chrome-extension:"===xr()||gr())&&!_r()&&Dr()&&!br()}function Cr(){return"http:"===xr()||"https:"===xr()}function xr(){return s.location&&s.location.protocol||null}function Rr(t){return!hr(t=t||Nr())&&Er(t)!=Ir}function Pr(t){return void 0===t?null:er(t)}function Mr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Lr(t){if(null!==t)return JSON.parse(t)}function Fr(t){return t||Math.floor(1e9*Math.random()).toString()}function Vr(t){return"Safari"!=Er(t=t||Nr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Ur(){var t=s.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function jr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Nr(),e=wr(),this.b=hr(t)||"ReactNative"===e}function qr(){var t=s.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Br(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Kr(){return!(!Ar("fireauth.oauthhelper",s)&&!Ar("fireauth.iframe",s))}jr.prototype.get=function(){var t=s.navigator;return!t||"boolean"!=typeof t.onLine||!Cr()&&"chrome-extension:"!==xr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Gr,Yr={};function Hr(t){Yr[t]||(Yr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Wr={};Object.defineProperty(Wr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Wr,"abcd",{configurable:!0,enumerable:!0,value:2}),Gr=2==Wr.abcd}catch(Gt){Gr=!1}function zr(t,e,n){Gr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Qr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&zr(t,n,e[n])}function $r(t){var e={};return Qr(e,t),e}function Xr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)zr(e,n,Xr(t[n]));return e}function Jr(t){var e=t&&(t[ri]?"phone":null);if(!(e&&t&&t[ni]))throw new T("internal-error","Internal assert: invalid MultiFactorInfo object");zr(this,"uid",t[ni]),zr(this,"displayName",t[ti]||null);var n=null;t[ei]&&(n=new Date(t[ei]).toUTCString()),zr(this,"enrollmentTime",n),zr(this,"factorId",e)}function Zr(t){try{var e=new ii(t)}catch(n){e=null}return e}Jr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ti="displayName",ei="enrolledAt",ni="mfaEnrollmentId",ri="phoneInfo";function ii(t){Jr.call(this,t),zr(this,"phoneNumber",t[ri])}function oi(t){var e={},n=t[ci],r=t[hi],i=t[fi];if(t=Zr(t[li]),!i||i!=ai&&i!=ui&&!n||i==ui&&!r||i==si&&!t)throw Error("Invalid checkActionCode response!");i==ui?(e[pi]=n||null,e[mi]=n||null,e[di]=r):(e[pi]=r||null,e[mi]=r||null,e[di]=n||null),e[vi]=t||null,zr(this,yi,i),zr(this,gi,Xr(e))}_(ii,Jr),ii.prototype.w=function(){var t=ii.ab.w.call(this);return t.phoneNumber=this.phoneNumber,t};var si="REVERT_SECOND_FACTOR_ADDITION",ai="EMAIL_SIGNIN",ui="VERIFY_AND_CHANGE_EMAIL",ci="email",li="mfaInfo",hi="newEmail",fi="requestType",di="email",pi="fromEmail",vi="multiFactorInfo",mi="previousEmail",gi="data",yi="operation";function bi(t){var e=Ln(t=Fn(t),wi)||null,n=Ln(t,_i)||null,r=Ln(t,Ei)||null;if(r=r&&ki[r]||null,!e||!n||!r)throw new T("argument-error",wi+", "+_i+"and "+Ei+" are required in a valid action code URL.");Qr(this,{apiKey:e,operation:r,code:n,continueUrl:Ln(t,Ii)||null,languageCode:Ln(t,Ti)||null,tenantId:Ln(t,Si)||null})}var wi="apiKey",_i="oobCode",Ii="continueUrl",Ti="languageCode",Ei="mode",Si="tenantId",ki={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:si,signIn:ai,verifyAndChangeEmail:ui,verifyEmail:"VERIFY_EMAIL"};function Ni(t){try{return new bi(t)}catch(e){return null}}function Ai(t){var e=t[Ri];if(void 0===e)throw new T("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new T("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Di];if(n&&"object"==typeof n){e=n[Li];var r=n[Pi];if(n=n[Mi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new T("argument-error",Pi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new T("argument-error",Mi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new T("argument-error",Li+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new T("missing-android-pkg-name")}}else if(void 0!==n)throw new T("argument-error",Di+" property must be a non null object when specified.");if(this.f=null,(e=t[xi])&&"object"==typeof e){if("string"==typeof(e=e[Fi])&&e.length)this.f=e;else if(void 0!==e)throw new T("argument-error",Fi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new T("argument-error",xi+" property must be a non null object when specified.");if(void 0!==(e=t[Ci])&&"boolean"!=typeof e)throw new T("argument-error",Ci+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Oi])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new T("argument-error",Oi+" property must be a non empty string when specified.");this.i=t||null}var Di="android",Oi="dynamicLinkDomain",Ci="handleCodeInApp",xi="iOS",Ri="url",Pi="installApp",Mi="minimumVersion",Li="packageName",Fi="bundleId";function Vi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Ui=null;function ji(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Ui[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Ui){Ui={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Ui[o]&&(Ui[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e.push(t)})),e}function qi(t){var e=Ki(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Bi(t){try{return new qi(t)}catch(e){return null}}function Ki(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=ji(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var s=r[e++],a=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(a>>10)),t[n++]=String.fromCharCode(56320+(1023&a))}else o=r[e++],s=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}return JSON.parse(t.join(""))}catch(u){}return null}qi.prototype.T=function(){return this.f},qi.prototype.l=function(){return this.c},qi.prototype.toString=function(){return this.h};var Gi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Yi=["client_id","response_type","scope","redirect_uri","state"],Hi={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Yi},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Yi},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Yi},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:Gi},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function Wi(t){for(var e in Hi)if(Hi[e].fa==t)return Hi[e];return null}function zi(t){var e={};e["facebook.com"]=Zi,e["google.com"]=eo,e["github.com"]=to,e["twitter.com"]=no;var n=t&&t[$i];try{if(n)return e[n]?new e[n](t):new Ji(t);if(void 0!==t[Qi])return new Xi(t)}catch(r){}return null}var Qi="idToken",$i="providerId";function Xi(t){var e=t[$i];if(!e&&t[Qi]){var n=Bi(t[Qi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),zr(this,"providerId",e),zr(this,"isNewUser",n)}function Ji(t){Xi.call(this,t),zr(this,"profile",Xr((t=Lr(t.rawUserInfo||"{}"))||{}))}function Zi(t){if(Ji.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function to(t){if(Ji.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");zr(this,"username",this.profile&&this.profile.login||null)}function eo(t){if(Ji.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function no(t){if(Ji.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");zr(this,"username",t.screenName||null)}function ro(t){var e=Fn(t),n=Ln(e,"link"),r=Ln(Fn(n),"link");return e=Ln(e,"deep_link_id"),Ln(Fn(e),"link")||e||r||n||t}function io(t,e){if(!t&&!e)throw new T("internal-error","Internal assert: no raw session string available");if(t&&e)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?oo:so}_(Ji,Xi),_(Zi,Ji),_(to,Ji),_(eo,Ji),_(no,Ji);var oo="enroll",so="signin";function ao(){}function uo(t,e){return t.then((function(t){if(t[Js]){var n=Bi(t[Js]);if(!n||e!=n.i)throw new T("user-mismatch");return t}throw new T("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==k+"user-not-found"?new T("user-mismatch"):t}))}function co(t,e){if(!e)throw new T("internal-error","failed to construct a credential");this.a=e,zr(this,"providerId",t),zr(this,"signInMethod",t)}function lo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function ho(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new co(t.providerId,t.pendingToken)}catch(e){}return null}function fo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&zr(this,"idToken",e.idToken),e.accessToken&&zr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&zr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new T("internal-error","failed to construct a credential");zr(this,"accessToken",e.oauthToken),zr(this,"secret",e.oauthTokenSecret)}zr(this,"providerId",t),zr(this,"signInMethod",n)}function po(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Qn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function vo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new fo(t.providerId,e,t.signInMethod)}catch(n){}}return null}function mo(t,e){this.Qc=e||[],Qr(this,{providerId:t,isOAuthProvider:!0}),this.Ib={},this.pb=(Wi(t)||{}).Ja||null,this.ob=null}function go(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');mo.call(this,t,[])}function yo(t){mo.call(this,t,Yi),this.a=[]}function bo(){yo.call(this,"facebook.com")}function wo(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new bo).credential({accessToken:e})}function _o(){yo.call(this,"github.com")}function Io(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new _o).credential({accessToken:e})}function To(){yo.call(this,"google.com"),this.Ca("profile")}function Eo(t,e){var n=t;return p(t)&&(n=t.idToken,e=t.accessToken),(new To).credential({idToken:n,accessToken:e})}function So(){mo.call(this,"twitter.com",Gi)}function ko(t,e){var n=t;if(p(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new fo("twitter.com",n,"twitter.com")}function Ao(t,e,n){this.a=t,this.f=e,zr(this,"providerId","password"),zr(this,"signInMethod",n===Oo.EMAIL_LINK_SIGN_IN_METHOD?Oo.EMAIL_LINK_SIGN_IN_METHOD:Oo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Do(t){return t&&t.email&&t.password?new Ao(t.email,t.password,t.signInMethod):null}function Oo(){Qr(this,{providerId:"password",isOAuthProvider:!1})}function Co(t,e){if(!(e=xo(e)))throw new T("argument-error","Invalid email link!");return new Ao(t,e.code,Oo.EMAIL_LINK_SIGN_IN_METHOD)}function xo(t){return(t=Ni(t=ro(t)))&&t.operation===ai?t:null}function Ro(t){if(!(t.eb&&t.cb||t.La&&t.ea))throw new T("internal-error");this.a=t,zr(this,"providerId","phone"),this.fa="phone",zr(this,"signInMethod","phone")}function Po(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return q(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Ro(e)}return null}function Mo(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.eb,code:t.a.cb}}function Lo(t){try{this.a=t||No.auth()}catch(e){throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Qr(this,{providerId:"phone",isOAuthProvider:!1})}function Fo(t,e){if(!t)throw new T("missing-verification-id");if(!e)throw new T("missing-verification-code");return new Ro({eb:t,cb:e})}function Vo(t){if(t.temporaryProof&&t.phoneNumber)return new Ro({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return Eo(o,n);case"facebook.com":return wo(n);case"github.com":return Io(n);case"twitter.com":return ko(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new co(e,s):new fo(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new yo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function Uo(t){if(!t.isOAuthProvider)throw new T("invalid-oauth-provider")}function jo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new T("invalid-auth-event");if(this.g&&this.a)throw new T("invalid-auth-event");if(this.g&&!this.f)throw new T("invalid-auth-event")}function qo(t){return(t=t||{}).type?new jo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&E(t.error),t.postBody,t.tenantId):null}function Bo(){this.b=null,this.a=[]}io.prototype.Ha=function(){return this.a?ke(this.a):ke(this.b)},io.prototype.w=function(){return this.type==oo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},ao.prototype.ka=function(){},ao.prototype.b=function(){},ao.prototype.c=function(){},ao.prototype.w=function(){},co.prototype.ka=function(t){return wa(t,lo(this))},co.prototype.b=function(t,e){var n=lo(this);return n.idToken=e,_a(t,n)},co.prototype.c=function(t,e){return uo(Ia(t,lo(this)),e)},co.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},fo.prototype.ka=function(t){return wa(t,po(this))},fo.prototype.b=function(t,e){var n=po(this);return n.idToken=e,_a(t,n)},fo.prototype.c=function(t,e){return uo(Ia(t,po(this)),e)},fo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},mo.prototype.Ka=function(t){return this.Ib=ft(t),this},_(go,mo),_(yo,mo),yo.prototype.Ca=function(t){return Y(this.a,t)||this.a.push(t),this},yo.prototype.Qb=function(){return Q(this.a)},yo.prototype.credential=function(t,e){var n;if(!(n=p(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new fo(this.providerId,n,this.providerId)},_(bo,yo),zr(bo,"PROVIDER_ID","facebook.com"),zr(bo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),_(_o,yo),zr(_o,"PROVIDER_ID","github.com"),zr(_o,"GITHUB_SIGN_IN_METHOD","github.com"),_(To,yo),zr(To,"PROVIDER_ID","google.com"),zr(To,"GOOGLE_SIGN_IN_METHOD","google.com"),_(So,mo),zr(So,"PROVIDER_ID","twitter.com"),zr(So,"TWITTER_SIGN_IN_METHOD","twitter.com"),Ao.prototype.ka=function(t){return this.signInMethod==Oo.EMAIL_LINK_SIGN_IN_METHOD?ru(t,Oa,{email:this.a,oobCode:this.f}):ru(t,Ja,{email:this.a,password:this.f})},Ao.prototype.b=function(t,e){return this.signInMethod==Oo.EMAIL_LINK_SIGN_IN_METHOD?ru(t,Ca,{idToken:e,email:this.a,oobCode:this.f}):ru(t,Ga,{idToken:e,email:this.a,password:this.f})},Ao.prototype.c=function(t,e){return uo(this.ka(t),e)},Ao.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Qr(Oo,{PROVIDER_ID:"password"}),Qr(Oo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Qr(Oo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Ro.prototype.ka=function(t){return t.fb(Mo(this))},Ro.prototype.b=function(t,e){var n=Mo(this);return n.idToken=e,ru(t,tu,n)},Ro.prototype.c=function(t,e){var n=Mo(this);return n.operation="REAUTH",uo(t=ru(t,eu,n),e)},Ro.prototype.w=function(){var t={providerId:"phone"};return this.a.eb&&(t.verificationId=this.a.eb),this.a.cb&&(t.verificationCode=this.a.cb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Lo.prototype.fb=function(t,e){var n=this.a.a;return ke(e.verify()).then((function(r){if("string"!=typeof r)throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=p(t)?t.session:null,o=p(t)?t.phoneNumber:t;return(i&&i.type==oo?i.Ha().then((function(t){return function(t,e){return ru(t,Ha,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==so?i.Ha().then((function(e){return function(t,e){return ru(t,Wa,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return ru(t,Ba,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Qr(Lo,{PROVIDER_ID:"phone"}),Qr(Lo,{PHONE_SIGN_IN_METHOD:"phone"}),jo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},jo.prototype.T=function(){return this.h},jo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Ko,Go=null;function Yo(t){var e="unauthorized-domain",n=void 0,r=Fn(t);t=r.a,"chrome-extension"==(r=r.c)?n=jt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=jt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",T.call(this,e,n)}function Ho(t,e,n){T.call(this,t,n),(t=e||{}).Jb&&zr(this,"email",t.Jb),t.ea&&zr(this,"phoneNumber",t.ea),t.credential&&zr(this,"credential",t.credential),t.Zb&&zr(this,"tenantId",t.Zb)}function Wo(t){if(t.code){var e=t.code||"";0==e.indexOf(k)&&(e=e.substring(k.length));var n={credential:Vo(t),Zb:t.tenantId};if(t.email)n.Jb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new T(e,t.message||void 0);return new Ho(e,n,t.message)}return null}function zo(){}function Qo(t){return t.c||(t.c=t.b())}function $o(){}function Xo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch($_){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Jo(){}function Zo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.qc,this),this.a.onerror=b(this.Sb,this),this.a.onprogress=b(this.rc,this),this.a.ontimeout=b(this.vc,this)}function ts(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function es(t,e,n){this.reset(t,e,n,void 0,void 0)}function ns(t){this.f=t,this.b=this.c=this.a=null}function rs(t,e){this.name=t,this.value=e}_(Yo,T),_(Ho,T),Ho.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&pt(t,e),t},Ho.prototype.toJSON=function(){return this.w()},zo.prototype.c=null,_($o,zo),$o.prototype.a=function(){var t=Xo(this);return t?new ActiveXObject(t):new XMLHttpRequest},$o.prototype.b=function(){var t={};return Xo(this)&&(t[0]=!0,t[1]=!0),t},Ko=new $o,_(Jo,zo),Jo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Zo;throw Error("Unsupported browser")},Jo.prototype.b=function(){return{}},(t=Zo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ts(this,4)},t.Sb=function(){this.status=500,this.response=this.responseText="",ts(this,4)},t.vc=function(){this.Sb()},t.rc=function(){this.status=200,ts(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},es.prototype.a=null,es.prototype.reset=function(t,e,n,r,i){delete this.a},rs.prototype.toString=function(){return this.name};var is=new rs("SEVERE",1e3),os=new rs("WARNING",900),ss=new rs("CONFIG",700),as=new rs("FINE",500);function us(t){return t.c?t.c:t.a?us(t.a):(R("Root logger has no level set."),null)}ns.prototype.log=function(t,e,n){if(t.value>=us(this).value)for(d(e)&&(e=e()),t=new es(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var cs={},ls=null;function hs(t){var e;if(ls||(ls=new ns(""),cs[""]=ls,ls.c=ss),!(e=cs[t])){e=new ns(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=hs(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,cs[t]=e}return e}function fs(t,e){t&&t.log(as,e,void 0)}function ds(t){this.f=t}function ps(t){bn.call(this),this.u=t,this.h=void 0,this.readyState=vs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=hs("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}_(ds,zo),ds.prototype.a=function(){return new ps(this.f)},ds.prototype.b=function(t){return function(){return t}}({}),_(ps,bn);var vs=0;function ms(t){t.c.read().then(t.pc.bind(t)).catch(t.Ua.bind(t))}function gs(t){t.readyState=4,t.g=null,t.c=null,t.m=null,ys(t)}function ys(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function bs(t){bn.call(this),this.headers=new Nn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=ws,this.u=this.S=!1}(t=ps.prototype).open=function(t,e){if(this.readyState!=vs)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,ys(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Ua.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,gs(this)),this.readyState=vs},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,ys(this)),this.a&&(this.readyState=3,ys(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):void 0!==s.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,ms(this)):t.text().then(this.tc.bind(this),this.Ua.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?gs(this):ys(this),3==this.readyState&&ms(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,gs(this))},t.sc=function(t){this.a&&(this.response=t,gs(this))},t.Ua=function(t){var e=this.i;e&&e.log(os,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&gs(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(os,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(os,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ps.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),_(bs,bn);var ws="";bs.prototype.b=hs("goog.net.XhrIo");var _s=/^https?$/i,Is=["POST","PUT"];function Ts(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.R=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Ko.a(),t.C=t.D?Qo(t.D):Qo(Ko),t.a.onreadystatechange=b(t.Vb,t);try{fs(t.b,xs(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(a){return fs(t.b,xs(t,"Error opening Xhr: "+a.message)),void Ss(t,a)}e=r||"";var o=new Nn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"==typeof t)q(t,e,void 0);else for(var n=kn(t),r=Sn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=Es,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=s.FormData&&e instanceof s.FormData,!Y(Is,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{Ds(t),0<t.g&&(t.u=function(t){return Ht&&re(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),fs(t.b,xs(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=b(t.Ma,t)):t.s=Tn(t.Ma,t.g,t)),fs(t.b,xs(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(a){fs(t.b,xs(t,"Send error: "+a.message)),Ss(t,a)}}function Es(t){return"content-type"==t.toLowerCase()}function Ss(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,ks(t),As(t)}function ks(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Ns(t){if(t.c&&void 0!==o)if(t.C[1]&&4==Os(t)&&2==Cs(t))fs(t.b,xs(t,"Local request error detected and ignored"));else if(t.i&&4==Os(t))Tn(t.Vb,0,t);else if(t.dispatchEvent("readystatechange"),4==Os(t)){fs(t.b,xs(t,"Request complete")),t.c=!1;try{var e,n=Cs(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var a=String(t.l).match(On)[1]||null;if(!a&&s.self&&s.self.location){var u=s.self.location.protocol;a=u.substr(0,u.length-1)}i=!_s.test(a?a.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Os(t)?t.a.statusText:""}catch(l){fs(t.b,"Can not get status: "+l.message),c=""}t.h=c+" ["+Cs(t)+"]",ks(t)}}finally{As(t)}}}function As(t,e){if(t.a){Ds(t);var n=t.a,r=t.C[0]?l:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch($_){(t=t.b)&&t.log(is,"Problem encountered resetting onreadystatechange: "+$_.message,void 0)}}}function Ds(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(s.clearTimeout(t.s),t.s=null)}function Os(t){return t.a?t.a.readyState:0}function Cs(t){try{return 2<Os(t)?t.a.status:-1}catch(e){return-1}}function xs(t,e){return e+" ["+t.R+" "+t.l+" "+Cs(t)+"]"}function Rs(t){var e=Gs;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ps(t,e,n){t.a=!0,t.c=n,t.f=!e,Vs(t)}function Ms(t){if(t.a){if(!t.v)throw new Us(t);t.v=!1}}function Ls(t,e,n,r){t.g.push([e,n,r]),t.a&&Vs(t)}function Fs(t){return G(t.g,(function(t){return d(t[1])}))}function Vs(t){if(t.h&&t.a&&Fs(t)){var e=t.h,n=Bs[e];n&&(s.clearTimeout(n.a),delete Bs[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(O(e)||"function"==typeof s.Promise&&e instanceof s.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,Fs(t)||(n=!0)}}t.c=e,r&&(u=b(t.m,t,!0),r=b(t.m,t,!1),e instanceof Rs?(Ls(e,u,r),e.C=!0):e.then(u,r)),n&&(e=new qs(e),Bs[e.a]=e,t.h=e.a)}function Us(){C.call(this)}function js(){C.call(this)}function qs(t){this.a=s.setTimeout(b(this.c,this),0),this.b=t}(t=bs.prototype).Ma=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",fs(this.b,xs(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(fs(this.b,xs(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),As(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),As(this,!0)),bs.ab.Da.call(this)},t.Vb=function(){this.xa||(this.O||this.i||this.f?Ns(this):this.Jc())},t.Jc=function(){Ns(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ws:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(is,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return fs(this.b,"Can not get response: "+e.message),null}},Rs.prototype.cancel=function(t){if(this.a)this.c instanceof Rs&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new js(this),Ms(this),Ps(this,!1,t))}},Rs.prototype.m=function(t,e){this.i=!1,Ps(this,t,e)},Rs.prototype.then=function(t,e,n){var r,i,o=new be((function(t,e){r=t,i=e}));return Ls(this,r,(function(t){t instanceof js?o.cancel():i(t)})),o.then(t,e,n)},Rs.prototype.$goog_Thenable=!0,_(Us,C),Us.prototype.message="Deferred has already fired",Us.prototype.name="AlreadyCalledError",_(js,C),js.prototype.message="Deferred was canceled",js.prototype.name="CanceledError",qs.prototype.c=function(){throw delete Bs[this.a],this.b};var Bs={};function Ks(t){var e,n=document,r=Tt(t).toString(),i=de(document,"SCRIPT"),o={Wb:i,Ma:void 0},a=new Rs(o);return e=window.setTimeout((function(){Ys(i,!0);var t=new zs(Ws,"Timeout reached for loading script "+r);Ms(a),Ps(a,!1,t)}),5e3),o.Ma=e,i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ys(i,!1,e),Ms(a),Ps(a,!0,null))},i.onerror=function(){Ys(i,!0,e);var t=new zs(Hs,"Error while loading script "+r);Ms(a),Ps(a,!1,t)},pt(o={},{type:"text/javascript",charset:"UTF-8"}),ue(i,o),function(t,e){vt(t,"HTMLScriptElement"),t.src=Tt(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=s?e=c(e.document):(null===u&&(u=c(s.document)),e=u),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function Gs(){if(this&&this.Wb){var t=this.Wb;t&&"SCRIPT"==t.tagName&&Ys(t,!0,this.Ma)}}function Ys(t,e,n){null!=n&&s.clearTimeout(n),t.onload=l,t.onerror=l,t.onreadystatechange=l,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Hs=0,Ws=1;function zs(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),C.call(this,n),this.code=t}function Qs(t){this.f=t}function $s(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Zs,this.g=ft(t.secureTokenHeaders||ta),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||ea,this.a=ft(t.firebaseHeaders||na),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==wr(),!(n=s.XMLHttpRequest||n&&No.INTERNAL.node&&No.INTERNAL.node.XMLHttpRequest)&&!br())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,br()?this.f=new ds(self):_r()?this.f=new Qs(n):this.f=new Jo,this.b=null}_(zs,C),_(Qs,zo),Qs.prototype.a=function(){return new this.f},Qs.prototype.b=function(){return{}};var Xs,Js="idToken",Zs=new jr(3e4,6e4),ta={"Content-Type":"application/x-www-form-urlencoded"},ea=new jr(3e4,6e4),na={"Content-Type":"application/json"};function ra(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function ia(t,e){e&&(t.l=oa("https://securetoken.googleapis.com/v1/token",e),t.h=oa("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=oa("https://identitytoolkit.googleapis.com/v2/",e))}function oa(t,e){return t=Fn(t),e=Fn(e.url),t.f=t.a+t.f,xn(t,e.c),t.a=e.a,Rn(t,e.g),t.toString()}function sa(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function aa(t,e,n,r,i,o,a){(function(){var t=Nr();return!((t=Er(t)!=Tr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Ht&&oe&&!(9<oe))})()||br()?t=b(t.u,t):(Xs||(Xs=new be((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{s[ca]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ls(t,null,e,void 0)}(Ks(Et(ua,{onload:ca})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=b(t.s,t)),t(e,n,r,i,o,a)}$s.prototype.T=function(){return this.b},$s.prototype.u=function(t,e,n,r,i,o){if(br()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new bs(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}wn(a,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return fs(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),_n(a,"ready",(function(){u&&clearTimeout(u),Ke(this)})),_n(a,"timeout",(function(){u&&clearTimeout(u),Ke(this),e&&e(null)})),Ts(a,t,n,r,i)};var ua=new mt(wt,"https://apis.google.com/js/client.js?onload=%{onload}"),ca="__fcb"+Math.floor(1e6*Math.random()).toString();function la(t,e,n,r,i,o,s){var a=Fn(e+n);Mn(a,"key",t.c),s&&Mn(a,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Mn(a,c,i[c]);return new be((function(e,n){aa(t,a.toString(),(function(t){t?t.error?n(ou(t,o||{})):e(t):n(new T("network-request-failed"))}),r,u?void 0:er(Mr(i)),t.a,t.v.get())}))}function ha(t){if("string"!=typeof(t=t.email)||!vr.test(t))throw new T("invalid-email")}function fa(t){"email"in t&&ha(t)}function da(t){if(!t[Js]){if(t.mfaPendingCredential)throw new T("multi-factor-auth-required",null,ft(t));throw new T("internal-error")}}function pa(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new T("internal-error")}else{if(!t.sessionInfo)throw new T("missing-verification-id");if(!t.code)throw new T("missing-verification-code")}}$s.prototype.s=function(t,e,n,r,i){var o=this;Xs.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},$s.prototype.zb=function(){return ru(this,Ya,{})},$s.prototype.Bb=function(t,e){return ru(this,Ka,{idToken:t,email:e})},$s.prototype.Cb=function(t,e){return ru(this,Ga,{idToken:t,password:e})};var va={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ma(t){if(!t.phoneVerificationInfo)throw new T("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new T("missing-verification-code")}function ga(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new T("internal-error")}function ya(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(Xn(t=new Wn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function ba(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Wo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Wo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Wo(t)):t.errorMessage&&(e=iu(t.errorMessage)),e)throw e;da(t)}function wa(t,e){return e.returnIdpCredential=!0,ru(t,za,e)}function _a(t,e){return e.returnIdpCredential=!0,ru(t,$a,e)}function Ia(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,ru(t,Qa,e)}function Ta(t){if(!t.oobCode)throw new T("invalid-action-code")}(t=$s.prototype).Db=function(t,e){var n={idToken:t},r=[];return lt(va,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),ru(this,Ka,n)},t.vb=function(t,e){return pt(t={requestType:"PASSWORD_RESET",email:t},e),ru(this,Va,t)},t.wb=function(t,e){return pt(t={requestType:"EMAIL_SIGNIN",email:t},e),ru(this,Ma,t)},t.ub=function(t,e){return pt(t={requestType:"VERIFY_EMAIL",idToken:t},e),ru(this,La,t)},t.Eb=function(t,e,n){return pt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),ru(this,Fa,t)},t.fb=function(t){return ru(this,Za,t)},t.nb=function(t,e){return ru(this,qa,{oobCode:t,newPassword:e})},t.Ra=function(t){return ru(this,Sa,{oobCode:t})},t.jb=function(t){return ru(this,Ea,{oobCode:t})};var Ea={endpoint:"setAccountInfo",A:Ta,Z:"email",B:!0},Sa={endpoint:"resetPassword",A:Ta,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new T("internal-error")},B:!0},ka={endpoint:"signupNewUser",A:function(t){if(ha(t),!t.password)throw new T("weak-password")},G:da,V:!0,B:!0},Na={endpoint:"createAuthUri",B:!0},Aa={endpoint:"deleteAccount",N:["idToken"]},Da={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new T("internal-error")}},Oa={endpoint:"emailLinkSignin",N:["email","oobCode"],A:ha,G:da,V:!0,B:!0},Ca={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:ha,G:da,V:!0},xa={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:ma,G:da,B:!0,Na:!0},Ra={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:ma,G:da,B:!0,Na:!0},Pa={endpoint:"getAccountInfo"},Ma={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new T("internal-error");ha(t)},Z:"email",B:!0},La={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},Fa={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},Va={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new T("internal-error");ha(t)},Z:"email",B:!0},Ua={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},ja={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new T("internal-error")}},qa={endpoint:"resetPassword",A:Ta,Z:"email",B:!0},Ba={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Ka={endpoint:"setAccountInfo",N:["idToken"],A:fa,V:!0},Ga={endpoint:"setAccountInfo",N:["idToken"],A:function(t){if(fa(t),!t.password)throw new T("weak-password")},G:da,V:!0},Ya={endpoint:"signupNewUser",G:da,V:!0,B:!0},Ha={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new T("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},Wa={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},za={endpoint:"verifyAssertion",A:ga,Ya:ya,G:ba,V:!0,B:!0},Qa={endpoint:"verifyAssertion",A:ga,Ya:ya,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new T("user-not-found");if(t.errorMessage)throw iu(t.errorMessage);da(t)},V:!0,B:!0},$a={endpoint:"verifyAssertion",A:function(t){if(ga(t),!t.idToken)throw new T("internal-error")},Ya:ya,G:ba,V:!0},Xa={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new T("invalid-custom-token")},G:da,V:!0,B:!0},Ja={endpoint:"verifyPassword",A:function(t){if(ha(t),!t.password)throw new T("wrong-password")},G:da,V:!0,B:!0},Za={endpoint:"verifyPhoneNumber",A:pa,G:da,B:!0},tu={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new T("internal-error");pa(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Wo(t);da(t)}},eu={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:pa,G:da,B:!0},nu={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Js]^!!t.refreshToken)throw new T("internal-error")},B:!0,Na:!0};function ru(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.N))return Ne(new T("internal-error"));var r,i=!!e.Na,o=e.Ub||"POST";return ke(n).then(e.A).then((function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),la(t,i?t.i:t.h,e.endpoint,o,n,e.Hb,e.lb||!1)})).then((function(t){return r=t,e.Ya?e.Ya(n,r):r})).then(e.G).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new T("internal-error");return r[e.Z]}))}function iu(t){return ou({error:{errors:[{message:t}],code:400,message:t}})}function ou(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new T(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",pt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new T(r[i],e);return!e&&t&&(e=Pr(t)),new T("internal-error",e)}function su(t){this.b=t,this.a=null,this.rb=function(t){return(lu||(lu=new be((function(t,e){function n(){Ur(),Ar("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Ur(),e(Error("Network Error"))},timeout:uu.get()})}if(Ar("gapi.iframes.Iframe"))t();else if(Ar("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Ar("gapi.load")?n():e(Error("Network Error"))},ke(Ks(r=Et(au,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw lu=null,t})))).then((function(){return new be((function(e,n){Ar("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Ar("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),cu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var au=new mt(wt,"https://apis.google.com/js/api.js?onload=%{onload}"),uu=new jr(3e4,6e4),cu=new jr(5e3,15e3),lu=null;function hu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,this.g?t=Vn((t=Fn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):t=Vn("https",this.l,null,"/__/auth/iframe"),this.a=t,Mn(this.a,"apiKey",this.h),Mn(this.a,"appName",this.i),this.b=null,this.c=[]}function fu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function du(t){try{return No.app(t).auth().Ga()}catch(e){return[]}}function pu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function vu(t){var e=ur();return function(t){return ru(t,Ua,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Fn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Fn(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:pr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Yo(ur())}))}function mu(t){return t.m||(t.m=mr().then((function(){if(!t.u){var e=t.c,n=t.i,r=du(t.b),i=new hu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=Q(r||[]),t.u=i.toString()}t.v=new su(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.rb.then((function(){t.a.register("authEvent",e,Ar("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.v,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=qo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",ke(n)}return n.status="ERROR",ke(n)}))}(t)}))),t.m}function gu(t){return t.l||(t.C=t.c?kr(t.c,du(t.b)):null,t.l=new $s(t.g,D(t.i),t.C),t.f&&ia(t.l,t.f)),t.l}function yu(t,e,n,r,i,o,s,a,u,c,l,h){return(t=new fu(t,e,n,r,i,h)).l=o,t.g=s,t.i=a,t.b=ft(u||null),t.f=c,t.yb(l).toString()}function bu(t){if(this.a=t||No.INTERNAL.reactNative&&No.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function wu(t){this.b=t,this.a={},this.f=b(this.c,this)}hu.prototype.toString=function(){return this.f?Mn(this.a,"v",this.f):$n(this.a.b,"v"),this.b?Mn(this.a,"eid",this.b):$n(this.a.b,"eid"),this.c.length?Mn(this.a,"fw",this.c.join(",")):$n(this.a.b,"fw"),this.a.toString()},fu.prototype.yb=function(t){return this.h=t,this},fu.prototype.toString=function(){if(this.v){var t=Fn(this.v.url);t=Vn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Vn("https",this.u,null,"/__/auth/handler");if(Mn(t,"apiKey",this.s),Mn(t,"appName",this.c),Mn(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=No.app(this.c).auth().la()}catch(a){n=null}for(var r in e.ob=n,Mn(t,"providerId",this.a.providerId),e=Mr((n=this.a).Ib))e[r]=e[r].toString();r=n.Qc,e=ft(e);for(var i=0;i<r.length;i++){var o=r[i];o in e&&delete e[o]}n.pb&&n.ob&&!e[n.pb]&&(e[n.pb]=n.ob),ht(e)||Mn(t,"customParameters",Pr(e))}if("function"==typeof this.a.Qb&&((n=this.a.Qb()).length&&Mn(t,"scopes",n.join(","))),this.l?Mn(t,"redirectUrl",this.l):$n(t.b,"redirectUrl"),this.g?Mn(t,"eventId",this.g):$n(t.b,"eventId"),this.i?Mn(t,"v",this.i):$n(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Ln(t,s)&&Mn(t,s,this.b[s]);return this.h?Mn(t,"tid",this.h):$n(t.b,"tid"),this.f?Mn(t,"eid",this.f):$n(t.b,"eid"),(s=du(this.c)).length&&Mn(t,"fw",s.join(",")),t.toString()},(t=pu.prototype).Ob=function(t,e,n){var r=new T("popup-closed-by-user"),i=new T("web-storage-unsupported"),o=this,s=!1;return this.ma().then((function(){(function(t){var e={type:"webStorageSupport"};return mu(t).then((function(){return function(t,e){return t.rb.then((function(){return new be((function(n){t.a.send(e.type,e,n,Ar("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.v,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&fr(t),e(i),s=!0)}))})).o((function(){})).then((function(){if(!s)return function(t){return new be((function(e){return function n(){En(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return En(n).then((function(){e(r)}))}))},t.Xb=function(){var t=Nr();return!Rr(t)&&!Vr(t)},t.Tb=function(){return!1},t.Mb=function(t,e,n,r,i,o,s,a){if(!t)return Ne(new T("popup-blocked"));if(s&&!Rr())return this.ma().o((function(e){fr(t),i(e)})),r(),ke();this.a||(this.a=vu(gu(this)));var u=this;return this.a.then((function(){var e=u.ma().o((function(e){throw fr(t),i(e),e}));return r(),e})).then((function(){(Uo(n),s)||cr(yu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,a,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Nb=function(t,e,n,r){this.a||(this.a=vu(gu(this)));var i=this;return this.a.then((function(){Uo(e),cr(yu(i.s,i.g,i.b,t,e,ur(),n,i.c,void 0,i.i,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ma=function(){var t=this;return mu(this).then((function(){return t.v.rb})).o((function(){throw t.a=null,new T("network-request-failed")}))},t.$b=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Sa=function(t){W(this.h,(function(e){return e==t}))},(t=bu.prototype).get=function(t){return ke(this.a.getItem(t)).then((function(t){return t&&Lr(t)}))},t.set=function(t,e){return ke(this.a.setItem(t,Pr(e)))},t.U=function(t){return ke(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var _u,Iu=[];function Tu(t,e,n){ht(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Eu(t){this.a=t}function Su(t){this.c=t,this.b=!1,this.a=[]}function ku(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return Ne(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new be((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}},t.a.push(c),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return Nu(t,c),e})).o((function(e){throw Nu(t,c),e}))}function Nu(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),W(t.a,(function(t){return t==e}))}}function Au(){if(!xu())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;br()&&self?(this.v=function(){var t=br()?self:null;if(q(Iu,(function(n){n.b==t&&(e=n)})),!e){var e=new wu(t);Iu.push(e)}return e}(),Tu(this.v,"keyChanged",(function(e,n){return Fu(t).then((function(e){return 0<e.length&&q(t.a,(function(t){t(e)})),{keyProcessed:Y(e,n.key)}}))})),Tu(this.v,"ping",(function(){return ke(["keyChanged"])}))):function(){var t=s.navigator;return t&&t.serviceWorker?ke().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):ke(null)}().then((function(e){(t.h=e)&&(t.g=new Su(new Eu(e)),ku(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&Y(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function Du(t){return new be((function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new be((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return Du(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function Ou(t){return t.i||(t.i=Du(t)),t.i}function Cu(t,e){var n=0;return new be((function r(i,o){Ou(t).then(e).then(i).o((function(e){if(!(3<++n))return Ou(t).then((function(e){return e.close(),t.i=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function xu(){try{return!!s.indexedDB}catch(Gt){return!1}}function Ru(t){return t.objectStore("firebaseLocalStorage")}function Pu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Mu(t){return new be((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Lu(t,e){return t.g&&t.h&&function(){var t=s.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?ku(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):ke()}function Fu(t){return Ou(t).then((function(t){var e=Ru(Pu(t,!1));return e.getAll?Mu(e.getAll()):new be((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=lr(t.c,n),t.c=n}return r}))}function Vu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Uu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=ke().then((function(){if(xu()){var t=Fr(),r="__sak"+t;return _u||(_u=new Au),(n=_u).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){q(e.a,(function(e){e(t)}))})),t}))}function ju(){this.a={},this.type="inMemory"}function qu(){if(!function(){var t="Node"==wr();if(!(t=Bu()||t&&No.INTERNAL.node&&No.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==wr())throw new T("internal-error","The LocalStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Bu()||No.INTERNAL.node.localStorage,this.type="localStorage"}function Bu(){try{var t=s.localStorage,e=Fr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Ku(){this.type="nullStorage"}function Gu(){if(!function(){var t="Node"==wr();if(!(t=Yu()||t&&No.INTERNAL.node&&No.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==wr())throw new T("internal-error","The SessionStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Yu()||No.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Yu(){try{var t=s.sessionStorage,e=Fr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Hu(){var t={};t.Browser=Qu,t.Node=$u,t.ReactNative=Xu,t.Worker=Ju,this.a=t[wr()]}wu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];q(r,(function(e){i.push(ke().then((function(){return e(t.origin,t.data.data)})))})),De(i).then((function(r){var i=[];q(r,(function(t){i.push({fulfilled:t.Pb,value:t.value,reason:t.reason?t.reason.message:void 0})})),q(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},Eu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Su.prototype.close=function(){for(;0<this.a.length;)Nu(this,this.a[0]);this.b=!0},(t=Au.prototype).set=function(t,e){var n=this,r=!1;return Cu(this,(function(e){return Mu((e=Ru(Pu(e,!0))).get(t))})).then((function(i){return Cu(n,(function(o){if(o=Ru(Pu(o,!0)),i)return i.value=e,Mu(o.put(i));n.b++,r=!0;var s={};return s.fbase_key=t,s.value=e,Mu(o.add(s))}))})).then((function(){return n.c[t]=e,Lu(n,t)})).oa((function(){r&&n.b--}))},t.get=function(t){return Cu(this,(function(e){return Mu(Ru(Pu(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.U=function(t){var e=this,n=!1;return Cu(this,(function(r){return n=!0,e.b++,Mu(Ru(Pu(r,!0)).delete(t))})).then((function(){return delete e.c[t],Lu(e,t)})).oa((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){function e(){t.f=setTimeout((function(){t.l=Fu(t).then((function(e){0<e.length&&q(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}Vu(t),e()}(this),this.a.push(t)},t.ia=function(t){W(this.a,(function(e){return e==t})),0==this.a.length&&Vu(this)},(t=Uu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.U=function(t){return this.b.then((function(e){return e.U(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){W(this.a,(function(e){return e==t}))},(t=ju.prototype).get=function(t){return ke(this.a[t])},t.set=function(t,e){return this.a[t]=e,ke()},t.U=function(t){return delete this.a[t],ke()},t.ca=function(){},t.ia=function(){},(t=qu.prototype).get=function(t){var e=this;return ke().then((function(){return Lr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return ke().then((function(){var r=Pr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return ke().then((function(){e.a.removeItem(t)}))},t.ca=function(t){s.window&&an(s.window,"storage",t)},t.ia=function(t){s.window&&ln(s.window,"storage",t)},(t=Ku.prototype).get=function(){return ke(null)},t.set=function(){return ke()},t.U=function(){return ke()},t.ca=function(){},t.ia=function(){},(t=Gu.prototype).get=function(t){var e=this;return ke().then((function(){return Lr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return ke().then((function(){var r=Pr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return ke().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Wu,zu,Qu={F:qu,bb:Gu},$u={F:qu,bb:Gu},Xu={F:bu,bb:Ku},Ju={F:qu,bb:Ku},Zu={rd:"local",NONE:"none",td:"session"};function tc(){var t=!(Vr(Nr())||!yr()),e=Rr(),n=Dr();this.m=t,this.h=e,this.l=n,this.a={},Wu||(Wu=new Hu),t=Wu;try{this.g=!ar()&&Kr()||!s.indexedDB?new t.a.F:new Uu(br()?new ju:new t.a.F)}catch(r){this.g=new ju,this.h=!0}try{this.i=new t.a.bb}catch(r){this.i=new ju}this.v=new ju,this.f=b(this.Yb,this),this.b={}}function ec(){return zu||(zu=new tc),zu}function nc(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function rc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function ic(t,e,n){return n=rc(e,n),"local"==e.F&&(t.b[n]=null),nc(t,e.F).U(n)}function oc(t){t.c&&(clearInterval(t.c),t.c=null)}function sc(t){this.a=t,this.b=ec()}(t=tc.prototype).get=function(t,e){return nc(this,t.F).get(rc(t,e))},t.set=function(t,e,n){var r=rc(t,n),i=this,o=nc(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=rc(t,e),this.l&&(this.b[t]=s.localStorage.getItem(t)),ht(this.a)&&(nc(this,"local").ca(this.f),this.h||(ar()||!Kr())&&s.indexedDB||!this.l||function(t){oc(t),t.c=setInterval((function(){for(var e in t.a){var n=s.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Qe({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Yb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=rc(t,e),this.a[t]&&(W(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),ht(this.a)&&(nc(this,"local").ia(this.f),oc(this))},t.Yb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?nc(this,"local").ia(this.f):oc(this),this.m)if(n=s.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?s.localStorage.setItem(e,r):s.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===s.localStorage.getItem(e)||(o.b[e]=s.localStorage.getItem(e),o.mb(e))},Ht&&oe&&10==oe&&s.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else q(t,b(this.mb,this))},t.mb=function(t){this.a[t]&&q(this.a[t],(function(t){t()}))};var ac,uc={name:"authEvent",F:"local"};function cc(){this.a=ec()}function lc(t,e){this.b=hc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===ac&&(ac=s.Int32Array?new Int32Array(yc):yc),this.reset()}_(lc,(function(){this.b=-1}));for(var hc=64,fc=hc-1,dc=[],pc=0;pc<fc;pc++)dc[pc]=0;var vc=z(128,dc);function mc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&l^~c&h)+(0|ac[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+s|0,u=a,a=i,i=r,r=s+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function gc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(mc(t),i=0);else{if(!f(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(mc(t),i=0)}}t.c=i,t.g+=n}lc.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):Q(this.h)};var yc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function bc(){lc.call(this,8,wc)}_(bc,lc);var wc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function _c(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new cc,this.g=new sc(this.h),this.f=null,this.b=[],this.a=this.c=null}function Ic(t){return new T("invalid-cordova-configuration",t)}function Tc(t){var e=new bc;gc(e,t),t=[];var n=8*e.g;56>e.c?gc(e,vc,56-e.c):gc(e,vc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(mc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return K(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function Ec(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function Sc(t){return t.f||(t.f=t.ma().then((function(){return new be((function(e){t.Ea((function n(r){return e(r),t.Sa(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),kc(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=ro(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Lr(Ln(o=Fn(i),"firebaseError")||null))?E(o):null)?new jo(r.c,r.b,null,null,o,null,r.T()):new jo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Ec(t,i)}))}var n=new jo("unknown",null,null,null,new T("no-auth-event")),r=!1,i=En(500).then((function(){return kc(t).then((function(){r||Ec(t,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Ar("BuildInfo.packageName",s).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},Go||(Go=new Bo),function(t){var e=Go;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Ar("universalLinks.subscribe",s))&&t(null,e.b))}(e)}(t)}))}))),t.f}function kc(t){var e=null;return function(t){return t.b.get(uc,t.a).then((function(t){return qo(t)}))}(t.g).then((function(n){return e=n,ic((n=t.g).b,uc,n.a)})).then((function(){return e}))}function Nc(t){this.a=t,this.b=ec()}(t=_c.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(gr(void 0)?mr().then((function(){return new be((function(t,e){var n=s.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Ne(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Ar("universalLinks.subscribe",s))throw Ic("cordova-universal-links-plugin-fix is not installed");if(void 0===Ar("BuildInfo.packageName",s))throw Ic("cordova-plugin-buildinfo is not installed");if("function"!=typeof Ar("cordova.plugins.browsertab.openUrl",s))throw Ic("cordova-plugin-browsertab is not installed");if("function"!=typeof Ar("cordova.InAppBrowser.open",s))throw Ic("cordova-plugin-inappbrowser is not installed")}),(function(){throw new T("cordova-not-ready")}))},t.Ob=function(t,e){return e(new T("operation-not-supported-in-this-environment")),ke()},t.Mb=function(){return Ne(new T("operation-not-supported-in-this-environment"))},t.$b=function(){return!1},t.Xb=function(){return!0},t.Tb=function(){return!0},t.Nb=function(t,e,n,r){if(this.c)return Ne(new T("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,l=null;return this.c=ke().then((function(){return Uo(e),Sc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new jo(e,r,null,o,new T("no-auth-event"),null,i),u=Ar("BuildInfo.packageName",s);if("string"!=typeof u)throw new T("invalid-cordova-configuration");var c=Ar("BuildInfo.displayName",s),l={};if(Nr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Nr().toLowerCase().match(/android/))return Ne(new T("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=Tc(o),l.sessionId=o;var h=yu(t.v,t.i,t.l,e,n,null,r,t.m,l,t.u,i,t.s);return t.ma().then((function(){var e=t.h;return t.C.a.set(uc,a.w(),e)})).then((function(){var e=Ar("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof e)throw new T("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Ar("cordova.plugins.browsertab.openUrl",s)))throw new T("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Ar("cordova.InAppBrowser.open",s)))throw new T("invalid-cordova-configuration");e=Nr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new be((function(t,e){u=function(){var e=Ar("cordova.plugins.browsertab.close",s);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){a||(a=En(2e3).then((function(){e(new T("redirect-cancelled-by-user"))})))},l=function(){qr()&&c()},o.addEventListener("resume",c,!1),Nr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(t){return kc(i).then((function(){throw t}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.Sa(u),i.c=null}))},t.Ea=function(t){this.b.push(t),Sc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new jo("unknown",null,null,null,new T("no-auth-event")),t(e))}))},t.Sa=function(t){W(this.b,(function(e){return e==t}))};var Ac={name:"pendingRedirect",F:"session"};function Dc(t){return ic(t.b,Ac,t.a)}function Oc(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=b(this.s,this),this.b=new Yc,this.C=new $c,this.g=new Nc(Kc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Cc(this.D,this.v,this.m,S,this.J)}function Cc(t,e,n,r,i){var o=No.SDK_VERSION||null;return gr()?new _c(t,e,n,o,r,i):new pu(t,e,n,o,r,i)}function xc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o((function(n){throw t.a==e&&t.reset(),n}))}function Rc(t){t.a.Xb()&&xc(t).o((function(e){var n=new jo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Uc(e)&&t.s(n)})),t.a.Tb()||Hc(t.b)}function Pc(t,e){Y(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Ac,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?Dc(t.g).then((function(){xc(t).o((function(e){var n=new jo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Uc(e)&&t.s(n)}))})):Rc(t)})).o((function(){Rc(t)}))}function Mc(t,e){W(t.h,(function(t){return t==e}))}Oc.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=Cc(this.D,this.v,this.m,null,this.J),this.i={}},Oc.prototype.s=function(t){if(!t)throw new T("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return Hc(this.b),e};var Lc=new jr(2e3,1e4),Fc=new jr(3e4,6e4);function Vc(t,e,n,r,i,o,s){return t.a.Mb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,s)}function Uc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function jc(t,e,n,r,i){var o;return function(t){return t.b.set(Ac,"pending",t.a)}(t.g).then((function(){return t.a.Nb(e,n,r,i).o((function(e){if(Uc(e))throw new T("operation-not-supported-in-this-environment");return o=e,Dc(t.g).then((function(){throw o}))})).then((function(){return t.a.$b()?new be((function(){})):Dc(t.g).then((function(){return t.qa()})).then((function(){})).o((function(){}))}))}))}function qc(t,e,n,r,i){return t.a.Ob(r,(function(t){e.na(n,null,t,i)}),Lc.get())}Oc.prototype.qa=function(){return this.b.qa()};var Bc={};function Kc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Gc(t,e,n,r){var i=Kc(e,n,r);return Bc[i]||(Bc[i]=new Oc(t,e,n,r)),Bc[i]}function Yc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Hc(t){t.g||(t.g=!0,Qc(t,!1,null,null))}function Wc(t){t.g&&!t.i&&Qc(t,!1,null,null)}function zc(t,e){if(t.b=function(){return ke(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Qc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ne(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):zc(t,n):zc(t,{user:null}),t.f=[],t.c=[]}function $c(){}function Xc(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(t){this.ib=t},enumerable:!1})}function Jc(t,e){this.a=e,zr(this,"verificationId",t)}function Zc(t,e,n,r){return new Lo(t).fb(e,n).then((function(t){return new Jc(t,r)}))}function tl(t){var e=Ki(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Qr(this,{token:t,expirationTime:Br(1e3*e.exp),authTime:Br(1e3*e.auth_time),issuedAtTime:Br(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function el(t,e,n){var r=e&&e[rl];if(!r)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=ft(e),this.g=n,this.c=new io(null,r),this.b=[];var i=this;q(e[nl]||[],(function(t){(t=Zr(t))&&i.b.push(t)})),zr(this,"auth",this.a),zr(this,"session",this.c),zr(this,"hints",this.b)}Yc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Yc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Qc(this,!0,null,t.a),ke()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.T(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){Qc(t,a,e,null)})).o((function(e){Qc(t,a,null,e)}))}(this,t,e):Ne(new T("invalid-auth-event")):(Qc(this,!1,null,null),ke())}else Ne(new T("invalid-auth-event"))},Yc.prototype.qa=function(){var t=this;return new be((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new T("timeout");t.a&&t.a.cancel(),t.a=En(Fc.get()).then((function(){t.b||(t.g=!0,Qc(t,!0,null,e))}))}(t))}))},$c.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),ke()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then((function(t){e.na(r,t,null,n)})).o((function(t){e.na(r,null,t,n)}))}(t,e):Ne(new T("invalid-auth-event"))}else Ne(new T("invalid-auth-event"))},Jc.prototype.confirm=function(t){return t=Fo(this.verificationId,t),this.a(t)};var nl="mfaInfo",rl="mfaPendingCredential";function il(t,e,n,r){T.call(this,"multi-factor-auth-required",r,e),this.b=new el(t,e,n),zr(this,"resolver",this.b)}function ol(t,e,n){if(t&&p(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new il(e,t.serverResponse,n,t.message)}catch(r){}return null}function sl(){}function al(t){zr(this,"factorId",t.fa),this.a=t}function ul(t){if(al.call(this,t),this.a.fa!=Lo.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function cl(t,e){for(var n in ze.call(this,t),e)this[n]=e[n]}function ll(t,e){this.a=t,this.b=[],this.c=b(this.yc,this),an(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&q(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ni]=t.uid),t.displayName&&(r[ti]=t.displayName),t.enrollmentTime&&(r[ei]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ri]=t.phoneNumber);try{e=new ii(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),hl(this,n)}function hl(t,e){t.b=e,zr(t,"enrolledFactors",e)}function fl(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function dl(t,e){t.stop(),t.b=En(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then((function(){return function(){var t=s.document,e=null;return qr()||!t?ke():new be((function(n){e=function(){qr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return t.h()})).then((function(){dl(t,!0)})).o((function(e){t.i(e)&&dl(t,!1)}))}function pl(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function vl(t,e){void 0===e&&(t.b?e=(e=t.b).a-e.g:e=0),t.c=Date.now()+1e3*e}function ml(t,e){t.b=Bi(e[Js]||""),t.a=e.refreshToken,vl(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function gl(t,e){return function(t,e){return new be((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?aa(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(ou(t)):t.access_token&&t.refresh_token?n(t):r(new T("internal-error")):r(new T("network-request-failed"))}),"POST",Qn(e).toString(),t.g,t.m.get()):r(new T("internal-error"))}))}(t.f,e).then((function(e){return t.b=Bi(e.access_token),t.a=e.refresh_token,vl(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function yl(t,e){this.a=t||null,this.b=e||null,Qr(this,{lastSignInTime:Br(e||null),creationTime:Br(t||null)})}function bl(t,e,n,r,i,o){Qr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function wl(t,e,n){this.J=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r=No.SDK_VERSION?kr(No.SDK_VERSION):null;this.a=new $s(this.l,D(S),r),t.emulatorConfig&&ia(this.a,t.emulatorConfig),this.b=new pl(this.a),Al(this,e[Js]),ml(this.b,e),zr(this,"refreshToken",this.b.a),Cl(this,n||{}),bn.call(this),this.R=!1,this.s&&Or()&&(this.i=Gc(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(t){return new fl((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.aa=b(this.hb,this);var i=this;this.ya=null,this.Oa=function(t){i.wa(t.h)},this.ja=null,this.Aa=function(t){ia(i.a,t.c)},this.X=null,this.$=[],this.Ba=function(t){Tl(i,t.f)},this.ba=null,this.O=new ll(this,n),zr(this,"multiFactor",this.O)}function _l(t,e){t.ja&&ln(t.ja,"languageCodeChanged",t.Oa),(t.ja=e)&&an(e,"languageCodeChanged",t.Oa)}function Il(t,e){t.X&&ln(t.X,"emulatorConfigChanged",t.Aa),(t.X=e)&&an(e,"emulatorConfigChanged",t.Aa)}function Tl(t,e){t.$=e,sa(t.a,No.SDK_VERSION?kr(No.SDK_VERSION,t.$):null)}function El(t,e){t.ba&&ln(t.ba,"frameworkChanged",t.Ba),(t.ba=e)&&an(e,"frameworkChanged",t.Ba)}function Sl(t){try{return No.app(t.m).auth()}catch(e){throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function kl(t){t.D||t.u.b||(t.u.start(),ln(t,"tokenChanged",t.aa),an(t,"tokenChanged",t.aa))}function Nl(t){ln(t,"tokenChanged",t.aa),t.u.stop()}function Al(t,e){t.za=e,zr(t,"_lat",e)}function Dl(t){for(var e=[],n=0;n<t.S.length;n++)e.push(t.S[n](t));return De(e).then((function(){return t}))}function Ol(t){t.i&&!t.R&&(t.R=!0,Pc(t.i,t))}function Cl(t,e){Qr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new yl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function xl(){}function Rl(t){return ke().then((function(){if(t.D)throw new T("app-deleted")}))}function Pl(t){return K(t.providerData,(function(t){return t.providerId}))}function Ml(t,e){e&&(Ll(t,e.providerId),t.providerData.push(e))}function Ll(t,e){W(t.providerData,(function(t){return t.providerId==e}))}function Fl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&zr(t,e,n)}function Vl(t,e){t!=e&&(Qr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?zr(t,"metadata",function(t){return new yl(t.a,t.b)}(e.metadata)):zr(t,"metadata",new yl),q(e.providerData,(function(e){Ml(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),zr(t,"refreshToken",t.b.a),hl(t.O,e.O.b))}function Ul(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return ru(t.a,Pa,{idToken:e}).then(b(t.Kc,t))}(t,e).then((function(){return n||Fl(t,"isAnonymous",!1),e}))}))}function jl(t,e){e[Js]&&t.za!=e[Js]&&(ml(t.b,e),t.dispatchEvent(new cl("tokenChanged")),Al(t,e[Js]),Fl(t,"refreshToken",t.b.a))}function ql(t,e){return Ul(t).then((function(){if(Y(Pl(t),e))return Dl(t).then((function(){throw new T("provider-already-linked")}))}))}function Bl(t,e,n){return $r({user:t,credential:Vo(e),additionalUserInfo:e=zi(e),operationType:n})}function Kl(t,e){return jl(t,e),t.reload().then((function(){return t}))}function Gl(t,e,n,r,i){if(!Or())return Ne(new T("operation-not-supported-in-this-environment"));if(t.h&&!i)return Ne(t.h);var o=Wi(n.providerId),s=Fr(t.uid+":::"),a=null;(!Rr()||yr())&&t.s&&n.isOAuthProvider&&(a=yu(t.s,t.l,t.m,e,n,null,s,No.SDK_VERSION||null,null,null,t.tenantId));var u=dr(a,o&&o.ua,o&&o.ta);return r=r().then((function(){if(Hl(t),!i)return t.I().then((function(){}))})).then((function(){return Vc(t.i,u,e,n,s,!!a,t.tenantId)})).then((function(){return new be((function(n,r){t.na(e,null,new T("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=s,t.c=qc(t.i,t,e,u,s)}))})).then((function(t){return u&&fr(u),t?$r(t):null})).o((function(t){throw u&&fr(u),t})),Wl(t,r,i)}function Yl(t,e,n,r,i){if(!Or())return Ne(new T("operation-not-supported-in-this-environment"));if(t.h&&!i)return Ne(t.h);var o=null,s=Fr(t.uid+":::");return r=r().then((function(){if(Hl(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=s,Dl(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set($l,t.w(),e.a)),e})).then((function(){return jc(t.i,e,n,s,t.tenantId)})).o((function(e){if(o=e,t.ha)return Xl(t.ha);throw o})).then((function(){if(o)throw o})),Wl(t,r,i)}function Hl(t){if(!t.i||!t.R){if(t.i&&!t.R)throw new T("internal-error");throw new T("auth-domain-config-required")}}function Wl(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),Ne(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new cl("userInvalidated")),t.h=e),e}))}(t,e,n);return t.J.push(r),r.oa((function(){H(t.J,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ol(e.w(),Sl(t),b(t.jc,t))),n||e}))}function zl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Js]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new wl(e,n,t);return t.providerData&&q(t.providerData,(function(t){t&&Ml(i,$r(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Ql(t){this.a=t,this.b=ec()}el.prototype.Rc=function(t){var e=this;return t.sb(this.a.a,this.c).then((function(t){var n=ft(e.f);return delete n[nl],delete n[rl],pt(n,t),e.g(n)}))},_(il,T),sl.prototype.sb=function(t,e,n){return e.type==oo?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),pt(n,{phoneVerificationInfo:Mo(t.a)}),ru(e,xa,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return pt(n={mfaPendingCredential:n},{phoneVerificationInfo:Mo(t.a)}),ru(e,Ra,n)}))}(this,t,e)},_(al,sl),_(ul,al),_(cl,ze),(t=ll.prototype).yc=function(t){hl(this,function(t){var e=[];return q(t.mfaInfo||[],(function(t){(t=Zr(t))&&e.push(t)})),e}(t.hd))},t.Rb=function(){return this.a.I().then((function(t){return new io(t,null)}))},t.fc=function(t,e){var n=this,r=this.a.a;return this.Rb().then((function(n){return t.sb(r,n,e)})).then((function(t){return jl(n.a,t),n.a.reload()}))},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return ru(r,nu,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=B(e.b,(function(t){return t.uid!=n}));return hl(e,r),jl(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:K(this.b,(function(t){return t.w()}))}}},fl.prototype.start=function(){this.a=this.c,dl(this,!0)},fl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},pl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},pl.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ne(new T("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?gl(this,{grant_type:"refresh_token",refresh_token:this.a}):ke(null):ke({accessToken:this.b.toString(),refreshToken:this.a})},yl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},_(wl,bn),wl.prototype.wa=function(t){this.ya=t,ra(this.a,t)},wl.prototype.la=function(){return this.ya},wl.prototype.Ga=function(){return Q(this.$)},wl.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},zr(wl.prototype,"providerId","firebase"),(t=wl.prototype).reload=function(){var t=this;return Wl(this,Rl(this).then((function(){return Ul(t).then((function(){return Dl(t)})).then(xl)})))},t.oc=function(t){return this.I(t).then((function(t){return new tl(t)}))},t.I=function(t){var e=this;return Wl(this,Rl(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new T("internal-error");return t.accessToken!=e.za&&(Al(e,t.accessToken),e.dispatchEvent(new cl("tokenChanged"))),Fl(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new T("internal-error");Cl(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?K(t,(function(t){return new bl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Ml(this,e[n]);Fl(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new cl("userReloaded",{hd:t}))},t.Lc=function(t){return Hr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(t)},t.tb=function(t){var e=this,n=null;return Wl(this,t.c(this.a,this.uid).then((function(t){return jl(e,t),n=Bl(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},t.Cc=function(t){return Hr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(t)},t.qb=function(t){var e=this,n=null;return Wl(this,ql(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Bl(e,t,"link"),Kl(e,t)})).then((function(){return n})))},t.Dc=function(t,e){var n=this;return Wl(this,ql(this,"phone").then((function(){return Zc(Sl(n),t,e,b(n.qb,n))})))},t.Mc=function(t,e){var n=this;return Wl(this,ke().then((function(){return Zc(Sl(n),t,e,b(n.tb,n))})),!0)},t.Bb=function(t){var e=this;return Wl(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return jl(e,t),e.reload()})))},t.ed=function(t){var e=this;return Wl(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return jl(e,t),e.reload()})))},t.Cb=function(t){var e=this;return Wl(this,this.I().then((function(n){return e.a.Cb(n,t)})).then((function(t){return jl(e,t),e.reload()})))},t.Db=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Rl(this);var e=this;return Wl(this,this.I().then((function(n){return e.a.Db(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return jl(e,t),Fl(e,"displayName",t.displayName||null),Fl(e,"photoURL",t.photoUrl||null),q(e.providerData,(function(t){"password"===t.providerId&&(zr(t,"displayName",e.displayName),zr(t,"photoURL",e.photoURL))})),Dl(e)})).then(xl))},t.cd=function(t){var e=this;return Wl(this,Ul(this).then((function(n){return Y(Pl(e),t)?function(t,e,n){return ru(t,Da,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return q(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),q(Pl(e),(function(t){n[t]||Ll(e,t)})),n[Lo.PROVIDER_ID]||zr(e,"phoneNumber",null),Dl(e)})):Dl(e).then((function(){throw new T("no-such-provider")}))})))},t.delete=function(){var t=this;return Wl(this,this.I().then((function(e){return ru(t.a,Aa,{idToken:e})})).then((function(){t.dispatchEvent(new cl("userDeleted"))}))).then((function(){for(var e=0;e<t.J.length;e++)t.J[e].cancel("app-deleted");_l(t,null),Il(t,null),El(t,null),t.J=[],t.D=!0,Nl(t),zr(t,"refreshToken",null),t.i&&Mc(t.i,t)}))},t.Fb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?b(this.Kb,this):"reauthViaPopup"==t&&e==(this.g||null)?b(this.Lb,this):"linkViaRedirect"==t&&(this.ga||null)==e?b(this.Kb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?b(this.Lb,this):null},t.Ec=function(t){var e=this;return Gl(this,"linkViaPopup",t,(function(){return ql(e,t.providerId).then((function(){return Dl(e)}))}),!1)},t.Nc=function(t){return Gl(this,"reauthViaPopup",t,(function(){return ke()}),!0)},t.Fc=function(t){var e=this;return Yl(this,"linkViaRedirect",t,(function(){return ql(e,t.providerId)}),!1)},t.Oc=function(t){return Yl(this,"reauthViaRedirect",t,(function(){return ke()}),!0)},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Wl(this,this.I().then((function(n){return _a(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Bl(i,t,"link"),Kl(i,t)})).then((function(){return o})))},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Wl(this,ke().then((function(){return uo(Ia(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Bl(i,t,"reauthenticate"),jl(i,t),i.h=null,i.reload()})).then((function(){return o})),!0)},t.ub=function(t){var e=this,n=null;return Wl(this,this.I().then((function(e){return n=e,void 0===t||ht(t)?{}:Vi(new Ai(t))})).then((function(t){return e.a.ub(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Eb=function(t,e){var n=this,r=null;return Wl(this,this.I().then((function(t){return r=t,void 0===e||ht(e)?{}:Vi(new Ai(e))})).then((function(e){return n.a.Eb(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.jc=function(t){var e=null,n=this;return Wl(this,t=uo(ke(t),n.uid).then((function(t){return e=Bl(n,t,"reauthenticate"),jl(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&pt(t,this.metadata.w()),q(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),pt(t,this.O.w()),t};var $l={name:"redirectUser",F:"session"};function Xl(t){return ic(t.b,$l,t.a)}function Jl(t){this.a=t,this.b=ec(),this.c=null,this.f=function(t){var e=eh("local"),n=eh("session"),r=eh("none");return function(t,e,n){var r=rc(e,n),i=nc(t,e.F);return t.get(e,n).then((function(o){var a=null;try{a=Lr(s.localStorage.getItem(r))}catch(u){}if(a&&!o)return s.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(th,t.a).then((function(t){return t?eh(t):e}))}))}))})).then((function(e){return t.c=e,Zl(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(eh("local"),this.a,b(this.g,this))}function Zl(t,e){var n,r=[];for(n in Zu)Zu[n]!==e&&r.push(ic(t.b,eh(Zu[n]),t.a));return r.push(ic(t.b,th,t.a)),function(t){return new be((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)Ae(t[a],w(o,a),s);else e(i)}))}(r)}Jl.prototype.g=function(){var t=this,e=eh("local");oh(this,(function(){return ke().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Zl(t,"local").then((function(){t.c=e}))}))}))};var th={name:"persistence",F:"session"};function eh(t){return{name:"authUser",F:t}}function nh(t,e){return oh(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function rh(t){return oh(t,(function(){return ic(t.b,t.c,t.a)}))}function ih(t,e,n){return oh(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),zl(t||{})}))}))}function oh(t,e){return t.f=t.f.then(e,e),t.f}function sh(t){if(this.l=!1,zr(this,"settings",new Xc),zr(this,"app",t),!vh(this).options||!vh(this).options.apiKey)throw new T("invalid-api-key");t=No.SDK_VERSION?kr(No.SDK_VERSION):null,this.a=new $s(vh(this).options&&vh(this).options.apiKey,D(S),t),this.R=[],this.s=[],this.O=[],this.hb=No.INTERNAL.createSubscribe(b(this.zc,this)),this.X=void 0,this.bc=No.INTERNAL.createSubscribe(b(this.Ac,this)),dh(this,null),this.i=new Jl(vh(this).options.apiKey+":"+vh(this).name),this.D=new Ql(vh(this).options.apiKey+":"+vh(this).name),this.$=bh(this,function(t){var e=vh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get($l,t.a).then((function(t){return t&&e&&(t.authDomain=e),zl(t||{})}))}(t.D,vh(t).options.authDomain).then((function(e){return(t.m=e)&&(e.ha=t.D),Xl(t.D)}));return bh(t,e)}(t).then((function(){return ih(t.i,e,t.P)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return nh(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:rh(t.i)}))):null})).then((function(e){dh(t,e||null)}));return bh(t,n)}(this)),this.h=bh(this,function(t){return t.$.then((function(){return hh(t)})).o((function(){})).then((function(){if(!t.l)return t.ja()})).o((function(){})).then((function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(eh("local"),e.a,t.ja)}}))}(this)),this.ba=!1,this.ja=b(this.Zc,this),this.Ba=b(this.da,this),this.ya=b(this.mc,this),this.za=b(this.wc,this),this.Aa=b(this.xc,this),this.b=null,function(t){var e=vh(t).options.authDomain,n=vh(t).options.apiKey;e&&Or()&&(t.Oa=t.$.then((function(){if(!t.l){if(t.b=Gc(e,n,vh(t).name,t.P),Pc(t.b,t),mh(t)&&Ol(mh(t)),t.m){Ol(t.m);var r=t.m;r.wa(t.la()),_l(r,t),Tl(r=t.m,t.J),El(r,t),ia((r=t.m).a,t.P),Il(r,t),t.m=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Gc,this),this.u=0,bn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.yb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.P){var t=Fn(this.P.url);t=$r({protocol:t.c,host:t.a,port:t.g,options:$r({disableWarnings:this.P.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.P=null}function ah(t){ze.call(this,"languageCodeChanged"),this.h=t}function uh(t){ze.call(this,"emulatorConfigChanged"),this.c=t}function ch(t){ze.call(this,"frameworkChanged"),this.f=t}function lh(t){return t.Oa||Ne(new T("auth-domain-config-required"))}function hh(t){if(!Or())return Ne(new T("operation-not-supported-in-this-environment"));var e=lh(t).then((function(){return t.b.qa()})).then((function(t){return t?$r(t):null}));return bh(t,e)}function fh(t,e){var n={};return n.apiKey=vh(t).options.apiKey,n.authDomain=vh(t).options.authDomain,n.appName=vh(t).name,t.P&&(n.emulatorConfig=t.P),t.$.then((function(){return function(t,e,n,r){var i=new wl(t,e);return n&&(i.ha=n),r&&Tl(i,r),i.reload().then((function(){return i}))}(n,e,t.D,t.Ga())})).then((function(e){return mh(t)&&e.uid==mh(t).uid?(Vl(mh(t),e),t.da(e)):(dh(t,e),Ol(e),t.da(e))})).then((function(){yh(t)}))}function dh(t,e){mh(t)&&(function(t,e){W(t.S,(function(t){return t==e}))}(mh(t),t.Ba),ln(mh(t),"tokenChanged",t.ya),ln(mh(t),"userDeleted",t.za),ln(mh(t),"userInvalidated",t.Aa),Nl(mh(t))),e&&(e.S.push(t.Ba),an(e,"tokenChanged",t.ya),an(e,"userDeleted",t.za),an(e,"userInvalidated",t.Aa),0<t.u&&kl(e)),zr(t,"currentUser",e),e&&(e.wa(t.la()),_l(e,t),Tl(e,t.J),El(e,t),ia(e.a,t.P),Il(e,t))}function ph(t,e){var n=null,r=null;return bh(t,e.then((function(e){return n=Vo(e),r=zi(e),fh(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ol(e.w(),t,b(t.kc,t))),n||e})).then((function(){return $r({user:mh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function vh(t){return t.app}function mh(t){return t.currentUser}function gh(t){return mh(t)&&mh(t)._lat||null}function yh(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](gh(t));if(t.X!==t.getUid()&&t.O.length)for(t.X=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](gh(t))}}function bh(t,e){return t.R.push(e),e.oa((function(){H(t.R,e)})),e}function wh(){}function _h(){this.a={},this.b=1e12}Jl.prototype.xb=function(t){var e=null,n=this;return function(t){var e=new T("invalid-persistence-type"),n=new T("unsupported-persistence-type");t:{for(r in Zu)if(Zu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(wr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!xu()&&"none"!==t)throw n;break;default:if(!Dr()&&"none"!==t)throw n}}(t),oh(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,Zl(n,t)})).then((function(){if(n.c=eh(t),e)return n.b.set(n.c,e,n.a)})):ke()}))},_(sh,bn),_(ah,ze),_(uh,ze),_(ch,ze),(t=sh.prototype).xb=function(t){return bh(this,t=this.i.xb(t))},t.wa=function(t){this.aa===t||this.l||(this.aa=t,ra(this.a,this.aa),this.dispatchEvent(new ah(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=s.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.P){if(!/^https?:\/\//.test(t))throw new T("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!t&&mr().then((function(){var t=s.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#b50000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),s.document.body.appendChild(t)}))})(e=!!e&&!!e.disableWarnings),this.P={url:t,ec:e},this.settings.ib=!0,ia(this.a,this.P),this.dispatchEvent(new uh(this.P))}},t.Gc=function(t){this.J.push(t),sa(this.a,No.SDK_VERSION?kr(No.SDK_VERSION,this.J):null),this.dispatchEvent(new ch(this.J))},t.Ga=function(){return Q(this.J)},t.yb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:vh(this).options.apiKey,authDomain:vh(this).options.authDomain,appName:vh(this).name,currentUser:mh(this)&&mh(this).w()}},t.Fb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?b(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return ph(i,wa(i.a,o))}))},t.Xc=function(t){if(!Or())return Ne(new T("operation-not-supported-in-this-environment"));var e=this,n=Wi(t.providerId),r=Fr(),i=null;(!Rr()||yr())&&vh(this).options.authDomain&&t.isOAuthProvider&&(i=yu(vh(this).options.authDomain,vh(this).options.apiKey,vh(this).name,"signInViaPopup",t,null,r,No.SDK_VERSION||null,null,null,this.T(),this.P));var o=dr(i,n&&n.ua,n&&n.ta);return bh(this,n=lh(this).then((function(n){return Vc(n,o,"signInViaPopup",t,r,!!i,e.T())})).then((function(){return new be((function(t,n){e.na("signInViaPopup",null,new T("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=r,e.c=qc(e.b,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&fr(o),t?$r(t):null})).o((function(t){throw o&&fr(o),t})))},t.Yc=function(t){if(!Or())return Ne(new T("operation-not-supported-in-this-environment"));var e=this;return bh(this,lh(this).then((function(){return function(t){return oh(t,(function(){return t.b.set(th,t.c.F,t.a)}))}(e.i)})).then((function(){return jc(e.b,"signInViaRedirect",t,void 0,e.T())})))},t.qa=function(){var t=this;return hh(this).then((function(e){return t.b&&Wc(t.b.b),e})).o((function(e){throw t.b&&Wc(t.b.b),e}))},t.dd=function(t){if(!t)return Ne(new T("null-user"));if(this.S!=t.tenantId)return Ne(new T("tenant-id-mismatch"));var e=this,n={};n.apiKey=vh(this).options.apiKey,n.authDomain=vh(this).options.authDomain,n.appName=vh(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Js]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new wl(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&Tl(e,r),Vl(e,t),e}(t,n,e.D,e.Ga());return bh(this,this.h.then((function(){if(vh(e).options.apiKey!=t.l)return r.reload()})).then((function(){return mh(e)&&t.uid==mh(e).uid?(Vl(mh(e),t),e.da(t)):(dh(e,r),Ol(r),e.da(r))})).then((function(){yh(e)})))},t.Ab=function(){var t=this;return bh(this,this.h.then((function(){return t.b&&Wc(t.b.b),mh(t)?(dh(t,null),rh(t.i).then((function(){yh(t)}))):ke()})))},t.Zc=function(){var t=this;return ih(this.i,vh(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=mh(t)&&e){n=mh(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Vl(mh(t),e),mh(t).I();(mh(t)||e)&&(dh(t,e),e&&(Ol(e),e.ha=t.D),t.b&&Pc(t.b,t),yh(t))}}))},t.da=function(t){return nh(this.i,t)},t.mc=function(){yh(this),this.da(mh(this))},t.wc=function(){this.Ab()},t.xc=function(){this.Ab()},t.kc=function(t){var e=this;return this.h.then((function(){return ph(e,ke(t))}))},t.zc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(mh(e))}))},t.Ac=function(t){var e=this;!function(t,e){t.O.push(e),bh(t,t.h.then((function(){!t.l&&Y(t.O,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(gh(t)))})))}(this,(function(){t.next(mh(e))}))},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(mh(r)):"function"==typeof t.next&&t.next(mh(r))})),this.hb(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof t?t(mh(r)):"function"==typeof t.next&&t.next(mh(r))})),this.bc(t,e,n)},t.nc=function(t){var e=this;return bh(this,this.h.then((function(){return mh(e)?mh(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Tc=function(t){var e=this;return this.h.then((function(){return ph(e,ru(e.a,Xa,{token:t}))})).then((function(t){var n=t.user;return Fl(n,"isAnonymous",!1),e.da(n),t}))},t.Uc=function(t,e){var n=this;return this.h.then((function(){return ph(n,ru(n.a,Ja,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return ph(n,ru(n.a,ka,{email:t,password:e}))}))},t.$a=function(t){var e=this;return this.h.then((function(){return ph(e,t.ka(e.a))}))},t.Sc=function(t){return Hr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(t)},t.zb=function(){var t=this;return this.h.then((function(){var e=mh(t);if(e&&e.isAnonymous){var n=$r({providerId:null,isNewUser:!1});return $r({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return ph(t,t.a.zb()).then((function(e){var n=e.user;return Fl(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return mh(this)&&mh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&mh(this)&&kl(mh(this))},t.Pc=function(t){var e=this;q(this.s,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&mh(this)&&Nl(mh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),bh(this,this.h.then((function(){e.l||Y(e.s,t)&&t(gh(e))})))},t.removeAuthTokenListener=function(t){W(this.s,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.i&&(t=this.i).b.removeListener(eh("local"),t.a,this.ja),this.b&&(Mc(this.b,this),Wc(this.b.b)),Promise.resolve()},t.hc=function(t){return bh(this,function(t,e){return ru(t,Na,{identifier:e,continueUri:Cr()?ur():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Bc=function(t){return!!xo(t)},t.wb=function(t,e){var n=this;return bh(this,ke().then((function(){var t=new Ai(e);if(!t.c)throw new T("argument-error",Ci+" must be true when sending sign in link to email");return Vi(t)})).then((function(e){return n.a.wb(t,e)})).then((function(){})))},t.jd=function(t){return this.Ra(t).then((function(t){return t.data.email}))},t.nb=function(t,e){return bh(this,this.a.nb(t,e).then((function(){})))},t.Ra=function(t){return bh(this,this.a.Ra(t).then((function(t){return new oi(t)})))},t.jb=function(t){return bh(this,this.a.jb(t).then((function(){})))},t.vb=function(t,e){var n=this;return bh(this,ke().then((function(){return void 0===e||ht(e)?{}:Vi(new Ai(e))})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},t.Wc=function(t,e){return bh(this,Zc(this,t,e,b(this.$a,this)))},t.Vc=function(t,e){var n=this;return bh(this,ke().then((function(){var r=e||ur(),i=Co(t,r);if(!(r=xo(r)))throw new T("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new T("tenant-id-mismatch");return n.$a(i)})))},wh.prototype.render=function(){},wh.prototype.reset=function(){},wh.prototype.getResponse=function(){},wh.prototype.execute=function(){};var Ih=null;function Th(t,e){return(e=Eh(e))&&t.a[e]||null}function Eh(t){return(t=void 0===t?1e12:t)?t.toString():null}function Sh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ae(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():an(this.f,"click",this.i)}function kh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Nh(){}function Ah(){}_h.prototype.render=function(t,e){return this.a[this.b.toString()]=new Sh(t,e),this.b++},_h.prototype.reset=function(t){var e=Th(this,t);t=Eh(t),e&&t&&(e.delete(),delete this.a[t])},_h.prototype.getResponse=function(t){return(t=Th(this,t))?t.getResponse():null},_h.prototype.execute=function(t){(t=Th(this,t))&&t.execute()},Sh.prototype.getResponse=function(){return kh(this),this.b},Sh.prototype.execute=function(){kh(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},Sh.prototype.delete=function(){kh(this),this.g=!0,clearTimeout(this.a),this.a=null,ln(this.f,"click",this.i)},zr(Nh,"FACTOR_ID","phone"),Ah.prototype.g=function(){return Ih||(Ih=new _h),ke(Ih)},Ah.prototype.c=function(){};var Dh=null;function Oh(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Ch=new mt(wt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),xh=new jr(3e4,6e4);Oh.prototype.g=function(t){var e=this;return new be((function(n,r){var i=setTimeout((function(){r(new T("network-request-failed"))}),xh.get());!s.grecaptcha||t!==e.f&&!e.b?(s[e.a]=function(){if(s.grecaptcha){e.f=t;var o=s.grecaptcha.render;s.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new T("internal-error"));delete s[e.a]},ke(Ks(Et(Ch,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},Oh.prototype.c=function(){this.b--};var Rh=null;function Ph(t,e,n,r,i,o,a){if(zr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=e,this.g=null,a?(Dh||(Dh=new Ah),a=Dh):(Rh||(Rh=new Oh),a=Rh),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Fh])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Vh],!s.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ae(e)||!this.i&&ae(e).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new $s(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Mh];this.a[Mh]=function(t){if(Uh(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Ar(c,s);"function"==typeof e&&e(t)}};var l=this.a[Lh];this.a[Lh]=function(){if(Uh(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=Ar(l,s);"function"==typeof t&&t()}}}var Mh="callback",Lh="expired-callback",Fh="sitekey",Vh="size";function Uh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function jh(t,e){return t.h.push(e),e.oa((function(){H(t.h,e)})),e}function qh(t){if(t.D)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}function Bh(t,e,n){var r=!1;try{this.b=n||No.app()}catch(s){throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new T("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(s){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}o=No.SDK_VERSION?kr(No.SDK_VERSION,o):null,Ph.call(this,n,t,e,(function(){try{var t=i.b.auth().la()}catch(e){t=null}return t}),o,D(S),r)}function Kh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Gh.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");n=Gh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new T("argument-error",t+" failed: "+r)}(t=Ph.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=jh(this,ke().then((function(){if(Cr()&&!br())return mr();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.u())})).then((function(e){return t.g=e,ru(t.s,ja,{})})).then((function(e){t.a[Fh]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){qh(this);var t=this;return jh(this,this.Ia().then((function(){if(null===t.c){var e=t.v;if(!t.i){var n=ae(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!se&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',qt(s.name),'"'),s.type){o.push(' type="',qt(s.type),'"');var a={};pt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=de(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ue(o,s)),2<r.length&&fe(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){qh(this);var t=this;return jh(this,this.render().then((function(e){return new be((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){W(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){qh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){qh(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ae(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},_(Bh,Ph);var Gh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Yh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function Hh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function Wh(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:p}}function zh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function Qh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function $h(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ka||!n)}}}function Xh(t,e){return p(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Jh(t){return p(t)&&"string"==typeof t.uid}function Zh(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function tf(t,e){for(var n in e){var r=e[n].name;t[r]=rf(r,t[n],e[n].j)}}function ef(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:w((function(t){return this[t]}),n),set:w((function(t,e,n,r){Kh(t,[n],[r],!0),this[e]=r}),r,n,e[n].kb),enumerable:!0})}}function nf(t,e,n,r){t[e]=rf(e,n,r)}function rf(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Kh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}tf(sh.prototype,{jb:{name:"applyActionCode",j:[Yh("code")]},Ra:{name:"checkActionCode",j:[Yh("code")]},nb:{name:"confirmPasswordReset",j:[Yh("code"),Yh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Yh("email"),Yh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Yh("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Yh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Zh(Wh(),zh(),"nextOrObserver"),zh("opt_error",!0),zh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Zh(Wh(),zh(),"nextOrObserver"),zh("opt_error",!0),zh("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[Yh("email"),Zh(Wh("opt_actionCodeSettings",!0),Qh(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[Yh("email"),Wh("actionCodeSettings")]},xb:{name:"setPersistence",j:[Yh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[$h()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[$h()]},Tc:{name:"signInWithCustomToken",j:[Yh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Yh("email"),Yh("password")]},Vc:{name:"signInWithEmailLink",j:[Yh("email"),Yh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Yh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Zh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof wl)}},Qh(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Yh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Yh("url"),Wh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Yh("code")]}}),ef(sh.prototype,{lc:{name:"languageCode",kb:Zh(Yh(),Qh(),"languageCode")},ti:{name:"tenantId",kb:Zh(Yh(),Qh(),"tenantId")}}),sh.Persistence=Zu,sh.Persistence.LOCAL="local",sh.Persistence.SESSION="session",sh.Persistence.NONE="none",tf(wl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Hh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Hh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[$h()]},qb:{name:"linkWithCredential",j:[$h()]},Dc:{name:"linkWithPhoneNumber",j:[Yh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[$h()]},tb:{name:"reauthenticateWithCredential",j:[$h()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Yh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Zh(Wh("opt_actionCodeSettings",!0),Qh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Yh(null,!0)]},cd:{name:"unlink",j:[Yh("provider")]},Bb:{name:"updateEmail",j:[Yh("email")]},Cb:{name:"updatePassword",j:[Yh("password")]},ed:{name:"updatePhoneNumber",j:[$h("phone")]},Db:{name:"updateProfile",j:[Wh("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[Yh("email"),Zh(Wh("opt_actionCodeSettings",!0),Qh(null,!0),"opt_actionCodeSettings",!0)]}}),tf(_h.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),tf(wh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),tf(be.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),ef(Xc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Hh("appVerificationDisabledForTesting")}}),tf(Jc.prototype,{confirm:{name:"confirm",j:[Yh("verificationCode")]}}),nf(ao,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[vo,Do,Po,ho],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Zh(Yh(),Wh(),"json")]),nf(Oo,"credential",(function(t,e){return new Ao(t,e)}),[Yh("email"),Yh("password")]),tf(Ao.prototype,{w:{name:"toJSON",j:[Yh(null,!0)]}}),tf(bo.prototype,{Ca:{name:"addScope",j:[Yh("scope")]},Ka:{name:"setCustomParameters",j:[Wh("customOAuthParameters")]}}),nf(bo,"credential",wo,[Zh(Yh(),Wh(),"token")]),nf(Oo,"credentialWithLink",Co,[Yh("email"),Yh("emailLink")]),tf(_o.prototype,{Ca:{name:"addScope",j:[Yh("scope")]},Ka:{name:"setCustomParameters",j:[Wh("customOAuthParameters")]}}),nf(_o,"credential",Io,[Zh(Yh(),Wh(),"token")]),tf(To.prototype,{Ca:{name:"addScope",j:[Yh("scope")]},Ka:{name:"setCustomParameters",j:[Wh("customOAuthParameters")]}}),nf(To,"credential",Eo,[Zh(Yh(),Zh(Wh(),Qh()),"idToken"),Zh(Yh(),Qh(),"accessToken",!0)]),tf(So.prototype,{Ka:{name:"setCustomParameters",j:[Wh("customOAuthParameters")]}}),nf(So,"credential",ko,[Zh(Yh(),Wh(),"token"),Yh("secret",!0)]),tf(yo.prototype,{Ca:{name:"addScope",j:[Yh("scope")]},credential:{name:"credential",j:[Zh(Yh(),Zh(Wh(),Qh()),"optionsOrIdToken"),Zh(Yh(),Qh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Wh("customOAuthParameters")]}}),tf(fo.prototype,{w:{name:"toJSON",j:[Yh(null,!0)]}}),tf(co.prototype,{w:{name:"toJSON",j:[Yh(null,!0)]}}),nf(Lo,"credential",Fo,[Yh("verificationId"),Yh("verificationCode")]),tf(Lo.prototype,{fb:{name:"verifyPhoneNumber",j:[Zh(Yh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Xh(t.session,oo)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Xh(t.session,so)&&Jh(t.multiFactorHint):t.session&&t.multiFactorUid?Xh(t.session,so)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),tf(Ro.prototype,{w:{name:"toJSON",j:[Yh(null,!0)]}}),tf(T.prototype,{toJSON:{name:"toJSON",j:[Yh(null,!0)]}}),tf(Ho.prototype,{toJSON:{name:"toJSON",j:[Yh(null,!0)]}}),tf(Yo.prototype,{toJSON:{name:"toJSON",j:[Yh(null,!0)]}}),tf(il.prototype,{toJSON:{name:"toJSON",j:[Yh(null,!0)]}}),tf(el.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}}]}}),tf(ll.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}},Yh("displayName",!0)]},bd:{name:"unenroll",j:[Zh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Jh},Yh(),"multiFactorInfoIdentifier")]}}),tf(Bh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),nf(bi,"parseLink",Ni,[Yh("link")]),nf(Nh,"assertion",(function(t){return new ul(t)}),[$h("phone")]),function(){if(void 0===No||!No.INTERNAL||!No.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ai,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:si,VERIFY_AND_CHANGE_EMAIL:ui,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:sh,AuthCredential:ao,Error:T};nf(t,"EmailAuthProvider",Oo,[]),nf(t,"FacebookAuthProvider",bo,[]),nf(t,"GithubAuthProvider",_o,[]),nf(t,"GoogleAuthProvider",To,[]),nf(t,"TwitterAuthProvider",So,[]),nf(t,"OAuthProvider",yo,[Yh("providerId")]),nf(t,"SAMLAuthProvider",go,[Yh("providerId")]),nf(t,"PhoneAuthProvider",Lo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof sh)}}]),nf(t,"RecaptchaVerifier",Bh,[Zh(Yh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Wh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof No.app.App)}}]),nf(t,"ActionCodeURL",bi,[]),nf(t,"PhoneMultiFactorGenerator",Nh,[]),No.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new sh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),No.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:b((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:b(t.nc,t),addAuthTokenListener:b(t.cc,t),removeAuthTokenListener:b(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),No.registerVersion("@firebase/auth","0.16.6"),No.INTERNAL.extendNamespace({User:wl})}()}.apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var Ha=function(t,e){return(Ha=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Wa(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var za,Qa="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},$a=$a||{},Xa=Qa||self;function Ja(){}function Za(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function tu(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var eu="closure_uid_"+(1e9*Math.random()>>>0),nu=0;function ru(t,e,n){return t.call.apply(t.bind,arguments)}function iu(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function ou(t,e,n){return(ou=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ru:iu).apply(null,arguments)}function su(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function au(){return Date.now()}function uu(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function cu(){this.j=this.j,this.i=this.i}cu.prototype.j=!1,cu.prototype.ja=function(){var t;!this.j&&(this.j=!0,this.G(),0)&&(t=this,Object.prototype.hasOwnProperty.call(t,eu)&&t[eu]||(t[eu]=++nu))},cu.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var lu=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},hu=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function fu(t){return Array.prototype.concat.apply([],arguments)}function du(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function pu(t){return/^[\s\xa0]*$/.test(t)}var vu,mu=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function gu(t,e){return-1!=t.indexOf(e)}function yu(t,e){return t<e?-1:t>e?1:0}t:{var bu=Xa.navigator;if(bu){var wu=bu.userAgent;if(wu){vu=wu;break t}}vu=""}function _u(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Iu(t){var e={};for(var n in t)e[n]=t[n];return e}var Tu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Eu(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Tu.length;o++)n=Tu[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Su(t){return Su[" "](t),t}Su[" "]=Ja;var ku,Nu,Au=gu(vu,"Opera"),Du=gu(vu,"Trident")||gu(vu,"MSIE"),Ou=gu(vu,"Edge"),Cu=Ou||Du,xu=gu(vu,"Gecko")&&!(gu(vu.toLowerCase(),"webkit")&&!gu(vu,"Edge"))&&!(gu(vu,"Trident")||gu(vu,"MSIE"))&&!gu(vu,"Edge"),Ru=gu(vu.toLowerCase(),"webkit")&&!gu(vu,"Edge");function Pu(){var t=Xa.document;return t?t.documentMode:void 0}t:{var Mu="",Lu=(Nu=vu,xu?/rv:([^\);]+)(\)|;)/.exec(Nu):Ou?/Edge\/([\d\.]+)/.exec(Nu):Du?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Nu):Ru?/WebKit\/(\S+)/.exec(Nu):Au?/(?:Version)[ \/]?(\S+)/.exec(Nu):void 0);if(Lu&&(Mu=Lu?Lu[1]:""),Du){var Fu=Pu();if(null!=Fu&&Fu>parseFloat(Mu)){ku=String(Fu);break t}}ku=Mu}var Vu,Uu={};function ju(t){return function(t,e){var n=Uu;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=mu(String(ku)).split("."),r=mu(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=yu(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||yu(0==s[2].length,0==a[2].length)||yu(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}if(Xa.document&&Du){var qu=Pu();Vu=qu||(parseInt(ku,10)||void 0)}else Vu=void 0;var Bu=Vu,Ku=!Du||9<=Number(Bu),Gu=Du&&!ju("9"),Yu=function(){if(!Xa.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Xa.addEventListener("test",Ja,e),Xa.removeEventListener("test",Ja,e)}catch(n){}return t}();function Hu(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Wu(t,e){if(Hu.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(xu){t:{try{Su(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:zu[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Hu.prototype.b=function(){this.defaultPrevented=!0},uu(Wu,Hu);var zu={2:"touch",3:"pen",4:"mouse"};Wu.prototype.b=function(){Wu.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Gu)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Qu="closure_listenable_"+(1e6*Math.random()|0),$u=0;function Xu(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++$u,this.Y=this.Z=!1}function Ju(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Zu(t){this.src=t,this.a={},this.b=0}function tc(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=lu(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Ju(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ec(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Zu.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=ec(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Xu(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var nc="closure_lm_"+(1e6*Math.random()|0),rc={};function ic(t,e,n,r,i){if(r&&r.once)return sc(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)ic(t,e[o],n,r,i);return null}return n=pc(n),t&&t[Qu]?t.va(e,n,tu(r)?!!r.capture:!!r,i):oc(t,e,n,!1,r,i)}function oc(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=tu(i)?!!i.capture:!!i;if(s&&!Ku)return null;var a=fc(t);if(a||(t[nc]=a=new Zu(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=hc,e=Ku?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Yu||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(cc(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function sc(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)sc(t,e[o],n,r,i);return null}return n=pc(n),t&&t[Qu]?t.wa(e,n,tu(r)?!!r.capture:!!r,i):oc(t,e,n,!0,r,i)}function ac(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)ac(t,e[o],n,r,i);else r=tu(r)?!!r.capture:!!r,n=pc(n),t&&t[Qu]?(t=t.c,(e=String(e).toString())in t.a&&(-1<(n=ec(o=t.a[e],n,r,i))&&(Ju(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=fc(t))&&(e=t.a[e.toString()],t=-1,e&&(t=ec(e,n,r,i)),(n=-1<t?e[t]:null)&&uc(n))}function uc(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Qu])tc(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(cc(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=fc(e))?(tc(n,t),0==n.b&&(n.src=null,e[nc]=null)):Ju(t)}}}function cc(t){return t in rc?rc[t]:rc[t]="on"+t}function lc(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&uc(t),n.call(r,e)}function hc(t,e){if(t.Y)return!0;if(!Ku){if(!e)t:{e=["window","event"];for(var n=Xa,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return lc(t,e=new Wu(e,this))}return lc(t,new Wu(e,this))}function fc(t){return(t=t[nc])instanceof Zu?t:null}var dc="__closure_events_fn_"+(1e9*Math.random()>>>0);function pc(t){return"function"==typeof t?t:(t[dc]||(t[dc]=function(e){return t.handleEvent(e)}),t[dc])}function vc(){cu.call(this),this.c=new Zu(this),this.J=this,this.C=null}function mc(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Hu(e,t);else if(e instanceof Hu)e.target=e.target||t;else{var i=e;Eu(e=new Hu(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=gc(s,r,!0,e)&&i}if(i=gc(s=e.a=t,r,!0,e)&&i,i=gc(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=gc(s=e.a=n[o],r,!1,e)&&i}function gc(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&tc(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}uu(vc,cu),vc.prototype[Qu]=!0,(za=vc.prototype).addEventListener=function(t,e,n,r){ic(this,t,e,n,r)},za.removeEventListener=function(t,e,n,r){ac(this,t,e,n,r)},za.G=function(){if(vc.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ju(n[r]);delete e.a[t],e.b--}}this.C=null},za.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},za.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var yc=Xa.JSON.stringify;function bc(){this.b=this.a=null}var wc,_c=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new Tc}),(function(t){t.reset()}));function Ic(){var t=Nc,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Tc(){this.next=this.b=this.a=null}function Ec(t){Xa.setTimeout((function(){throw t}),0)}function Sc(t,e){wc||function(){var t=Xa.Promise.resolve(void 0);wc=function(){t.then(Ac)}}(),kc||(wc(),kc=!0),Nc.add(t,e)}bc.prototype.add=function(t,e){var n=_c.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Tc.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Tc.prototype.reset=function(){this.next=this.b=this.a=null};var kc=!1,Nc=new bc;function Ac(){for(var t;t=Ic();){try{t.a.call(t.b)}catch(n){Ec(n)}var e=_c;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}kc=!1}function Dc(t,e){vc.call(this),this.b=t||1,this.a=e||Xa,this.f=ou(this.Za,this),this.g=au()}function Oc(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Cc(t,e,n){if("function"==typeof t)n&&(t=ou(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=ou(t.handleEvent,t)}return 2147483647<Number(e)?-1:Xa.setTimeout(t,e||0)}function xc(t){t.a=Cc((function(){t.a=null,t.c&&(t.c=!1,xc(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}uu(Dc,vc),(za=Dc.prototype).aa=!1,za.M=null,za.Za=function(){if(this.aa){var t=au()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),mc(this,"tick"),this.aa&&(Oc(this),this.start()))}},za.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=au())},za.G=function(){Dc.X.G.call(this),Oc(this),delete this.a};var Rc=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Ha(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:xc(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Xa.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(cu);function Pc(t){cu.call(this),this.b=t,this.a={}}uu(Pc,cu);var Mc=[];function Lc(t,e,n,r){Array.isArray(n)||(n&&(Mc[0]=n.toString()),n=Mc);for(var i=0;i<n.length;i++){var o=ic(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Fc(t){_u(t.a,(function(t,e){this.a.hasOwnProperty(e)&&uc(t)}),t),t.a={}}function Vc(){this.a=!0}function Uc(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return yc(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}Pc.prototype.G=function(){Pc.X.G.call(this),Fc(this)},Pc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Vc.prototype.info=function(){};var jc={},qc=null;function Bc(){return qc=qc||new vc}function Kc(t){Hu.call(this,jc.Fa,t)}function Gc(t){var e=Bc();mc(e,new Kc(e,t))}function Yc(t,e){Hu.call(this,jc.STAT_EVENT,t),this.stat=e}function Hc(t){var e=Bc();mc(e,new Yc(e,t))}function Wc(t){Hu.call(this,jc.Ga,t)}function zc(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Xa.setTimeout((function(){t()}),e)}jc.Fa="serverreachability",uu(Kc,Hu),jc.STAT_EVENT="statevent",uu(Yc,Hu),jc.Ga="timingevent",uu(Wc,Hu);var Qc={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},$c={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Xc(){}function Jc(t){var e;return(e=t.a)||(e=t.a={}),e}function Zc(){}Xc.prototype.a=null;var tl,el={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function nl(){Hu.call(this,"d")}function rl(){Hu.call(this,"c")}function il(){}function ol(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Pc(this),this.P=sl,t=Cu?125:void 0,this.R=new Dc(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}uu(nl,Hu),uu(rl,Hu),uu(il,Xc),tl=new il;var sl=45e3,al={},ul={};function cl(t,e,n){t.H=1,t.i=Cl(Sl(e)),t.j=n,t.I=!0,ll(t,null)}function ll(t,e){t.u=au(),dl(t),t.l=Sl(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Gl(n.b,"t",r),t.D=0,t.a=Vh(t.g,t.g.C?e:null),0<t.O&&(t.F=new Rc(ou(t.Ca,t,t.a),t.O)),Lc(t.J,t.a,"readystatechange",t.Xa),e=t.B?Iu(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Gc(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function hl(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=fl(t,n);if(i==ul){4==e&&(t.h=4,Hc(14),r=!1),Uc(t.c,t.f,null,"[Incomplete Response]");break}if(i==al){t.h=4,Hc(15),Uc(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Uc(t.c,t.f,i,null),yl(t,i)}4==e&&0==n.length&&(t.h=1,Hc(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Oh(e),e.F=!0,Hc(11))):(Uc(t.c,t.f,n,"[Invalid Chunked Response]"),gl(t),ml(t))}function fl(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?ul:(n=Number(e.substring(n,r)),isNaN(n)?al:(r+=1)+n>e.length?ul:(e=e.substr(r,n),t.D=r+n,e))}function dl(t){t.T=au()+t.P,pl(t,t.P)}function pl(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=zc(ou(t.Va,t),e)}function vl(t){t.o&&(Xa.clearTimeout(t.o),t.o=null)}function ml(t){0==t.g.v||t.A||Rh(t.g,t)}function gl(t){vl(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Oc(t.R),Fc(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function yl(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Xl(n.b,t)))if(n.I=t.N,!t.C&&Xl(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(m){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;xh(n),_h(n)}Dh(n),Hc(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=zc(ou(n.Sa,n),6e3));if(1>=$l(n.b)&&n.ea){try{n.ea()}catch(m){}n.ea=void 0}}else Mh(n,11)}else if((t.C||n.a==t)&&xh(n),!pu(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(gu(l,"spdy")||gu(l,"quic")||gu(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Jl(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Ol(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=au()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=Fh(u,u.C?u.ga:null,u.fa),d.C){Zl(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&(vl(p),dl(p)),u.a=d}else Ah(u);0<n.g.length&&Eh(n)}else"stop"!=i[0]&&"close"!=i[0]||Mh(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Mh(n,7):wh(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Gc(4)}catch(m){}}function bl(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Za(t)||"string"==typeof t)hu(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Za(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Za(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function wl(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof wl)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function _l(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Il(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Il(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Il(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(za=ol.prototype).setTimeout=function(t){this.P=t},za.Xa=function(t){t=t.target;var e=this.F;e&&3==mh(t)?e.f():this.Ca(t)},za.Ca=function(t){try{if(t==this.a)t:{var e=mh(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Cu&&!this.a.$())){this.A||4!=e||7==n||Gc(8==n||0>=r?3:2),vl(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pu(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,Hc(12),gl(this),ml(this);break t}Uc(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,yl(this,u)}this.I?(hl(this,e,o),Cu&&this.b&&3==e&&(Lc(this.J,this.R,"tick",this.Wa),this.R.start())):(Uc(this.c,this.f,o,null),yl(this,o)),4==e&&gl(this),this.b&&!this.A&&(4==e?Rh(this.g,this):(this.b=!1,dl(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Hc(12)):(this.h=0,Hc(13)),gl(this),ml(this)}}}catch(c){}},za.Wa=function(){if(this.a){var t=mh(this.a),e=this.a.$();this.D<e.length&&(vl(this),hl(this,t,e),this.b&&4!=t&&dl(this))}},za.cancel=function(){this.A=!0,gl(this)},za.Va=function(){this.o=null;var t=au();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Gc(3),Hc(17)),gl(this),this.h=2,ml(this)):pl(this,this.T-t)},(za=wl.prototype).K=function(){_l(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},za.L=function(){return _l(this),this.a.concat()},za.get=function(t,e){return Il(this.b,t)?this.b[t]:e},za.set=function(t,e){Il(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},za.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Tl=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function El(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof El){this.a=void 0!==e?e:t.a,kl(this,t.f),this.j=t.j,Nl(this,t.c),Al(this,t.h),this.g=t.g,e=t.b;var n=new jl;n.c=e.c,e.a&&(n.a=new wl(e.a),n.b=e.b),Dl(this,n),this.i=t.i}else t&&(n=String(t).match(Tl))?(this.a=!!e,kl(this,n[1]||"",!0),this.j=xl(n[2]||""),Nl(this,n[3]||"",!0),Al(this,n[4]),this.g=xl(n[5]||"",!0),Dl(this,n[6]||"",!0),this.i=xl(n[7]||"")):(this.a=!!e,this.b=new jl(null,this.a))}function Sl(t){return new El(t)}function kl(t,e,n){t.f=n?xl(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Nl(t,e,n){t.c=n?xl(e,!0):e}function Al(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Dl(t,e,n){e instanceof jl?(t.b=e,function(t,e){e&&!t.f&&(ql(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Bl(this,e),Gl(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Rl(e,Vl)),t.b=new jl(e,t.a))}function Ol(t,e,n){t.b.set(e,n)}function Cl(t){return Ol(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^au()).toString(36)),t}function xl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Rl(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Pl),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Pl(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}El.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Rl(e,Ml,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Rl(e,Ml,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Rl(n,"/"==n.charAt(0)?Fl:Ll,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Rl(n,Ul)),t.join("")};var Ml=/[#\/\?@]/g,Ll=/[#\?:]/g,Fl=/[#\?]/g,Vl=/[#\?@]/g,Ul=/#/g;function jl(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function ql(t){t.a||(t.a=new wl,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Bl(t,e){ql(t),e=Yl(t,e),Il(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Il((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&_l(t)))}function Kl(t,e){return ql(t),e=Yl(t,e),Il(t.a.b,e)}function Gl(t,e,n){Bl(t,e),0<n.length&&(t.c=null,t.a.set(Yl(t,e),du(n)),t.b+=n.length)}function Yl(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(za=jl.prototype).add=function(t,e){ql(this),this.c=null,t=Yl(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},za.forEach=function(t,e){ql(this),this.a.forEach((function(n,r){hu(n,(function(n){t.call(e,n,r,this)}),this)}),this)},za.L=function(){ql(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},za.K=function(t){ql(this);var e=[];if("string"==typeof t)Kl(this,t)&&(e=fu(e,this.a.get(Yl(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=fu(e,t[n])}return e},za.set=function(t,e){return ql(this),this.c=null,Kl(this,t=Yl(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},za.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},za.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Hl=function(t,e){this.b=t,this.a=e};function Wl(t){this.g=t||zl,Xa.PerformanceNavigationTiming?t=0<(t=Xa.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(Xa.ia&&Xa.ia.ya&&Xa.ia.ya()&&Xa.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var zl=10;function Ql(t){return!!t.b||!!t.a&&t.a.size>=t.f}function $l(t){return t.b?1:t.a?t.a.size:0}function Xl(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Jl(t,e){t.a?t.a.add(e):t.b=e}function Zl(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function th(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Wa(t.a.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.s)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return du(t.c)}function eh(){}function nh(){this.a=new eh}function rh(t,e,n){var r=n||"";try{bl(t,(function(t,n){var i=t;tu(t)&&(i=yc(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch($_){throw e.push(r+"type="+encodeURIComponent("_badmap")),$_}}function ih(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Wl.prototype.cancel=function(){var t,e;if(this.c=th(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Wa(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},eh.prototype.stringify=function(t){return Xa.JSON.stringify(t,void 0)},eh.prototype.parse=function(t){return Xa.JSON.parse(t,void 0)};var oh=Xa.JSON.parse;function sh(t){vc.call(this),this.headers=new wl,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=ah,this.D=this.F=!1}uu(sh,vc);var ah="",uh=/^https?$/i,ch=["POST","PUT"];function lh(t){return"content-type"==t.toLowerCase()}function hh(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,fh(t),ph(t)}function fh(t){t.u||(t.u=!0,mc(t,"complete"),mc(t,"error"))}function dh(t){if(t.b&&void 0!==$a&&(!t.s[1]||4!=mh(t)||2!=t.W()))if(t.l&&4==mh(t))Cc(t.za,0,t);else if(mc(t,"readystatechange"),4==mh(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Tl)[1]||null;if(!o&&Xa.self&&Xa.self.location){var s=Xa.self.location.protocol;o=s.substr(0,s.length-1)}i=!uh.test(o?o.toLowerCase():"")}e=i}if(e)mc(t,"complete"),mc(t,"success");else{t.h=6;try{var a=2<mh(t)?t.a.statusText:""}catch(u){a=""}t.f=a+" ["+t.W()+"]",fh(t)}}finally{ph(t)}}}function ph(t,e){if(t.a){vh(t);var n=t.a,r=t.s[0]?Ja:null;t.a=null,t.s=null,e||mc(t,"ready");try{n.onreadystatechange=r}catch($_){}}}function vh(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Xa.clearTimeout(t.m),t.m=null)}function mh(t){return t.a?t.a.readyState:0}function gh(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return _u(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ol(t,e,n))}function yh(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function bh(t){this.pa=0,this.g=[],this.c=new Vc,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=yh("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=yh("baseRetryDelayMs",5e3,t),this.Ra=yh("retryDelaySeedMs",1e4,t),this.Ma=yh("forwardChannelMaxRetries",2,t),this.ma=yh("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Wl(t&&t.concurrentRequestLimit),this.ka=new nh,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function wh(t){if(Ih(t),3==t.v){var e=t.R++,n=Sl(t.B);Ol(n,"SID",t.J),Ol(n,"RID",e),Ol(n,"TYPE","terminate"),kh(t,n),(e=new ol(t,t.c,e,void 0)).H=2,e.i=Cl(Sl(n)),n=!1,Xa.navigator&&Xa.navigator.sendBeacon&&(n=Xa.navigator.sendBeacon(e.i.toString(),"")),!n&&Xa.Image&&((new Image).src=e.i,n=!0),n||(e.a=Vh(e.g,null),e.a.ba(e.i)),e.u=au(),dl(e)}Lh(t)}function _h(t){t.a&&(Oh(t),t.a.cancel(),t.a=null)}function Ih(t){_h(t),t.j&&(Xa.clearTimeout(t.j),t.j=null),xh(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Xa.clearTimeout(t.h),t.h=null)}function Th(t,e){t.g.push(new Hl(t.Oa++,e)),3==t.v&&Eh(t)}function Eh(t){Ql(t.b)||t.h||(t.h=!0,Sc(t.Ba,t),t.u=0)}function Sh(t,e){var n;n=e?e.f:t.R++;var r=Sl(t.B);Ol(r,"SID",t.J),Ol(r,"RID",n),Ol(r,"AID",t.P),kh(t,r),t.i&&t.l&&gh(r,t.i,t.l),n=new ol(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Nh(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Jl(t.b,n),cl(n,r,e)}function kh(t,e){t.f&&bl({},(function(t,n){Ol(e,n,t)}))}function Nh(t,e,n){n=Math.min(t.g.length,n);var r=t.f?ou(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].b,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{rh(l,s,"req"+c+"_")}catch(h){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Ah(t){t.a||t.j||(t.T=1,Sc(t.Aa,t),t.o=0)}function Dh(t){return!(t.a||t.j||3<=t.o)&&(t.T++,t.j=zc(ou(t.Aa,t),Ph(t,t.o)),t.o++,!0)}function Oh(t){null!=t.s&&(Xa.clearTimeout(t.s),t.s=null)}function Ch(t){t.a=new ol(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Sl(t.la);Ol(e,"RID","rpc"),Ol(e,"SID",t.J),Ol(e,"CI",t.H?"0":"1"),Ol(e,"AID",t.P),kh(t,e),Ol(e,"TYPE","xmlhttp"),t.i&&t.l&&gh(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Cl(Sl(e)),n.j=null,n.I=!0,ll(n,t)}function xh(t){null!=t.m&&(Xa.clearTimeout(t.m),t.m=null)}function Rh(t,e){var n=null;if(t.a==e){xh(t),Oh(t),t.a=null;var r=2}else{if(!Xl(t.b,e))return;n=e.s,Zl(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=au()-e.u;var i=t.u;mc(r=Bc(),new Wc(r,n,e,i)),Eh(t)}else Ah(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!($l(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=zc(ou(t.Ba,t,e),Ph(t,t.u)),t.u++,0)))}(t,e)||2==r&&Dh(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Mh(t,5);break;case 4:Mh(t,10);break;case 3:Mh(t,6);break;default:Mh(t,2)}}function Ph(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Mh(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=ou(t.Ya,t);n||(n=new El("//www.google.com/images/cleardot.gif"),Xa.location&&"http"==Xa.location.protocol||kl(n,"https"),Cl(n)),function(t,e){var n=new Vc;if(Xa.Image){var r=new Image;r.onload=su(ih,n,r,"TestLoadImage: loaded",!0,e),r.onerror=su(ih,n,r,"TestLoadImage: error",!1,e),r.onabort=su(ih,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=su(ih,n,r,"TestLoadImage: timeout",!1,e),Xa.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Hc(2);t.v=0,t.f&&t.f.ra(e),Lh(t),Ih(t)}function Lh(t){t.v=0,t.I=-1,t.f&&(0==th(t.b).length&&0==t.g.length||(t.b.c.length=0,du(t.g),t.g.length=0),t.f.qa())}function Fh(t,e,n){var r=function(t){return t instanceof El?Sl(t):new El(t,void 0)}(n);if(""!=r.c)e&&Nl(r,e+"."+r.c),Al(r,r.h);else{var i=Xa.location;r=function(t,e,n,r){var i=new El(null,void 0);return t&&kl(i,t),e&&Nl(i,e),n&&Al(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&_u(t.V,(function(t,e){Ol(r,e,t)})),e=t.A,n=t.na,e&&n&&Ol(r,e,n),Ol(r,"VER",t.ha),kh(t,r),r}function Vh(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new sh(t.Na)).F=t.C,e}function Uh(){}function jh(){if(Du&&!(10<=Number(Bu)))throw Error("Environmental error: no available transport.")}function qh(t,e){vc.call(this),this.a=new bh(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!pu(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!pu(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new Gh(this)}function Bh(t){nl.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Kh(){rl.call(this),this.status=1}function Gh(t){this.a=t}(za=sh.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?Jc(this.H):Jc(tl),this.a.onreadystatechange=ou(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void hh(this,o)}t=n||"";var i=new wl(this.headers);r&&bl(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=lh,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Xa.FormData&&t instanceof Xa.FormData,!(0<=lu(ch,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{vh(this),0<this.o&&((this.D=function(t){return Du&&ju(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=ou(this.xa,this)):this.m=Cc(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){hh(this,o)}},za.xa=function(){void 0!==$a&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,mc(this,"timeout"),this.abort(8))},za.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,mc(this,"complete"),mc(this,"abort"),ph(this))},za.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),ph(this,!0)),sh.X.G.call(this)},za.za=function(){this.j||(this.A||this.l||this.g?dh(this):this.Ua())},za.Ua=function(){dh(this)},za.W=function(){try{return 2<mh(this)?this.a.status:-1}catch(Nu){return-1}},za.$=function(){try{return this.a?this.a.responseText:""}catch(Nu){return""}},za.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),oh(e)}},za.ua=function(){return this.h},za.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(za=bh.prototype).ha=8,za.v=1,za.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new ol(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Eu(r=Iu(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Nh(this,n,e),Ol(i=Sl(this.B),"RID",t),Ol(i,"CVER",22),this.A&&Ol(i,"X-HTTP-Session-Id",this.A),kh(this,i),this.i&&r&&gh(i,this.i,r),Jl(this.b,n),this.Ia&&Ol(i,"TYPE","init"),this.da?(Ol(i,"$req",e),Ol(i,"SID","null"),n.U=!0,cl(n,i,null)):cl(n,i,e),this.v=2}}else 3==this.v&&(t?Sh(this,t):0==this.g.length||Ql(this.b)||Sh(this))},za.Aa=function(){if(this.j=null,Ch(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=zc(ou(this.Ta,this),t)}},za.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Hc(10),_h(this),Ch(this))},za.Sa=function(){null!=this.m&&(this.m=null,_h(this),Dh(this),Hc(19))},za.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Hc(2)):(this.c.info("Failed to ping google.com"),Hc(1))},(za=Uh.prototype).ta=function(){},za.sa=function(){},za.ra=function(){},za.qa=function(){},za.Ja=function(){},jh.prototype.a=function(t,e){return new qh(t,e)},uu(qh,vc),qh.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Hc(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Fh(t,null,t.fa),Eh(t)},qh.prototype.close=function(){wh(this.a)},qh.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Th(this.a,e)}else this.l?((e={}).__data__=yc(t),Th(this.a,e)):Th(this.a,t)},qh.prototype.G=function(){this.a.f=null,delete this.f,wh(this.a),delete this.a,qh.X.G.call(this)},uu(Bh,nl),uu(Kh,rl),uu(Gh,Uh),Gh.prototype.ta=function(){mc(this.a,"a")},Gh.prototype.sa=function(t){mc(this.a,new Bh(t))},Gh.prototype.ra=function(t){mc(this.a,new Kh(t))},Gh.prototype.qa=function(){mc(this.a,"b")},jh.prototype.createWebChannel=jh.prototype.a,qh.prototype.send=qh.prototype.h,qh.prototype.open=qh.prototype.g,qh.prototype.close=qh.prototype.close,Qc.NO_ERROR=0,Qc.TIMEOUT=8,Qc.HTTP_ERROR=6,$c.COMPLETE="complete",Zc.EventType=el,el.OPEN="a",el.CLOSE="b",el.ERROR="c",el.MESSAGE="d",vc.prototype.listen=vc.prototype.va,sh.prototype.listenOnce=sh.prototype.wa,sh.prototype.getLastError=sh.prototype.Qa,sh.prototype.getLastErrorCode=sh.prototype.ua,sh.prototype.getStatus=sh.prototype.W,sh.prototype.getResponseJson=sh.prototype.Pa,sh.prototype.getResponseText=sh.prototype.$,sh.prototype.send=sh.prototype.ba;var Yh=Qc,Hh=$c,Wh=jc,zh=10,Qh=11,$h=Zc,Xh=sh,Jh=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Jh.o=-1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Zh={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},tf=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return ki(e,t),e}(Error),ef=new ho("@firebase/firestore");function nf(){return ef.logLevel}function rf(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ef.logLevel<=ro.DEBUG){var r=e.map(af);ef.debug.apply(ef,xi(["Firestore (8.6.2): "+t],r))}}function of(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ef.logLevel<=ro.ERROR){var r=e.map(af);ef.error.apply(ef,xi(["Firestore (8.6.2): "+t],r))}}function sf(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ef.logLevel<=ro.WARN){var r=e.map(af);ef.warn.apply(ef,xi(["Firestore (8.6.2): "+t],r))}}function af(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(n){return t}var e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.6.2) INTERNAL ASSERTION FAILED: "+t;throw of(e),new Error(e)}function cf(t,e){t||uf()}function lf(t,e){return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ff=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=hf(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function df(t,e){return t<e?-1:t>e?1:0}function pf(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function vf(t){return t+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mf=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new tf(Zh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new tf(Zh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new tf(Zh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new tf(Zh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?df(this.nanoseconds,t.nanoseconds):df(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),gf=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new mf(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function bf(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function wf(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _f=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&uf(),void 0===n?n=t.length-e:n>t.length-e&&uf(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),If=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ki(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new tf(Zh.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(_f),Tf=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ef=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ki(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Tf.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new tf(Zh.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new tf(Zh.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new tf(Zh.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new tf(Zh.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(_f),Sf=function(){function t(t){this.fields=t,t.sort(Ef.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return pf(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),kf=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return df(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();kf.EMPTY_BYTE_STRING=new kf("");var Nf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Af(t){if(cf(!!t),"string"==typeof t){var e=0,n=Nf.exec(t);if(cf(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Df(t.seconds),nanos:Df(t.nanos)}}function Df(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Of(t){return"string"==typeof t?kf.fromBase64String(t):kf.fromUint8Array(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cf(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function xf(t){var e=t.mapValue.fields.__previous_value__;return Cf(e)?xf(e):e}function Rf(t){var e=Af(t.mapValue.fields.__local_write_time__.timestampValue);return new mf(e.seconds,e.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pf(t){return null==t}function Mf(t){return 0===t&&1/t==-1/0}function Lf(t){return"number"==typeof t&&Number.isInteger(t)&&!Mf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ff=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(If.fromString(e))},t.fromName=function(e){return new t(If.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===If.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return If.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new If(e.slice()))},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Cf(t)?4:10:uf()}function Uf(t,e){var n,r=Vf(t);if(r!==Vf(e))return!1;switch(r){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Rf(t).isEqual(Rf(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Af(t.timestampValue),r=Af(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return n=e,Of(t.bytesValue).isEqual(Of(n.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Df(t.geoPointValue.latitude)===Df(e.geoPointValue.latitude)&&Df(t.geoPointValue.longitude)===Df(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Df(t.integerValue)===Df(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Df(t.doubleValue),r=Df(e.doubleValue);return n===r?Mf(n)===Mf(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return pf(t.arrayValue.values||[],e.arrayValue.values||[],Uf);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(yf(n)!==yf(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Uf(n[i],r[i])))return!1;return!0}(t,e);default:return uf()}}function jf(t,e){return void 0!==(t.values||[]).find((function(t){return Uf(t,e)}))}function qf(t,e){var n,r,i,o,s=Vf(t),a=Vf(e);if(s!==a)return df(s,a);switch(s){case 0:return 0;case 1:return df(t.booleanValue,e.booleanValue);case 2:return r=e,i=Df((n=t).integerValue||n.doubleValue),o=Df(r.integerValue||r.doubleValue),i<o?-1:i>o?1:i===o?0:isNaN(i)?isNaN(o)?0:-1:1;case 3:return Bf(t.timestampValue,e.timestampValue);case 4:return Bf(Rf(t),Rf(e));case 5:return df(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Of(t),r=Of(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=df(n[i],r[i]);if(0!==o)return o}return df(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=df(Df(t.latitude),Df(e.latitude));return 0!==n?n:df(Df(t.longitude),Df(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=qf(n[i],r[i]);if(o)return o}return df(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=df(r[s],o[s]);if(0!==a)return a;var u=qf(n[r[s]],i[o[s]]);if(0!==u)return u}return df(r.length,o.length)}(t.mapValue,e.mapValue);default:throw uf()}}function Bf(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return df(t,e);var n=Af(t),r=Af(e),i=df(n.seconds,r.seconds);return 0!==i?i:df(n.nanos,r.nanos)}function Kf(t){return Gf(t)}function Gf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(e=t.timestampValue,"time("+(n=Af(e)).seconds+","+n.nanos+")"):"stringValue"in t?t.stringValue:"bytesValue"in t?Of(t.bytesValue).toBase64():"referenceValue"in t?(i=t.referenceValue,Ff.fromName(i).toString()):"geoPointValue"in t?"geo("+(r=t.geoPointValue).latitude+","+r.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Gf(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Gf(t.fields[o])}return e+"}"}(t.mapValue):uf();var e,n,r,i}function Yf(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Hf(t){return!!t&&"integerValue"in t}function Wf(t){return!!t&&"arrayValue"in t}function zf(t){return!!t&&"nullValue"in t}function Qf(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $f(t){return!!t&&"mapValue"in t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xf=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(Ef.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach((function(t,n){t?e.set(n,t):e.delete(n)}))},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return Uf(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Vf(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,o=t.extractNestedValue(this.partialValue,e),s=$f(o)?Object.assign({},o.mapValue.fields):{};return n.forEach((function(t,n){if(t instanceof Map){var o=r.applyOverlay(e.child(n),t);null!=o&&(s[n]=o,i=!0)}else null!==t?(s[n]=t,i=!0):s.hasOwnProperty(n)&&(delete s[n],i=!0)})),i?{mapValue:{fields:s}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(Ef.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!$f(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function Jf(t){var e=[];return bf(t.fields||{},(function(t,n){var r=new Ef([t]);if($f(n)){var i=Jf(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++){var a=s[o];e.push(r.child(a))}}else e.push(r)})),new Sf(e)}var Zf=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,gf.min(),Xf.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Xf.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Xf.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Xf.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Xf.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),td=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new td(t,e,n,r,i,o,s)}function nd(t){var e=lf(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return(e=t).field.canonicalString()+e.op.toString()+Kf(e.value);var e})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.canonicalString()+e.dir;var e})).join(","),Pf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=vd(e.startAt)),e.endAt&&(n+="|ub:",n+=vd(e.endAt)),e.h=n}return e.h}function rd(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!gd(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Uf(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bd(t.startAt,e.startAt)&&bd(t.endAt,e.endAt)}function id(t){return Ff.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var od=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return ki(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new sd(t,n,r):"array-contains"===n?new ld(t,r):"in"===n?new hd(t,r):"not-in"===n?new fd(t,r):"array-contains-any"===n?new dd(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new ad(t,n):new ud(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(qf(e,this.value)):null!==e&&Vf(this.value)===Vf(e)&&this.m(qf(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return uf()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),sd=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Ff.fromName(r.referenceValue),i}return ki(e,t),e.prototype.matches=function(t){var e=Ff.comparator(t.key,this.key);return this.m(e)},e}(od),ad=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=cd("in",n),r}return ki(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(od),ud=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=cd("not-in",n),r}return ki(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(od);function cd(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Ff.fromName(t.referenceValue)}))}var ld=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return ki(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Wf(e)&&jf(e.arrayValue,this.value)},e}(od),hd=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return ki(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&jf(this.value.arrayValue,e)},e}(od),fd=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return ki(e,t),e.prototype.matches=function(t){if(jf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!jf(this.value.arrayValue,e)},e}(od),dd=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return ki(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Wf(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return jf(e.value.arrayValue,t)}))},e}(od),pd=function(t,e){this.position=t,this.before=e};function vd(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Kf(t)})).join(",")}var md=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function gd(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function yd(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?Ff.comparator(Ff.fromName(s.referenceValue),n.key):qf(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function bd(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Uf(t.position[n],e.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wd=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null,this.startAt,this.endAt};function _d(t,e,n,r,i,o,s,a){return new wd(t,e,n,r,i,o,s,a)}function Id(t){return new wd(t)}function Td(t){return!Pf(t.limit)&&"F"===t.limitType}function Ed(t){return!Pf(t.limit)&&"L"===t.limitType}function Sd(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function kd(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Nd(t){return null!==t.collectionGroup}function Ad(t){var e=lf(t);if(null===e.p){e.p=[];var n=kd(e),r=Sd(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new md(n)),e.p.push(new md(Ef.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new md(Ef.keyField(),u))}}}return e.p}function Dd(t){var e=lf(t);if(!e.T)if("F"===e.limitType)e.T=ed(e.path,e.collectionGroup,Ad(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Ad(e);r<i.length;r++){var o=i[r],s="desc"===o.dir?"asc":"desc";n.push(new md(o.field,s))}var a=e.endAt?new pd(e.endAt.position,!e.endAt.before):null,u=e.startAt?new pd(e.startAt.position,!e.startAt.before):null;e.T=ed(e.path,e.collectionGroup,n,e.filters,e.limit,a,u)}return e.T}function Od(t,e,n){return new wd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Cd(t,e){return rd(Dd(t),Dd(e))&&t.limitType===e.limitType}function xd(t){return nd(Dd(t))+"|lt:"+t.limitType}function Rd(t){return"Query(target="+(e=Dd(t),n=e.path.canonicalString(),null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: ["+e.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Kf(e.value);var e})).join(", ")+"]"),Pf(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: ["+e.orderBy.map((function(t){return(e=t).field.canonicalString()+" ("+e.dir+")";var e})).join(", ")+"]"),e.startAt&&(n+=", startAt: "+vd(e.startAt)),e.endAt&&(n+=", endAt: "+vd(e.endAt)),"Target("+n+"); limitType=")+t.limitType+")";var e,n}function Pd(t,e){return e.isFoundDocument()&&(n=t,i=(r=e).key.path,null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Ff.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i))&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!yd(t.startAt,Ad(t),e)||t.endAt&&yd(t.endAt,Ad(t),e))}(t,e);var n,r,i}function Md(t){return function(e,n){for(var r=!1,i=0,o=Ad(t);i<o.length;i++){var s=o[i],a=Ld(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function Ld(t,e,n){var r,i,o,s,a=t.field.isKeyField()?Ff.comparator(e.key,n.key):(r=t.field,i=n,o=e.data.field(r),s=i.data.field(r),null!==o&&null!==s?qf(o,s):uf());switch(t.dir){case"asc":return a;case"desc":return-1*a;default:return uf()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mf(e)?"-0":e}}function Vd(t){return{integerValue:""+t}}function Ud(t,e){return Lf(e)?Vd(e):Fd(t,e)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jd=function(){this._=void 0};function qd(t,e,n){return t instanceof Gd?(i=e,o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(r=n).seconds,nanos:r.nanoseconds}}}},i&&(o.fields.__previous_value__=i),{mapValue:o}):t instanceof Yd?Hd(t,e):t instanceof Wd?zd(t,e):function(t,e){var n=Kd(t,e),r=$d(n)+$d(t.A);return Hf(n)&&Hf(t.A)?Vd(r):Fd(t.R,r)}(t,e);var r,i,o}function Bd(t,e,n){return t instanceof Yd?Hd(t,e):t instanceof Wd?zd(t,e):n}function Kd(t,e){return t instanceof Qd?Hf(r=e)||(n=r)&&"doubleValue"in n?e:{integerValue:0}:null;var n,r}var Gd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ki(e,t),e}(jd),Yd=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return ki(e,t),e}(jd);function Hd(t,e){for(var n=Xd(e),r=function(t){n.some((function(e){return Uf(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Wd=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return ki(e,t),e}(jd);function zd(t,e){for(var n=Xd(e),r=function(t){n=n.filter((function(e){return!Uf(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Qd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return ki(e,t),e}(jd);function $d(t){return Df(t.integerValue||t.doubleValue)}function Xd(t){return Wf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jd=function(t,e){this.field=t,this.transform=e},Zd=function(t,e){this.version=t,this.transformResults=e},tp=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function ep(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var np=function(){};function rp(t,e,n){var r,i,o,s,a;t instanceof up?(i=e,o=n,s=(r=t).value.clone(),a=hp(r.fieldTransforms,i,o.transformResults),s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()):t instanceof cp?function(t,e,n){if(ep(t.precondition,e)){var r=hp(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(lp(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function ip(t,e,n){var r;t instanceof up?function(t,e,n){if(ep(t.precondition,e)){var r=t.value.clone(),i=fp(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(ap(e),r).setHasLocalMutations()}}(t,e,n):t instanceof cp?function(t,e,n){if(ep(t.precondition,e)){var r=fp(t.fieldTransforms,n,e),i=e.data;i.setAll(lp(t)),i.setAll(r),e.convertToFoundDocument(ap(e),i).setHasLocalMutations()}}(t,e,n):(r=e,ep(t.precondition,r)&&r.convertToNoDocument(gf.min()))}function op(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=Kd(o.transform,s||null);null!=a&&(null==n&&(n=Xf.empty()),n.set(o.field,a))}return n||null}function sp(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(n=t.fieldTransforms,r=e.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&pf(n,r,(function(t,e){return r=e,(n=t).field.isEqual(r.field)&&(i=n.transform,o=r.transform,i instanceof Yd&&o instanceof Yd||i instanceof Wd&&o instanceof Wd?pf(i.elements,o.elements,Uf):i instanceof Qd&&o instanceof Qd?Uf(i.A,o.A):i instanceof Gd&&o instanceof Gd);var n,r,i,o}))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}function ap(t){return t.isFoundDocument()?t.version:gf.min()}var up=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return ki(e,t),e}(np),cp=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return ki(e,t),e}(np);function lp(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function hp(t,e,n){var r=new Map;cf(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Bd(s,a,n[i]))}return r}function fp(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,qd(a,u,e))}return r}var dp,pp,vp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return ki(e,t),e}(np),mp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return ki(e,t),e}(np),gp=function(t){this.count=t};function yp(t){switch(t){case Zh.OK:return uf();case Zh.CANCELLED:case Zh.UNKNOWN:case Zh.DEADLINE_EXCEEDED:case Zh.RESOURCE_EXHAUSTED:case Zh.INTERNAL:case Zh.UNAVAILABLE:case Zh.UNAUTHENTICATED:return!1;case Zh.INVALID_ARGUMENT:case Zh.NOT_FOUND:case Zh.ALREADY_EXISTS:case Zh.PERMISSION_DENIED:case Zh.FAILED_PRECONDITION:case Zh.ABORTED:case Zh.OUT_OF_RANGE:case Zh.UNIMPLEMENTED:case Zh.DATA_LOSS:return!0;default:return uf()}}function bp(t){if(void 0===t)return of("GRPC error has no .code"),Zh.UNKNOWN;switch(t){case dp.OK:return Zh.OK;case dp.CANCELLED:return Zh.CANCELLED;case dp.UNKNOWN:return Zh.UNKNOWN;case dp.DEADLINE_EXCEEDED:return Zh.DEADLINE_EXCEEDED;case dp.RESOURCE_EXHAUSTED:return Zh.RESOURCE_EXHAUSTED;case dp.INTERNAL:return Zh.INTERNAL;case dp.UNAVAILABLE:return Zh.UNAVAILABLE;case dp.UNAUTHENTICATED:return Zh.UNAUTHENTICATED;case dp.INVALID_ARGUMENT:return Zh.INVALID_ARGUMENT;case dp.NOT_FOUND:return Zh.NOT_FOUND;case dp.ALREADY_EXISTS:return Zh.ALREADY_EXISTS;case dp.PERMISSION_DENIED:return Zh.PERMISSION_DENIED;case dp.FAILED_PRECONDITION:return Zh.FAILED_PRECONDITION;case dp.ABORTED:return Zh.ABORTED;case dp.OUT_OF_RANGE:return Zh.OUT_OF_RANGE;case dp.UNIMPLEMENTED:return Zh.UNIMPLEMENTED;case dp.DATA_LOSS:return Zh.DATA_LOSS;default:return uf()}}(pp=dp||(dp={}))[pp.OK=0]="OK",pp[pp.CANCELLED=1]="CANCELLED",pp[pp.UNKNOWN=2]="UNKNOWN",pp[pp.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pp[pp.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pp[pp.NOT_FOUND=5]="NOT_FOUND",pp[pp.ALREADY_EXISTS=6]="ALREADY_EXISTS",pp[pp.PERMISSION_DENIED=7]="PERMISSION_DENIED",pp[pp.UNAUTHENTICATED=16]="UNAUTHENTICATED",pp[pp.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pp[pp.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pp[pp.ABORTED=10]="ABORTED",pp[pp.OUT_OF_RANGE=11]="OUT_OF_RANGE",pp[pp.UNIMPLEMENTED=12]="UNIMPLEMENTED",pp[pp.INTERNAL=13]="INTERNAL",pp[pp.UNAVAILABLE=14]="UNAVAILABLE",pp[pp.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var wp=function(){function t(t,e){this.comparator=t,this.root=e||Ip.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ip.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ip.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new _p(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new _p(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new _p(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new _p(this.root,t,this.comparator,!0)},t}(),_p=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Ip=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw uf();if(this.right.isRed())throw uf();var t=this.left.check();if(t!==this.right.check())throw uf();return t+(this.isRed()?0:1)},t}();Ip.EMPTY=null,Ip.RED=!0,Ip.BLACK=!1,Ip.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw uf()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw uf()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw uf()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw uf()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw uf()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Ip(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Tp=function(){function t(t){this.comparator=t,this.data=new wp(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Ep(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Ep(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Ep=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Sp=new wp(Ff.comparator);function kp(){return Sp}var Np=new wp(Ff.comparator);function Ap(){return Np}var Dp=new wp(Ff.comparator);var Op=new Tp(Ff.comparator);function Cp(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Op,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var xp=new Tp(df);function Rp(){return xp}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pp=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Mp.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(gf.min(),r,Rp(),kp(),Cp())},t}(),Mp=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(kf.EMPTY_BYTE_STRING,n,Cp(),Cp(),Cp())},t}(),Lp=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},Fp=function(t,e){this.targetId=t,this.V=e},Vp=function(t,e,n,r){void 0===n&&(n=kf.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Up=function(){function t(){this.S=0,this.D=Bp(),this.C=kf.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=Cp(),e=Cp(),n=Cp();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:uf()}})),new Mp(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=Bp()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),jp=function(){function t(t){this.W=t,this.G=new Map,this.H=kp(),this.J=qp(),this.Y=new Tp(df)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:uf()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(id(i))if(0===n){var o=new Ff(i.path);this.tt(e,o,Zf.newNoDocument(o,gf.min()))}else cf(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.at=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var o=e.ot(i);if(o){if(r.current&&id(o.target)){var s=new Ff(o.target.path);null!==e.H.get(s)||e.ut(i,s)||e.tt(i,s,Zf.newNoDocument(s,t))}r.O&&(n.set(i,r.M()),r.L())}}));var r=Cp();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Pp(t,n,this.Y,this.H,r);return this.H=kp(),this.J=qp(),this.Y=new Tp(df),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.ut(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.ut(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Up,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Tp(df),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||rf("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Up),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.ut=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function qp(){return new wp(Ff.comparator)}function Bp(){return new wp(Ff.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kp={asc:"ASCENDING",desc:"DESCENDING"},Gp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yp=function(t,e){this.databaseId=t,this.I=e};function Hp(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Wp(t,e){return t.I?e.toBase64():e.toUint8Array()}function zp(t,e){return Hp(t,e.toTimestamp())}function Qp(t){return cf(!!t),gf.fromTimestamp((e=Af(t),new mf(e.seconds,e.nanos)));var e}function $p(t,e){return(n=t,new If(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function Xp(t){var e=If.fromString(t);return cf(wv(e)),e}function Jp(t,e){return $p(t.databaseId,e.path)}function Zp(t,e){var n=Xp(e);if(n.get(1)!==t.databaseId.projectId)throw new tf(Zh.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new tf(Zh.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ff(rv(n))}function tv(t,e){return $p(t.databaseId,e)}function ev(t){var e=Xp(t);return 4===e.length?If.emptyPath():rv(e)}function nv(t){return new If(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function rv(t){return cf(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function iv(t,e,n){return{name:Jp(t,e),fields:n.toProto().mapValue.fields}}function ov(t,e){var n,r,i;if(e instanceof up)n={update:iv(t,e.key,e.value)};else if(e instanceof vp)n={delete:Jp(t,e.key)};else if(e instanceof cp)n={update:iv(t,e.key,e.data),updateMask:bv(e.fieldMask)};else{if(!(e instanceof mp))return uf();n={verify:Jp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Gd)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Yd)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Wd)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Qd)return{fieldPath:e.field.canonicalString(),increment:n.A};throw uf()}(0,t)}))),e.precondition.isNone||(n.currentDocument=(r=t,void 0!==(i=e.precondition).updateTime?{updateTime:zp(r,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:uf())),n}function sv(t,e){var n,r=e.currentDocument?void 0!==(n=e.currentDocument).updateTime?tp.updateTime(Qp(n.updateTime)):void 0!==n.exists?tp.exists(n.exists):tp.none():tp.none(),i=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)cf("REQUEST_TIME"===e.setToServerValue),n=new Gd;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new Yd(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new Wd(i)}else"increment"in e?n=new Qd(t,e.increment):uf();var o=Ef.fromServerFormat(e.fieldPath);return new Jd(o,n)}(t,e)})):[];if(e.update){e.update.name;var o=Zp(t,e.update.name),s=new Xf({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){var e=t.fieldPaths||[];return new Sf(e.map((function(t){return Ef.fromServerFormat(t)})))}(e.updateMask);return new cp(o,s,a,r,i)}return new up(o,s,r,i)}if(e.delete){var u=Zp(t,e.delete);return new vp(u,r)}if(e.verify){var c=Zp(t,e.verify);return new mp(c,r)}return uf()}function av(t,e){return{documents:[tv(t,e.path)]}}function uv(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=tv(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=tv(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Qf(t.value))return{unaryFilter:{field:vv(t.field),op:"IS_NAN"}};if(zf(t.value))return{unaryFilter:{field:vv(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Qf(t.value))return{unaryFilter:{field:vv(t.field),op:"IS_NOT_NAN"}};if(zf(t.value))return{unaryFilter:{field:vv(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vv(t.field),op:pv(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return{field:vv((e=t).field),direction:dv(e.dir)};var e}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s,a,u=(s=t,a=e.limit,s.I||Pf(a)?a:{value:a});return null!==u&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=hv(e.startAt)),e.endAt&&(n.structuredQuery.endAt=hv(e.endAt)),n}function cv(t){var e=ev(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){cf(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=lv(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return new md(mv((e=t).field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction));var e})));var u,c,l=null;n.limit&&(u=n.limit,l=Pf(c="object"==typeof u?u.value:u)?null:c);var h=null;n.startAt&&(h=fv(n.startAt));var f=null;return n.endAt&&(f=fv(n.endAt)),_d(e,i,a,s,l,"F",h,f)}function lv(t){return t?void 0!==t.unaryFilter?[yv(t)]:void 0!==t.fieldFilter?[gv(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return lv(t)})).reduce((function(t,e){return t.concat(e)})):uf():[]}function hv(t){return{before:t.before,values:t.position}}function fv(t){var e=!!t.before,n=t.values||[];return new pd(n,e)}function dv(t){return Kp[t]}function pv(t){return Gp[t]}function vv(t){return{fieldPath:t.canonicalString()}}function mv(t){return Ef.fromServerFormat(t.fieldPath)}function gv(t){return od.create(mv(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return uf()}}(t.fieldFilter.op),t.fieldFilter.value)}function yv(t){switch(t.unaryFilter.op){case"IS_NAN":var e=mv(t.unaryFilter.field);return od.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=mv(t.unaryFilter.field);return od.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=mv(t.unaryFilter.field);return od.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=mv(t.unaryFilter.field);return od.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return uf()}}function bv(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function wv(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Tv(e)),e=Iv(t.get(n),e);return Tv(e)}function Iv(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Tv(t){return t+""}function Ev(t){var e=t.length;if(cf(e>=2),2===e)return cf(""===t.charAt(0)&&""===t.charAt(1)),If.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("",o);switch((s<0||s>n)&&uf(),t.charAt(s+1)){case"":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:uf()}o=s+2}return new If(r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sv=function(t,e){this.seconds=t,this.nanoseconds=e},kv=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};kv.store="owner",kv.key="owner";var Nv=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Nv.store="mutationQueues",Nv.keyPath="userId";var Av=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Av.store="mutations",Av.keyPath="batchId",Av.userMutationsIndex="userMutationsIndex",Av.userMutationsKeyPath=["userId","batchId"];var Dv=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,_v(e)]},t.key=function(t,e,n){return[t,_v(e),n]},t}();Dv.store="documentMutations",Dv.PLACEHOLDER=new Dv;var Ov=function(t,e){this.path=t,this.readTime=e},Cv=function(t,e){this.path=t,this.version=e},xv=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};xv.store="remoteDocuments",xv.readTimeIndex="readTimeIndex",xv.readTimeIndexPath="readTime",xv.collectionReadTimeIndex="collectionReadTimeIndex",xv.collectionReadTimeIndexPath=["parentPath","readTime"];var Rv=function(t){this.byteSize=t};Rv.store="remoteDocumentGlobal",Rv.key="remoteDocumentGlobalKey";var Pv=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Pv.store="targets",Pv.keyPath="targetId",Pv.queryTargetsIndexName="queryTargetsIndex",Pv.queryTargetsKeyPath=["canonicalId","targetId"];var Mv=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Mv.store="targetDocuments",Mv.keyPath=["targetId","path"],Mv.documentTargetsIndex="documentTargetsIndex",Mv.documentTargetsKeyPath=["path","targetId"];var Lv=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Lv.key="targetGlobalKey",Lv.store="targetGlobal";var Fv=function(t,e){this.collectionId=t,this.parent=e};Fv.store="collectionParents",Fv.keyPath=["collectionId","parent"];var Vv=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Vv.store="clientMetadata",Vv.keyPath="clientId";var Uv=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Uv.store="bundles",Uv.keyPath="bundleId";var jv=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};jv.store="namedQueries",jv.keyPath="name";var qv=xi(xi([],xi(xi([],xi(xi([],xi(xi([],[Nv.store,Av.store,Dv.store,xv.store,Pv.store,kv.store,Lv.store,Mv.store]),[Vv.store])),[Rv.store])),[Fv.store])),[Uv.store,jv.store]),Bv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Kv=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),Gv=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Yv=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&uf(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),Hv=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Gv,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Qv(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=tm(e.target.error);n.ft.reject(new Qv(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(o){throw new Qv(n,o)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(rf("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Xv(e)},t}(),Wv=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Li())&&of("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return rf("SimpleDb","Removing database:",t),Jv(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Li(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Ai(this,void 0,void 0,(function(){var e,n=this;return Di(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(rf("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Qv(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new tf(Zh.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new Qv(t,n))},i.onupgradeneeded=function(t){rf("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.wt.Rt(e,i.transaction,t.oldVersion,n.version).next((function(){rf("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Ai(this,void 0,void 0,(function(){var i,o,s,a,u;return Di(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Di(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=Hv.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),Yv.reject(t)})).toPromise(),u={},s.catch((function(){})),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return c=h.sent(),l="FirebaseError"!==c.name&&o<3,rf("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),zv=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Jv(this.Pt.delete())},t}(),Qv=function(t){function e(e,n){var r=this;return(r=t.call(this,Zh.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return ki(e,t),e}(tf);function $v(t){return"IndexedDbTransactionError"===t.name}var Xv=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(rf("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(rf("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Jv(n)},t.prototype.add=function(t){return rf("SimpleDb","ADD",this.store.name,t,t),Jv(this.store.add(t))},t.prototype.get=function(t){var e=this;return Jv(this.store.get(t)).next((function(n){return void 0===n&&(n=null),rf("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return rf("SimpleDb","DELETE",this.store.name,t),Jv(this.store.delete(t))},t.prototype.count=function(){return rf("SimpleDb","COUNT",this.store.name),Jv(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Ft=function(t,e){rf("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new Yv((function(n,r){e.onerror=function(t){var e=tm(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new Yv((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new zv(i),s=e(i.primaryKey,i.value,o);if(s instanceof Yv){var a=s.catch((function(t){return o.done(),Yv.reject(t)}));n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return Yv.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Jv(t){return new Yv((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=tm(t.target.error);n(e)}}))}var Zv=!1;function tm(t){var e=Wv._t(Li());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new tf("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Zv||(Zv=!0,setTimeout((function(){throw r}),0)),r}}return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var em=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return ki(e,t),e}(Kv);function nm(t,e){var n=lf(t);return Wv.It(n.Mt,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rm=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&rp(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&ip(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&ip(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(gf.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Cp())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&pf(this.mutations,t.mutations,(function(t,e){return sp(t,e)}))&&pf(this.baseMutations,t.baseMutations,(function(t,e){return sp(t,e)}))},t}(),im=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){cf(e.mutations.length===r.length);for(var i=Dp,o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),om=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=gf.min()),void 0===o&&(o=gf.min()),void 0===s&&(s=kf.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),sm=function(t){this.Lt=t};function am(t,e){if(e.document)return function(t,e,n){var r=Zp(t,e.name),i=Qp(e.updateTime),o=new Xf({mapValue:{fields:e.fields}}),s=Zf.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Ff.fromSegments(e.noDocument.path),r=fm(e.noDocument.readTime),i=Zf.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=Ff.fromSegments(e.unknownDocument.path);return r=fm(e.unknownDocument.version),Zf.newUnknownDocument(o,r)}return uf()}function um(t,e,n){var r,i,o=cm(n),s=e.key.path.popLast().toArray();if(e.isFoundDocument()){var a={name:Jp(r=t.Lt,(i=e).key),fields:i.data.toProto().mapValue.fields,updateTime:Hp(r,i.version.toTimestamp())},u=e.hasCommittedMutations;return new xv(null,null,a,u,o,s)}if(e.isNoDocument()){var c=e.key.path.toArray(),l=hm(e.version);return u=e.hasCommittedMutations,new xv(null,new Ov(c,l),null,u,o,s)}if(e.isUnknownDocument()){var h=e.key.path.toArray(),f=hm(e.version);return new xv(new Cv(h,f),null,null,!0,o,s)}return uf()}function cm(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function lm(t){var e=new mf(t[0],t[1]);return gf.fromTimestamp(e)}function hm(t){var e=t.toTimestamp();return new Sv(e.seconds,e.nanoseconds)}function fm(t){var e=new mf(t.seconds,t.nanoseconds);return gf.fromTimestamp(e)}function dm(t,e){for(var n=(e.baseMutations||[]).map((function(e){return sv(t.Lt,e)})),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var s=e.mutations.map((function(e){return sv(t.Lt,e)})),a=mf.fromMillis(e.localWriteTimeMs);return new rm(e.batchId,a,n,s)}function pm(t){var e,n,r=fm(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?fm(t.lastLimboFreeSnapshotVersion):gf.min();return void 0!==t.query.documents?(cf(1===(n=t.query).documents.length),e=Dd(Id(ev(n.documents[0])))):e=Dd(cv(t.query)),new om(e,t.targetId,0,t.lastListenSequenceNumber,r,i,kf.fromBase64String(t.resumeToken))}function vm(t,e){var n,r=hm(e.snapshotVersion),i=hm(e.lastLimboFreeSnapshotVersion);n=id(e.target)?av(t.Lt,e.target):uv(t.Lt,e.target);var o=e.resumeToken.toBase64();return new Pv(e.targetId,nd(e.target),r,o,e.sequenceNumber,i,n)}function mm(t){var e=cv({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Od(e,e.limit,"L"):e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gm=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return ym(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:fm(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return ym(t).put({bundleId:(n=e).id,createTime:hm(Qp(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return bm(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:mm(e.bundledQuery),readTime:fm(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return bm(t).put({name:(n=e).name,readTime:hm(Qp(n.readTime)),bundledQuery:n.bundledQuery});var n},t}();function ym(t){return nm(t,Uv.store)}function bm(t){return nm(t,jv.store)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wm=function(){function t(){this.Bt=new _m}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Yv.resolve()},t.prototype.getCollectionParents=function(t,e){return Yv.resolve(this.Bt.getEntries(e))},t}(),_m=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Tp(If.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Tp(If.comparator)).toArray()},t}(),Im=function(){function t(){this.qt=new _m}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:r,parent:_v(i)};return Tm(t).put(o)}return Yv.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[vf(e),""],!1,!0);return Tm(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Ev(o.parent))}return n}))},t}();function Tm(t){return nm(t,Fv.store)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Em={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Sm=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(t,e,n){var r=t.store(Av.store),i=t.store(Dv.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.Ot({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){cf(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Dv.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Yv.waitFor(o).next((function(){return c}))}function Nm(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw uf();e=t.noDocument}return JSON.stringify(e).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sm.DEFAULT_COLLECTION_PERCENTILE=10,Sm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sm.DEFAULT=new Sm(41943040,Sm.DEFAULT_COLLECTION_PERCENTILE,Sm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sm.DISABLED=new Sm(-1,0,0);var Am=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return cf(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Om(t).Ot({index:Av.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=Cm(t),s=Om(t);return s.add({}).next((function(a){cf("number"==typeof a);for(var u=new rm(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return ov(t.Lt,e)})),i=n.mutations.map((function(e){return ov(t.Lt,e)}));return new Av(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new Tp((function(t,e){return df(t.canonicalString(),e.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],v=Dv.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(v,Dv.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Qt[a]=u.keys()})),Yv.waitFor(l).next((function(){return u}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Om(t).get(e).next((function(t){return t?(cf(t.userId===n.userId),dm(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?Yv.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Om(t).Ot({index:Av.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(cf(e.batchId>=r),o=dm(n.R,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Om(t).Ot({index:Av.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Om(t).Nt(Av.userMutationsIndex,n).next((function(t){return t.map((function(t){return dm(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Dv.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Cm(t).Ot({range:i},(function(r,i,s){var a=r[0],u=r[1],c=r[2],l=Ev(u);if(a===n.userId&&e.path.isEqual(l))return Om(t).get(c).next((function(t){if(!t)throw uf();cf(t.userId===n.userId),o.push(dm(n.R,t))}));s.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Tp(df),i=[];return e.forEach((function(e){var o=Dv.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Cm(t).Ot({range:s},(function(t,i,o){var s=t[0],a=t[1],u=t[2],c=Ev(a);s===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(a)})),Yv.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Dv.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Tp(df);return Cm(t).Ot({range:s},(function(t,e,o){var s=t[0],u=t[1],c=t[2],l=Ev(u);s===n.userId&&r.isPrefixOf(l)?l.length===i&&(a=a.add(c)):o.done()})).next((function(){return n.Wt(t,a)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Om(t).get(e).next((function(t){if(null===t)throw uf();cf(t.userId===n.userId),r.push(dm(n.R,t))})))})),Yv.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return km(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),Yv.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return Yv.resolve();var r=IDBKeyRange.lowerBound(Dv.prefixForUser(e.userId)),i=[];return Cm(t).Ot({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Ev(t[1]);i.push(o)}else r.done()})).next((function(){cf(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return Dm(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return xm(t).get(this.userId).next((function(t){return t||new Nv(e.userId,-1,"")}))},t}();function Dm(t,e,n){var r=Dv.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Cm(t).Ot({range:o,kt:!0},(function(t,n,r){var o=t[0],a=t[1];t[2],o===e&&a===i&&(s=!0),r.done()})).next((function(){return s}))}function Om(t){return nm(t,Av.store)}function Cm(t){return nm(t,Dv.store)}function xm(t){return nm(t,Nv.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rm=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Pm=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new Rm(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return gf.fromTimestamp(new mf(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return Mm(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return cf(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return Mm(t).Ot((function(s,a){var u=pm(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))})).next((function(){return Yv.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return Mm(t).Ot((function(t,n){var r=pm(n);e(r)}))},t.prototype.Xt=function(t){return Lm(t).get(Lv.key).next((function(t){return cf(null!==t),t}))},t.prototype.Zt=function(t,e){return Lm(t).put(Lv.key,e)},t.prototype.te=function(t,e){return Mm(t).put(vm(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=nd(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Mm(t).Ot({range:r,index:Pv.queryTargetsIndexName},(function(t,n,r){var o=pm(n);rd(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=Fm(t);return e.forEach((function(e){var s=_v(e.path);i.push(o.put(new Mv(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))})),Yv.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Fm(t);return Yv.forEach(e,(function(e){var o=_v(e.path);return Yv.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Fm(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Fm(t),i=Cp();return r.Ot({range:n,kt:!0},(function(t,e,n){var r=Ev(t[1]),o=new Ff(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=_v(e.path),r=IDBKeyRange.bound([n],[vf(n)],!1,!0),i=0;return Fm(t).Ot({index:Mv.documentTargetsIndex,kt:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return Mm(t).get(e).next((function(t){return t?pm(t):null}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(t){return nm(t,Pv.store)}function Lm(t){return nm(t,Lv.store)}function Fm(t){return nm(t,Mv.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(t){return Ai(this,void 0,void 0,(function(){return Di(this,(function(e){if(t.code!==Zh.FAILED_PRECONDITION||t.message!==Bv)throw t;return rf("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=df(n,i);return 0===s?df(r,o):s}var jm=function(){function t(t){this.ne=t,this.buffer=new Tp(Um),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Um(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),qm=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ae(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ae=function(t){var e=this,n=this.oe?3e5:6e4;rf("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return Ai(e,void 0,void 0,(function(){var e;return Di(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return $v(e=n.sent())?(rf("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Vm(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ae(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Bm=function(){function t(t,e){this.ue=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ue.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Yv.resolve(Jh.o);var r=new jm(e);return this.ue.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ue.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ue.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ue.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(rf("LruGarbageCollector","Garbage collection skipped; disabled"),Yv.resolve(Em)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(rf("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Em):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ue.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>c.params.maximumSequenceNumbersToCollect?(rf("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)})).next((function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)})).next((function(t){return u=Date.now(),nf()<=ro.DEBUG&&rf("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Yv.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),Km=function(){function t(t,e){this.db=t,this.garbageCollector=new Bm(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return Gm(t,n)},t.prototype.removeReference=function(t,e,n){return Gm(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Gm(t,e)},t.prototype._e=function(t,e){return r=e,i=!1,xm(n=t).$t((function(t){return Dm(n,t,r).next((function(t){return t&&(i=!0),Yv.resolve(!t)}))})).next((function(){return i}));var n,r,i},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,(function(s,a){if(a<=e){var u=n._e(t,s).next((function(e){if(!e)return o++,r.getEntry(t,s).next((function(){return r.removeEntry(s),Fm(t).delete([0,_v(s.path)])}))}));i.push(u)}})).next((function(){return Yv.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Gm(t,e)},t.prototype.we=function(t,e){var n,r=Fm(t),i=Jh.o;return r.Ot({index:Mv.documentTargetsIndex},(function(t,r){var o=t[0],s=(t[1],r.path),a=r.sequenceNumber;0===o?(i!==Jh.o&&e(new Ff(Ev(n)),i),i=a,n=s):i=Jh.o})).next((function(){i!==Jh.o&&e(new Ff(Ev(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Gm(t,e){return Fm(t).put((n=e,r=t.currentSequenceNumber,new Mv(0,_v(n.path),r)));var n,r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ym=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];if(this.equalsFn(s,t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){bf(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];t(s,a)}}))},t.prototype.isEmpty=function(){return wf(this.inner)},t}(),Hm=function(){function t(){this.changes=new Ym((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:gf.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Zf.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Yv.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Wm=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return $m(t).put(Xm(e),n)},t.prototype.removeEntry=function(t,e){var n=$m(t),r=Xm(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return $m(t).get(Xm(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return $m(t).get(Xm(e)).next((function(t){return{document:n.ye(e,t),size:Nm(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=kp();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=kp(),i=new wp(Ff.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,Nm(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Yv.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return $m(t).Ot({range:r},(function(t,e,r){for(var s=Ff.fromSegments(t);o&&Ff.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=kp(),o=e.path.length+1,s={};if(n.isEqual(gf.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=cm(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=xv.collectionReadTimeIndex}return $m(t).Ot(s,(function(t,n,s){if(t.length===o){var a=am(r.R,n);e.path.isPrefixOf(a.key.path)?Pd(e,a)&&(i=i.insert(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new zm(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Qm(t).get(Rv.key).next((function(t){return cf(!!t),t}))},t.prototype.me=function(t,e){return Qm(t).put(Rv.key,e)},t.prototype.ye=function(t,e){if(e){var n=am(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(gf.min()))return n}return Zf.newInvalidDocument(t)},t}(),zm=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Ym((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return ki(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Tp((function(t,e){return df(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=um(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=Nm(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=um(e.Ie.R,Zf.newNoDocument(o,gf.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),Yv.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(Hm);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(t){return nm(t,Rv.store)}function $m(t){return nm(t,xv.store)}function Xm(t){return t.path.toArray()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jm=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;cf(n<r&&n>=0&&r<=11);var o=new Hv("createOrUpgrade",e);n<1&&r>=1&&(t.createObjectStore(kv.store),function(t){t.createObjectStore(Nv.store,{keyPath:Nv.keyPath}),t.createObjectStore(Av.store,{keyPath:Av.keyPath,autoIncrement:!0}).createIndex(Av.userMutationsIndex,Av.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Dv.store)}(t),Zm(t),function(t){t.createObjectStore(xv.store)}(t));var s=Yv.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Mv.store),t.deleteObjectStore(Pv.store),t.deleteObjectStore(Lv.store)}(t),Zm(t)),s=s.next((function(){return function(t){var e=t.store(Lv.store),n=new Lv(0,0,gf.min().toTimestamp(),0);return e.put(Lv.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(Av.store).Nt().next((function(n){t.deleteObjectStore(Av.store),t.createObjectStore(Av.store,{keyPath:Av.keyPath,autoIncrement:!0}).createIndex(Av.userMutationsIndex,Av.userMutationsKeyPath,{unique:!0});var r=e.store(Av.store),i=n.map((function(t){return r.put(t)}));return Yv.waitFor(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(Vv.store,{keyPath:Vv.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.Re(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(Rv.store)}(t),i.be(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ve(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Pe(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(xv.store);e.createIndex(xv.readTimeIndex,xv.readTimeIndexPath,{unique:!1}),e.createIndex(xv.collectionReadTimeIndex,xv.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(Uv.store,{keyPath:Uv.keyPath})}(t),function(t){t.createObjectStore(jv.store,{keyPath:jv.keyPath})}(t)}))),s},t.prototype.be=function(t){var e=0;return t.store(xv.store).Ot((function(t,n){e+=Nm(n)})).next((function(){var n=new Rv(e);return t.store(Rv.store).put(Rv.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(Nv.store),r=t.store(Av.store);return n.Nt().next((function(n){return Yv.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Av.userMutationsIndex,i).next((function(r){return Yv.forEach(r,(function(r){cf(r.userId===n.userId);var i=dm(e.R,r);return km(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(Mv.store),n=t.store(xv.store);return t.store(Lv.store).get(Lv.key).next((function(t){var r=[];return n.Ot((function(n,i){var o=new If(n),s=[0,_v(o)];r.push(e.get(s).next((function(n){return n?Yv.resolve():(r=o,e.put(new Mv(0,_v(r),t.highestListenSequenceNumber)));var r})))})).next((function(){return Yv.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(Fv.store,{keyPath:Fv.keyPath});var n=e.store(Fv.store),r=new _m,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:_v(i)})}};return e.store(xv.store).Ot({kt:!0},(function(t,e){var n=new If(t);return i(n.popLast())})).next((function(){return e.store(Dv.store).Ot({kt:!0},(function(t,e){t[0];var n=t[1],r=(t[2],Ev(n));return i(r.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(Pv.store);return n.Ot((function(t,r){var i=pm(r),o=vm(e.R,i);return n.put(o)}))},t}();function Zm(t){t.createObjectStore(Mv.store,{keyPath:Mv.keyPath}).createIndex(Mv.documentTargetsIndex,Mv.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Pv.store,{keyPath:Pv.keyPath}).createIndex(Pv.queryTargetsIndexName,Pv.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Lv.store)}var tg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",eg=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new tf(Zh.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");var h,f;this.referenceDelegate=new Km(this,i),this.Le=n+"main",this.R=new sm(u),this.Be=new Wv(this.Le,11,new Jm(this.R)),this.qe=new Pm(this.referenceDelegate,this.R),this.Ut=new Im,this.Ue=(h=this.R,f=this.Ut,new Wm(h,f)),this.Qe=new gm,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&of("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new tf(Zh.FAILED_PRECONDITION,tg);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new Jh(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Ai(e,void 0,void 0,(function(){return Di(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return Ai(e,void 0,void 0,(function(){return Di(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return Ai(e,void 0,void 0,(function(){return Di(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return rg(e).put(new Vv(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if($v(e))return rf("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return rf("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return ng(t).get(kv.key).next((function(t){return Yv.resolve(e.tn(t))}))},t.prototype.en=function(t){return rg(t).delete(this.clientId)},t.prototype.nn=function(){return Ai(this,void 0,void 0,(function(){var t,e,n,r,i=this;return Di(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=nm(t,Vv.store);return e.Nt().next((function(t){var n=i.rn(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return Yv.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)r=n[e],this.Ke.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Yv.resolve(!0):ng(t).get(kv.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new tf(Zh.FAILED_PRECONDITION,tg);return!1}}return!(!e.networkEnabled||!e.inForeground)||rg(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&rf("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return Ai(this,void 0,void 0,(function(){var t=this;return Di(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.an(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.un(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[kv.store,Vv.store],(function(e){var n=new em(e,Jh.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return rg(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Am.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;rf("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.Be.runTransaction(t,o,qv,(function(o){return i=new em(o,r.Ne?r.Ne.next():Jh.o),"readwrite-primary"===e?r.Je(i).next((function(t){return!!t||r.Ye(i)})).next((function(e){if(!e)throw of("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new tf(Zh.FAILED_PRECONDITION,Bv);return n(i)})).next((function(t){return r.Ze(i).next((function(){return t}))})):r.dn(i).next((function(){return n(i)}))})).then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return ng(t).get(kv.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new tf(Zh.FAILED_PRECONDITION,tg)}))},t.prototype.Ze=function(t){var e=new kv(this.clientId,this.allowTabSynchronization,Date.now());return ng(t).put(kv.key,e)},t.yt=function(){return Wv.yt()},t.prototype.Xe=function(t){var e=this,n=ng(t);return n.get(kv.key).next((function(t){return e.tn(t)?(rf("IndexedDbPersistence","Releasing primary lease."),n.delete(kv.key)):Yv.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(of("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.un=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.an(),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return rf("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(r){return of("IndexedDbPersistence","Failed to get zombied client id.",r),!1}},t.prototype.an=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){of("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function ng(t){return nm(t,kv.store)}function rg(t){return nm(t,Vv.store)}function ig(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var og=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return r=e,Ff.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.Tn(t,e.path):Nd(e)?this.In(t,e,n):this.An(t,e,n);var r},t.prototype.Tn=function(t,e){return this.mn(t,new Ff(e)).next((function(t){var e=Ap();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=Ap();return this.Ut.getCollectionParents(t,i).next((function(s){return Yv.forEach(s,(function(s){var a,u,c=(a=e,u=s.child(i),new wd(u,null,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt));return r.An(t,c,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return i=e,o.Rn(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=Zf.newInvalidDocument(c),r=r.insert(c,l)),ip(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(t,n){Pd(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=Cp(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof cp&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))})),c}))},t}(),sg=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Cp(),i=Cp(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),ag=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i,o=this;return 0===(i=e).filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())||n.isEqual(gf.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(i){var s=o.Cn(e,i);return(Td(e)||Ed(e))&&o.Nn(e.limitType,s,r,n)?o.Dn(t,e):(nf()<=ro.DEBUG&&rf("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Rd(e)),o.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return s.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new Tp(Md(t));return e.forEach((function(e,r){Pd(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return nf()<=ro.DEBUG&&rf("QueryEngine","Using full collection scan to execute query:",Rd(e)),this.Sn.getDocumentsMatchingQuery(t,e,gf.min())},t}(),ug=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new wp(df),this.kn=new Ym((function(t){return nd(t)}),rd),this.On=gf.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new og(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.Fn)}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(t,e,n,r){return new ug(t,e,n,r)}function lg(t,e){return Ai(this,void 0,void 0,(function(){var n,r,i,o;return Di(this,(function(s){switch(s.label){case 0:return n=lf(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n._n.getAllMutationBatches(t).next((function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new og(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],s=Cp(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];s=s.add(f.key)}}for(var d=0,p=e;d<p.length;d++){var v=p[d];r.push(v.batchId);for(var m=0,g=v.mutations;m<g.length;m++){var y=g[m];s=s.add(y.key)}}return i.pn(t,s).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function hg(t,e){var n=lf(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r,i,o,s,a,u,c,l=e.batch.keys(),h=n.$n.newChangeBuffer({trackRemovals:!0});return(r=n,i=t,o=e,s=h,a=o.batch,u=a.keys(),c=Yv.resolve(),u.forEach((function(t){c=c.next((function(){return s.getEntry(i,t)})).next((function(e){var n=o.docVersions.get(t);cf(null!==n),e.version.compareTo(n)<0&&(a.applyToRemoteDocument(e,o),e.isValidDocument()&&s.addEntry(e,o.commitVersion))}))})),c.next((function(){return r._n.removeMutationBatch(i,a)}))).next((function(){return h.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,l)}))}))}function fg(t){var e=lf(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function dg(t,e){var n=lf(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach((function(e,o){var a,u,c,l=i.get(o);if(l){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var h=e.resumeToken;if(h.approximateByteSize()>0){var f=l.withResumeToken(h,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,f),a=l,c=e,cf((u=f).resumeToken.approximateByteSize()>0),(0===a.resumeToken.approximateByteSize()||u.snapshotVersion.toMicroseconds()-a.snapshotVersion.toMicroseconds()>=3e8||c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size>0)&&s.push(n.qe.updateTargetData(t,f))}}}));var a=kp();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),s.push(function(t,e,n,r,i){var o=Cp();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=kp();return n.forEach((function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(gf.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):rf("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}(t,o,e.documentUpdates,r,void 0).next((function(t){a=t}))),!r.isEqual(gf.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));s.push(u)}return Yv.waitFor(s).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,a)})).next((function(){return a}))})).then((function(t){return n.Fn=i,t}))}function pg(t,e){var n=lf(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function vg(t,e){var n=lf(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?(r=i,Yv.resolve(r)):n.qe.allocateTargetId(t).next((function(i){return r=new om(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t}))}function mg(t,e,n){return Ai(this,void 0,void 0,(function(){var r,i,o,s;return Di(this,(function(a){switch(a.label){case 0:r=lf(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.referenceDelegate.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!$v(s=a.sent()))throw s;return rf("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}}))}))}function gg(t,e,n){var r=lf(t),i=gf.min(),o=Cp();return r.persistence.runTransaction("Execute query","readonly",(function(t){return(s=r,a=t,u=Dd(e),c=lf(s),l=c.kn.get(u),void 0!==l?Yv.resolve(c.Fn.get(l)):c.qe.getTargetData(a,u)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:gf.min(),n?o:Cp())})).next((function(t){return{documents:t,Bn:o}}));var s,a,u,c,l}))}function yg(t,e){var n=lf(t),r=lf(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function bg(t){var e=lf(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return n=e.$n,r=t,i=e.On,o=lf(n),s=kp(),a=cm(i),u=$m(r),c=IDBKeyRange.lowerBound(a,!0),u.Ot({index:xv.readTimeIndex,range:c},(function(t,e){var n=am(o.R,e);s=s.insert(n.key,n),a=e.readTime})).next((function(){return{wn:s,readTime:lm(a)}}));var n,r,i,o,s,a,u,c})).then((function(t){var n=t.wn,r=t.readTime;return e.On=r,n}))}function wg(t){return Ai(this,void 0,void 0,(function(){var e;return Di(this,(function(n){return[2,(e=lf(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return e=$m(t),n=gf.min(),e.Ot({index:xv.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=lm(e.readTime)),r.done()})).next((function(){return n}));var e,n})).then((function(t){e.On=t}))]}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _g=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Yv.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:Qp(n.createTime)}),Yv.resolve()},t.prototype.getNamedQuery=function(t,e){return Yv.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,{name:(n=e).name,query:mm(n.bundledQuery),readTime:Qp(n.readTime)}),Yv.resolve();var n},t}(),Ig=function(){function t(){this.Wn=new Tp(Tg.Gn),this.zn=new Tp(Tg.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Tg(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new Tg(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new Ff(new If([])),r=new Tg(n,t),i=new Tg(n,t+1),o=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new Ff(new If([])),n=new Tg(e,t),r=new Tg(e,t+1),i=Cp();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new Tg(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Tg=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return Ff.comparator(t.key,e.key)||df(t.ns,e.ns)},t.Hn=function(t,e){return df(t.ns,e.ns)||Ff.comparator(t.key,e.key)},t}(),Eg=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Tp(Tg.Gn)}return t.prototype.checkEmpty=function(t){return Yv.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new rm(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new Tg(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return Yv.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Yv.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,r=this.cs(n),i=r<0?0:r;return Yv.resolve(this._n.length>i?this._n[i]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Yv.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Yv.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Tg(e,0),i=new Tg(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);o.push(e)})),Yv.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Tp(df);return e.forEach((function(t){var e=new Tg(t,0),i=new Tg(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),Yv.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Ff.isDocumentKey(i)||(i=i.child(""));var o=new Tg(new Ff(i),0),s=new Tp(df);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)}),o),Yv.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;cf(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Yv.forEach(e.mutations,(function(i){var o=new Tg(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Tg(e,0),r=this.rs.firstAfterOrEqual(n);return Yv.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return this._n.length,Yv.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Sg=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new wp(Ff.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Yv.resolve(n?n.document.clone():Zf.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=kp();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Zf.newInvalidDocument(t))})),Yv.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=kp(),i=new Ff(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.key,u=s.value,c=u.document,l=u.readTime;if(!e.path.isPrefixOf(a.path))break;l.compareTo(n)<=0||Pd(e,c)&&(r=r.insert(c.key,c.clone()))}return Yv.resolve(r)},t.prototype.fs=function(t,e){return Yv.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new kg(this)},t.prototype.getSize=function(t){return Yv.resolve(this.size)},t}(),kg=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return ki(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),Yv.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(Hm),Ng=function(){function t(t){this.persistence=t,this.ds=new Ym((function(t){return nd(t)}),rd),this.lastRemoteSnapshotVersion=gf.min(),this.highestTargetId=0,this.ws=0,this._s=new Ig,this.targetCount=0,this.ys=Rm.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),Yv.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Yv.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Yv.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Yv.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Yv.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Rm(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Yv.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Yv.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Yv.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)})),Yv.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return Yv.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Yv.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Yv.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),Yv.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Yv.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Yv.resolve(n)},t.prototype.containsKey=function(t,e){return Yv.resolve(this._s.containsKey(e))},t}(),Ag=function(){function t(t,e){var n,r=this;this.gs={},this.Ne=new Jh(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Ng(this),this.Ut=new wm,this.Ue=(n=this.Ut,new Sg(n,(function(t){return r.referenceDelegate.ps(t)}))),this.R=new sm(e),this.Qe=new _g(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Eg(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;rf("MemoryPersistence","Starting transaction:",t);var i=new Dg(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return Yv.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),Dg=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return ki(e,t),e}(Kv),Og=function(){function t(t){this.persistence=t,this.As=new Ig,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw uf()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Yv.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Yv.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Yv.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Yv.forEach(this.vs,(function(r){var i=Ff.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Yv.or([function(){return Yv.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),Cg=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(t,e){return"firestore_clients_"+t+"_"+e}function Rg(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Pg(t,e){return"firestore_targets_"+t+"_"+e}Cg.UNAUTHENTICATED=new Cg(null),Cg.GOOGLE_CREDENTIALS=new Cg("google-credentials-uid"),Cg.FIRST_PARTY=new Cg("first-party-uid");var Mg=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new tf(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(of("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Lg=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new tf(i.error.code,i.error.message)),o?new t(e,i.state,r):(of("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Fg=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Rp(),s=0;i&&s<r.activeTargetIds.length;++s)i=Lf(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(of("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Vg=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(of("SharedClientState","Failed to parse online state: "+e),null)},t}(),Ug=function(){function t(){this.activeTargetIds=Rp()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),jg=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new wp(df),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=xg(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.ks=this.ks.insert(this.Ns,new Ug),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Ai(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,u,c,l,h=this;return Di(this,(function(f){switch(f.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(xg(this.persistenceKey,r)))&&(o=Fg.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.Os;u<c.length;u++)l=c[u],this.Fs(l);return this.Os=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Pg(this.persistenceKey,t));if(n){var r=Lg.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Pg(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return rf("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){rf("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){rf("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(rf("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void of("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return Ai(e,void 0,void 0,(function(){var t,e,r,i,o,s;return Di(this,(function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=Jh.o;if(null!=t)try{var n=JSON.parse(t);cf("number"==typeof n),e=n}catch(r){of("SharedClientState","Failed to read sequence number from WebStorage",r)}return e}(n.newValue))!==Jh.o&&this.sequenceNumberHandler(s);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Mg(this.currentUser,t,e,n),i=Rg(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=Rg(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){var e={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(e))},t.prototype.Ys=function(t,e,n){var r=Pg(this.persistenceKey,t),i=new Lg(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Fg.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Mg.Vs(new Cg(i),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Lg.Vs(r,e)},t.prototype.js=function(t){return Vg.Vs(t)},t.prototype.ii=function(t){return Ai(this,void 0,void 0,(function(){return Di(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ai(t.batchId,t.state,t.error)]:(rf("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ui(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.syncEngine.hi(s,a).then((function(){n.ks=r}))},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Rp();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),qg=function(){function t(){this.li=new Ug,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Ug,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Bg=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),Kg=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){rf("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){rf("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Gg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Yg=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Hg=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return ki(e,t),e.prototype.ki=function(t,e,n,r){return new Promise((function(i,o){var s=new Xh;s.listenOnce(Hh.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Yh.NO_ERROR:var e=s.getResponseJson();rf("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Yh.TIMEOUT:rf("Connection",'RPC "'+t+'" timed out'),o(new tf(Zh.DEADLINE_EXCEEDED,"Request time out"));break;case Yh.HTTP_ERROR:var n=s.getStatus();if(rf("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=(u=r.status,c=u.toLowerCase().replace(/_/g,"-"),Object.values(Zh).indexOf(c)>=0?c:Zh.UNKNOWN);o(new tf(a,r.message))}else o(new tf(Zh.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new tf(Zh.UNAVAILABLE,"Connection failed."));break;default:uf()}}finally{rf("Connection",'RPC "'+t+'" completed.')}var u,c}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.$i=function(t,e){var n,r=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=new jh,o=Bc(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(s.initMessageHeaders,e),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Li())||"object"==typeof navigator&&"ReactNative"===navigator.product||Li().indexOf("Electron/")>=0||((n=Li()).indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0)||Li().indexOf("MSAppHost/")>=0||Vi()||(s.httpHeadersOverwriteParam="$httpHeaders");var a=r.join("");rf("Connection","Creating WebChannel: "+a,s);var u=i.createWebChannel(a,s),c=!1,l=!1,h=new Yg({Ei:function(t){l?rf("Connection","Not sending because WebChannel is closed:",t):(c||(rf("Connection","Opening WebChannel transport."),u.open(),c=!0),rf("Connection","WebChannel sending:",t),u.send(t))},Ti:function(){return u.close()}}),f=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(u,$h.EventType.OPEN,(function(){l||rf("Connection","WebChannel transport opened.")})),f(u,$h.EventType.CLOSE,(function(){l||(l=!0,rf("Connection","WebChannel transport closed"),h.Vi())})),f(u,$h.EventType.ERROR,(function(t){l||(l=!0,sf("Connection","WebChannel transport errored:",t),h.Vi(new tf(Zh.UNAVAILABLE,"The operation could not be completed")))})),f(u,$h.EventType.MESSAGE,(function(t){var e;if(!l){var n=t.data[0];cf(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){rf("Connection","WebChannel received error:",i);var o=i.status,s=function(t){var e=dp[t];if(void 0!==e)return bp(e)}(o),a=i.message;void 0===s&&(s=Zh.INTERNAL,a="Unknown error status: "+o+" with message "+i.message),l=!0,h.Vi(new tf(s,a)),u.close()}else rf("Connection","WebChannel received:",n),h.Si(n)}})),f(o,Wh.STAT_EVENT,(function(t){t.stat===zh?rf("Connection","Detected buffering proxy"):t.stat===Qh&&rf("Connection","Detected no buffering proxy")})),setTimeout((function(){h.Pi()}),0),h},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.Di=e+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);rf("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then((function(t){return rf("RestConnection","Received: ",t),t}),(function(e){throw sf("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.6.2",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){var n=Gg[t];return this.Di+"/v1/"+e+":"+n},t}());
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(){return"undefined"!=typeof window?window:null}function zg(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(t){return new Yp(t,!0)}var $g=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&rf("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Qi=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Xg=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new $g(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Ai(this,void 0,void 0,(function(){return Di(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ar(),this.stream.send(t)},t.prototype.rr=function(){return Ai(this,void 0,void 0,(function(){return Di(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ar=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Ai(this,void 0,void 0,(function(){return Di(this,(function(n){switch(n.label){case 0:return this.ar(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Zh.RESOURCE_EXHAUSTED?(of(e.toString()),of("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===Zh.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ur(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ur=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new tf(Zh.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return Ai(t,void 0,void 0,(function(){return Di(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return rf("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(rf("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Jg=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return ki(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n,r;if("targetChange"in e){e.targetChange;var i="NO_CHANGE"===(r=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:uf(),o=e.targetChange.targetIds||[],s=function(t,e){return t.I?(cf(void 0===e||"string"==typeof e),kf.fromBase64String(e||"")):(cf(void 0===e||e instanceof Uint8Array),kf.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(u=e.targetChange.cause)&&function(t){var e=void 0===t.code?Zh.UNKNOWN:bp(t.code);return new tf(e,t.message||"")}(u);n=new Vp(i,o,s,a||null)}else if("documentChange"in e){e.documentChange,(i=e.documentChange).document,i.document.name,i.document.updateTime,o=Zp(t,i.document.name),s=Qp(i.document.updateTime);var u=new Xf({mapValue:{fields:i.document.fields}}),c=(a=Zf.newFoundDocument(o,s,u),i.targetIds||[]),l=i.removedTargetIds||[];n=new Lp(c,l,a.key,a)}else if("documentDelete"in e)e.documentDelete,(i=e.documentDelete).document,o=Zp(t,i.document),s=i.readTime?Qp(i.readTime):gf.min(),u=Zf.newNoDocument(o,s),a=i.removedTargetIds||[],n=new Lp([],a,u.key,u);else if("documentRemove"in e)e.documentRemove,(i=e.documentRemove).document,o=Zp(t,i.document),s=i.removedTargetIds||[],n=new Lp([],s,o,null);else{if(!("filter"in e))return uf();e.filter;var h=e.filter;h.targetId,i=h.count||0,o=new gp(i),s=h.targetId,n=new Fp(s,o)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return gf.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?gf.min():e.readTime?Qp(e.readTime):gf.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e,n,r,i,o={};o.database=nv(this.R),o.addTarget=(e=this.R,i=(n=t).target,(r=id(i)?{documents:av(e,i)}:{query:uv(e,i)}).targetId=n.targetId,n.resumeToken.approximateByteSize()>0?r.resumeToken=Wp(e,n.resumeToken):n.snapshotVersion.compareTo(gf.min())>0&&(r.readTime=Hp(e,n.snapshotVersion.toTimestamp())),r);var s=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return uf()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,t);s&&(o.labels=s),this.cr(o)},e.prototype.yr=function(t){var e={};e.database=nv(this.R),e.removeTarget=t,this.cr(e)},e}(Xg),Zg=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return ki(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ur=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(cf(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=(r=t.writeResults,i=t.commitTime,r&&r.length>0?(cf(void 0!==i),r.map((function(t){return n=i,(r=(e=t).updateTime?Qp(e.updateTime):Qp(n)).isEqual(gf.min())&&(r=Qp(n)),new Zd(r,e.transformResults||[]);var e,n,r}))):[]),n=Qp(t.commitTime);return this.listener.Tr(n,e)}var r,i;return cf(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=nv(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return ov(e.R,t)}))};this.cr(n)},e}(Xg),ty=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return ki(e,t),e.prototype.br=function(){if(this.Rr)throw new tf(Zh.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===Zh.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new tf(Zh.UNKNOWN,t.toString())}))},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Oi(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===Zh.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new tf(Zh.UNKNOWN,t.toString())}))},e.prototype.terminate=function(){this.Rr=!0},e}((function(){})),ey=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(of(e),this.Vr=!1):rf("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),ny=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(t){n.enqueueAndForget((function(){return Ai(o,void 0,void 0,(function(){return Di(this,(function(t){switch(t.label){case 0:return hy(this)?(rf("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Ai(this,void 0,void 0,(function(){var e;return Di(this,(function(n){switch(n.label){case 0:return(e=lf(t)).$r.add(4),[4,iy(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,ry(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new ey(n,r)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(t){return Ai(this,void 0,void 0,(function(){var e,n;return Di(this,(function(r){switch(r.label){case 0:if(!hy(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function iy(t){return Ai(this,void 0,void 0,(function(){var e,n;return Di(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function oy(t,e){var n=lf(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),ly(n)?cy(n):ky(n).er()&&ay(n,e))}function sy(t,e){var n=lf(t),r=ky(n);n.Or.delete(e),r.er()&&uy(n,e),0===n.Or.size&&(r.er()?r.ir():hy(n)&&n.Br.set("Unknown"))}function ay(t,e){t.qr.U(e.targetId),ky(t).mr(e)}function uy(t,e){t.qr.U(e),ky(t).yr(e)}function cy(t){t.qr=new jp({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),ky(t).start(),t.Br.Sr()}function ly(t){return hy(t)&&!ky(t).tr()&&t.Or.size>0}function hy(t){return 0===lf(t).$r.size}function fy(t){t.qr=void 0}function dy(t){return Ai(this,void 0,void 0,(function(){return Di(this,(function(e){return t.Or.forEach((function(e,n){ay(t,e)})),[2]}))}))}function py(t,e){return Ai(this,void 0,void 0,(function(){return Di(this,(function(n){return fy(t),ly(t)?(t.Br.Nr(e),cy(t)):t.Br.set("Unknown"),[2]}))}))}function vy(t,e,n){return Ai(this,void 0,void 0,(function(){var r,i,o;return Di(this,(function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof Vp&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Ai(this,void 0,void 0,(function(){var n,r,i,o;return Di(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?(o=i[r],t.Or.has(o)?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:s.sent(),t.Or.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),rf("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,my(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Lp?t.qr.X(e):e instanceof Fp?t.qr.rt(e):t.qr.et(e),n.isEqual(gf.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,fg(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,(a=t,u=n,c=a.qr.at(u),c.targetChanges.forEach((function(t,e){if(t.resumeToken.approximateByteSize()>0){var n=a.Or.get(e);n&&a.Or.set(e,n.withResumeToken(t.resumeToken,u))}})),c.targetMismatches.forEach((function(t){var e=a.Or.get(t);if(e){a.Or.set(t,e.withResumeToken(kf.EMPTY_BYTE_STRING,e.snapshotVersion)),uy(a,t);var n=new om(e.target,t,1,e.sequenceNumber);ay(a,n)}})),a.remoteSyncer.applyRemoteEvent(c))]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return rf("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,my(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}var a,u,c}))}))}function my(t,e,n){return Ai(this,void 0,void 0,(function(){var r=this;return Di(this,(function(i){switch(i.label){case 0:if(!$v(e))throw e;return t.$r.add(1),[4,iy(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return fg(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return Ai(r,void 0,void 0,(function(){return Di(this,(function(e){switch(e.label){case 0:return rf("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,ry(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function gy(t,e){return e().catch((function(n){return my(t,n,e)}))}function yy(t){return Ai(this,void 0,void 0,(function(){var e,n,r,i,o;return Di(this,(function(s){switch(s.label){case 0:e=lf(t),n=Ny(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!(hy(a=e)&&a.kr.length<10))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,pg(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=Ny(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,my(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return by(e)&&wy(e),[2]}var a}))}))}function by(t){return hy(t)&&!Ny(t).tr()&&t.kr.length>0}function wy(t){Ny(t).start()}function _y(t){return Ai(this,void 0,void 0,(function(){return Di(this,(function(e){return Ny(t).Ar(),[2]}))}))}function Iy(t){return Ai(this,void 0,void 0,(function(){var e,n,r,i;return Di(this,(function(o){for(e=Ny(t),n=0,r=t.kr;n<r.length;n++)i=r[n],e.Er(i.mutations);return[2]}))}))}function Ty(t,e,n){return Ai(this,void 0,void 0,(function(){var r,i;return Di(this,(function(o){switch(o.label){case 0:return r=t.kr.shift(),i=im.from(r,e,n),[4,gy(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,yy(t)];case 2:return o.sent(),[2]}}))}))}function Ey(t,e){return Ai(this,void 0,void 0,(function(){return Di(this,(function(n){switch(n.label){case 0:return e&&Ny(t).pr?[4,function(t,e){return Ai(this,void 0,void 0,(function(){var n,r;return Di(this,(function(i){switch(i.label){case 0:return yp(r=e.code)&&r!==Zh.ABORTED?(n=t.kr.shift(),Ny(t).sr(),[4,gy(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,yy(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return by(t)&&wy(t),[2]}}))}))}function Sy(t,e){return Ai(this,void 0,void 0,(function(){var n;return Di(this,(function(r){switch(r.label){case 0:return n=lf(t),e?(n.$r.delete(2),[4,ry(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,iy(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function ky(t){var e,n,r,i,o=this;return t.Ur||(t.Ur=(e=t.datastore,n=t.asyncQueue,r={Ii:dy.bind(null,t),Ri:py.bind(null,t),_r:vy.bind(null,t)},(i=lf(e)).br(),new Jg(n,i.Hi,i.credentials,i.R,r)),t.Mr.push((function(e){return Ai(o,void 0,void 0,(function(){return Di(this,(function(n){switch(n.label){case 0:return e?(t.Ur.sr(),ly(t)?cy(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:n.sent(),fy(t),n.label=3;case 3:return[2]}}))}))}))),t.Ur}function Ny(t){var e,n,r,i,o=this;return t.Qr||(t.Qr=(e=t.datastore,n=t.asyncQueue,r={Ii:_y.bind(null,t),Ri:Ey.bind(null,t),Ir:Iy.bind(null,t),Tr:Ty.bind(null,t)},(i=lf(e)).br(),new Zg(n,i.Hi,i.credentials,i.R,r)),t.Mr.push((function(e){return Ai(o,void 0,void 0,(function(){return Di(this,(function(n){switch(n.label){case 0:return e?(t.Qr.sr(),[4,yy(t)]):[3,2];case 1:return n.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:n.sent(),t.kr.length>0&&(rf("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),n.label=4;case 4:return[2]}}))}))}))),t.Qr}var Ay=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Gv,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new tf(Zh.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Dy(t,e){if(of("AsyncQueue",e+": "+t),$v(t))return new tf(Zh.UNAVAILABLE,e+": "+t);throw t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oy=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Ff.comparator(e.key,n.key)}:function(t,e){return Ff.comparator(t.key,e.key)},this.keyedMap=Ap(),this.sortedSet=new wp(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Cy=function(){function t(){this.Kr=new wp(Ff.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):uf():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),xy=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Oy.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Cd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Ry=function(){this.Wr=void 0,this.listeners=[]},Py=function(){this.queries=new Ym((function(t){return xd(t)}),Cd),this.onlineState="Unknown",this.Gr=new Set};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(t,e){return Ai(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Di(this,(function(c){switch(c.label){case 0:if(n=lf(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new Ry),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=Dy(a,"Initialization of query '"+Rd(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&Uy(n),[2]}}))}))}function Ly(t,e){return Ai(this,void 0,void 0,(function(){var n,r,i,o,s;return Di(this,(function(a){return n=lf(t),r=e.query,i=!1,(o=n.queries.get(r))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function Fy(t,e){for(var n=lf(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=s.query,u=n.queries.get(a);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(s)&&(r=!0);u.Wr=s}}r&&Uy(n)}function Vy(t,e,n){var r=lf(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Uy(t){t.Gr.forEach((function(t){t.next()}))}var jy=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new xy(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.so&&n||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var e=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=xy.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),qy=function(t){this.key=t},By=function(t){this.key=t},Ky=function(){function t(t,e){this.query=t,this.ao=e,this.uo=null,this.current=!1,this.ho=Cp(),this.mutatedKeys=Cp(),this.lo=Md(t),this.fo=new Oy(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.ao},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new Cy,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=Td(this.query)&&i.size===this.query.limit?i.last():null,c=Ed(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var l=i.get(t),h=Pd(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),Td(this.query)||Ed(this.query))for(;s.size>this.query.limit;){var l=Td(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return n=t.type,i=e.type,(o=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return uf()}})(n)-o(i)||r.lo(t.doc,e.doc);var n,i,o})),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.uo;return this.uo=a,0!==o.length||u?{snapshot:new xy(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Cy,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.ao.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.ao=e.ao.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.ao=e.ao.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Cp(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new By(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new qy(t))})),n},t.prototype.Ao=function(t){this.ao=t.Bn,this.ho=Cp();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return xy.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.uo)},t}(),Gy=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Yy=function(t){this.key=t,this.bo=!1},Hy=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Ym((function(t){return xd(t)}),Cd),this.Vo=new Map,this.So=new Set,this.Do=new wp(Ff.comparator),this.Co=new Map,this.No=new Ig,this.xo={},this.Fo=new Map,this.ko=Rm.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(t,e){return Ai(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Di(this,(function(u){switch(u.label){case 0:return n=Ib(t),(o=n.Po.get(e))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,vg(n.localStore,Dd(e))];case 2:return s=u.sent(),a=n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.targetId,[4,zy(n,e,r,"current"===a)];case 3:i=u.sent(),n.isPrimaryClient&&oy(n.remoteStore,s),u.label=4;case 4:return[2,i]}}))}))}function zy(t,e,n,r){return Ai(this,void 0,void 0,(function(){var i,o,s,a,u,c;return Di(this,(function(l){switch(l.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return Ai(this,void 0,void 0,(function(){var i,o,s;return Di(this,(function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,gg(t.localStore,e.query,!1).then((function(t){var n=t.documents;return e.view._o(n,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(ab(t,e.targetId,s.To),s.snapshot)]}}))}))}(t,e,n,r)},[4,gg(t.localStore,e,!0)];case 1:return i=l.sent(),o=new Ky(e,i.Bn),s=o._o(i.documents),a=Mp.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),ab(t,n,u.To),c=new Gy(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}}))}))}function Qy(t,e){return Ai(this,void 0,void 0,(function(){var n,r,i;return Di(this,(function(o){switch(o.label){case 0:return n=lf(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(t){return!Cd(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,mg(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),sy(n.remoteStore,r.targetId),ob(n,r.targetId)})).catch(Vm)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return ob(n,r.targetId),[4,mg(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function $y(t,e,n){return Ai(this,void 0,void 0,(function(){var r,i,o,s;return Di(this,(function(a){switch(a.label){case 0:r=Tb(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,(u=r.localStore,c=e,h=lf(u),f=mf.now(),d=c.reduce((function(t,e){return t.add(e.key)}),Cp()),h.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return h.Mn.pn(t,d).next((function(e){l=e;for(var n=[],r=0,i=c;r<i.length;r++){var o=i[r],s=op(o,l.get(o.key));null!=s&&n.push(new cp(o.key,s,Jf(s.toProto().mapValue),tp.exists(!0)))}return h._n.addMutationBatch(t,f,n,c)}))})).then((function(t){return t.applyToLocalDocumentSet(l),{batchId:t.batchId,changes:l}})))];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new wp(df)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,lb(r,i.changes)];case 3:return a.sent(),[4,yy(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Dy(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}var u,c,l,h,f,d}))}))}function Xy(t,e){return Ai(this,void 0,void 0,(function(){var n,r;return Di(this,(function(i){switch(i.label){case 0:n=lf(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,dg(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(cf(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?cf(r.bo):t.removedDocuments.size>0&&(cf(r.bo),r.bo=!1))})),[4,lb(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Vm(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Jy(t,e,n){var r=lf(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=lf(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)})),r&&Uy(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Zy(t,e,n){return Ai(this,void 0,void 0,(function(){var r,i,o,s,a,u;return Di(this,(function(c){switch(c.label){case 0:return(r=lf(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new wp(Ff.comparator)).insert(o,Zf.newNoDocument(o,gf.min())),a=Cp().add(o),u=new Pp(gf.min(),new Map,new Tp(df),s,a),[4,Xy(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),cb(r),[3,4];case 2:return[4,mg(r.localStore,e,!1).then((function(){return ob(r,e,n)})).catch(Vm)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function tb(t,e){return Ai(this,void 0,void 0,(function(){var n,r,i;return Di(this,(function(o){switch(o.label){case 0:n=lf(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,hg(n.localStore,e)];case 2:return i=o.sent(),ib(n,r,null),rb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,lb(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Vm(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function eb(t,e,n){return Ai(this,void 0,void 0,(function(){var r,i;return Di(this,(function(o){switch(o.label){case 0:r=lf(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(s=r.localStore,a=e,u=lf(s),u.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var e;return u._n.lookupMutationBatch(t,a).next((function(n){return cf(null!==n),e=n.keys(),u._n.removeMutationBatch(t,n)})).next((function(){return u._n.performConsistencyCheck(t)})).next((function(){return u.Mn.pn(t,e)}))})))];case 2:return i=o.sent(),ib(r,e,n),rb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,lb(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Vm(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}var s,a,u}))}))}function nb(t,e){return Ai(this,void 0,void 0,(function(){var n,r,i,o,s;return Di(this,(function(a){switch(a.label){case 0:hy((n=lf(t)).remoteStore)||rf("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,(u=n.localStore,c=lf(u),c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return c._n.getHighestUnacknowledgedBatchId(t)})))];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=Dy(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}var u,c}))}))}function rb(t,e){(t.Fo.get(e)||[]).forEach((function(t){t.resolve()})),t.Fo.delete(e)}function ib(t,e,n){var r=lf(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function ob(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||sb(t,e)}))}function sb(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(sy(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),cb(t))}function ab(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof qy?(t.No.addReference(o.key,e),ub(t,o)):o instanceof By?(rf("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||sb(t,o.key)):uf()}}function ub(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(rf("SyncEngine","New document in limbo: "+n),t.So.add(r),cb(t))}function cb(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new Ff(If.fromString(e)),r=t.ko.next();t.Co.set(r,new Yy(n)),t.Do=t.Do.insert(n,r),oy(t.remoteStore,new om(Dd(Id(n.path)),r,2,Jh.o))}}function lb(t,e,n){return Ai(this,void 0,void 0,(function(){var r,i,o,s;return Di(this,(function(a){switch(a.label){case 0:return r=lf(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(t,a){s.push(r.$o(a,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=sg.Pn(a.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Ai(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l;return Di(this,(function(h){switch(h.label){case 0:n=lf(t),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Yv.forEach(e,(function(e){return Yv.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return Yv.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return h.sent(),[3,4];case 3:if(!$v(r=h.sent()))throw r;return rf("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=o[i],a=s.targetId,s.fromCache||(u=n.Fn.get(a),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.Fn=n.Fn.insert(a,l));return[2]}}))}))}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function hb(t,e){return Ai(this,void 0,void 0,(function(){var n,r;return Di(this,(function(i){switch(i.label){case 0:return(n=lf(t)).currentUser.isEqual(e)?[3,3]:(rf("SyncEngine","User change. New user:",e.toKey()),[4,lg(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,(o=n).Fo.forEach((function(t){t.forEach((function(t){t.reject(new tf(Zh.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),o.Fo.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,lb(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}var o}))}))}function fb(t,e){var n=lf(t),r=n.Co.get(e);if(r&&r.bo)return Cp().add(r.key);var i=Cp(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=a[s],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function db(t,e){return Ai(this,void 0,void 0,(function(){var n,r,i;return Di(this,(function(o){switch(o.label){case 0:return[4,gg((n=lf(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&ab(n,e.targetId,i.To),i)]}}))}))}function pb(t){return Ai(this,void 0,void 0,(function(){var e;return Di(this,(function(n){return[2,bg((e=lf(t)).localStore).then((function(t){return lb(e,t)}))]}))}))}function vb(t,e,n,r){return Ai(this,void 0,void 0,(function(){var i,o;return Di(this,(function(s){switch(s.label){case 0:return[4,(a=(i=lf(t)).localStore,u=e,c=lf(a),l=lf(c._n),c.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return l.jt(t,u).next((function(e){return e?c.Mn.pn(t,e):Yv.resolve(null)}))})))];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,yy(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(ib(i,e,r||null),rb(i,e),function(t,e){lf(lf(t)._n).Gt(e)}(i.localStore,e)):uf(),s.label=4;case 4:return[4,lb(i,o)];case 5:return s.sent(),[3,7];case 6:rf("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}var a,u,c,l}))}))}function mb(t,e){return Ai(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return Di(this,(function(l){switch(l.label){case 0:return Ib(n=lf(t)),Tb(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,gb(n,r.toArray())]);case 1:return i=l.sent(),n.Oo=!0,[4,Sy(n.remoteStore,!0)];case 2:for(l.sent(),o=0,s=i;o<s.length;o++)a=s[o],oy(n.remoteStore,a);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?u.push(e):c=c.then((function(){return ob(n,e),mg(n.localStore,e,!0)})),sy(n.remoteStore,e)})),[4,c]);case 4:return l.sent(),[4,gb(n,u)];case 5:return l.sent(),(h=lf(n)).Co.forEach((function(t,e){sy(h.remoteStore,e)})),h.No.ts(),h.Co=new Map,h.Do=new wp(Ff.comparator),n.Oo=!1,[4,Sy(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}var h}))}))}function gb(t,e,n){return Ai(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,h,f,d,p,v;return Di(this,(function(m){switch(m.label){case 0:n=lf(t),r=[],i=[],o=0,s=e,m.label=1;case 1:return o<s.length?(a=s[o],u=void 0,(c=n.Vo.get(a))&&0!==c.length?[4,vg(n.localStore,Dd(c[0]))]:[3,7]):[3,13];case 2:u=m.sent(),l=0,h=c,m.label=3;case 3:return l<h.length?(f=h[l],d=n.Po.get(f),[4,db(n,d)]):[3,6];case 4:(p=m.sent()).snapshot&&i.push(p.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,yg(n.localStore,a)];case 8:return v=m.sent(),[4,vg(n.localStore,v)];case 9:return u=m.sent(),[4,zy(n,yb(v),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(u),m.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function yb(t){return _d(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function bb(t){var e=lf(t);return lf(lf(e.localStore).persistence).fn()}function wb(t,e,n,r){return Ai(this,void 0,void 0,(function(){var i,o,s;return Di(this,(function(a){switch(a.label){case 0:return(i=lf(t)).Oo?(rf("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,bg(i.localStore)];case 3:return o=a.sent(),s=Pp.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,lb(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,mg(i.localStore,e,!0)];case 6:return a.sent(),ob(i,e,r),[3,8];case 7:uf(),a.label=8;case 8:return[2]}}))}))}function _b(t,e,n){return Ai(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,h,f;return Di(this,(function(d){switch(d.label){case 0:if(!(r=Ib(t)).Oo)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?(s=o[i],r.Vo.has(s)?(rf("SyncEngine","Adding an already active target "+s),[3,5]):[4,yg(r.localStore,s)]):[3,6];case 2:return a=d.sent(),[4,vg(r.localStore,a)];case 3:return u=d.sent(),[4,zy(r,yb(a),u.targetId,!1)];case 4:d.sent(),oy(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Di(this,(function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,mg(r.localStore,t,!1).then((function(){sy(r.remoteStore,t),ob(r,t)})).catch(Vm)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,d.label=7;case 7:return l<h.length?(f=h[l],[5,c(f)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function Ib(t){var e=lf(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Xy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Zy.bind(null,e),e.vo._r=Fy.bind(null,e.eventManager),e.vo.Mo=Vy.bind(null,e.eventManager),e}function Tb(t){var e=lf(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eb.bind(null,e),e}var Eb=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Ai(this,void 0,void 0,(function(){return Di(this,(function(e){switch(e.label){case 0:return this.R=Qg(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return cg(this.persistence,new ag,t.initialUser,this.R)},t.prototype.qo=function(t){return new Ag(Og.bs,this.R)},t.prototype.Bo=function(t){return new qg},t.prototype.terminate=function(){return Ai(this,void 0,void 0,(function(){return Di(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),Sb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return ki(e,t),e.prototype.initialize=function(e){return Ai(this,void 0,void 0,(function(){return Di(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,wg(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,Tb(this.Ko.syncEngine)];case 4:return n.sent(),[4,yy(this.Ko.remoteStore)];case 5:return n.sent(),[2]}}))}))},e.prototype.Qo=function(t){return cg(this.persistence,new ag,t.initialUser,this.R)},e.prototype.Uo=function(t){var e=this.persistence.referenceDelegate.garbageCollector;return new qm(e,t.asyncQueue)},e.prototype.qo=function(t){var e=ig(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Sm.withCacheSize(this.cacheSizeBytes):Sm.DEFAULT;return new eg(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Wg(),zg(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new qg},e}(Eb),kb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return ki(e,t),e.prototype.initialize=function(e){return Ai(this,void 0,void 0,(function(){var n,r=this;return Di(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof jg?(this.sharedClientState.syncEngine={ai:vb.bind(null,n),ui:wb.bind(null,n),hi:_b.bind(null,n),fn:bb.bind(null,n),ci:pb.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(t){return Ai(r,void 0,void 0,(function(){return Di(this,(function(e){switch(e.label){case 0:return[4,mb(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=Wg();if(!jg.yt(e))throw new tf(Zh.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=ig(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new jg(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Sb),Nb=function(){function t(){}return t.prototype.initialize=function(t,e){return Ai(this,void 0,void 0,(function(){var n=this;return Di(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Jy(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=hb.bind(null,this.syncEngine),[4,Sy(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new Py},t.prototype.createDatastore=function(t){var e,n,r=Qg(t.databaseInfo.databaseId),i=(e=t.databaseInfo,new Hg(e));return n=t.credentials,new ty(n,i,r)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Jy(s.syncEngine,t,0)},o=Kg.yt()?new Kg:new Bg,new ny(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return n=this.localStore,r=this.remoteStore,i=this.eventManager,o=this.sharedClientState,s=t.initialUser,a=t.maxConcurrentLimboResolutions,u=e,c=new Hy(n,r,i,o,s,a),u&&(c.Oo=!0),c;var n,r,i,o,s,a,u,c},t.prototype.terminate=function(){return function(t){return Ai(this,void 0,void 0,(function(){var e;return Di(this,(function(n){switch(n.label){case 0:return e=lf(t),rf("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,iy(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}(),Ab=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),Db=function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Ai(this,void 0,void 0,(function(){var e,n=this;return Di(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new tf(Zh.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Ai(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Di(this,(function(u){switch(u.label){case 0:return n=lf(t),r=nv(n.R)+"/documents",i={documents:e.map((function(t){return Jp(n.R,t)}))},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach((function(t){var e,r,i=(e=n.R,"found"in(r=t)?function(t,e){cf(!!e.found),e.found.name,e.found.updateTime;var n=Zp(t,e.found.name),r=Qp(e.found.updateTime),i=new Xf({mapValue:{fields:e.found.fields}});return Zf.newFoundDocument(n,r,i)}(e,r):"missing"in r?function(t,e){cf(!!e.missing),cf(!!e.readTime);var n=Zp(t,e.missing),r=Qp(e.readTime);return Zf.newNoDocument(n,r)}(e,r):uf());s.set(i.key.toString(),i)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());cf(!!e),a.push(e)})),a)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(n){this.lastWriteError=n}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new vp(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Ai(this,void 0,void 0,(function(){var t,e=this;return Di(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Ff.fromPath(n);e.mutations.push(new mp(r,e.precondition(r)))})),[4,function(t,e){return Ai(this,void 0,void 0,(function(){var n,r,i;return Di(this,(function(o){switch(o.label){case 0:return n=lf(t),r=nv(n.R)+"/documents",i={writes:e.map((function(t){return ov(n.R,t)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw uf();e=gf.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new tf(Zh.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?tp.updateTime(e):tp.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(gf.min()))throw new tf(Zh.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return tp.updateTime(e)}return tp.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}(),Ob=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new $g(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return Ai(t,void 0,void 0,(function(){var t,e,n=this;return Di(this,(function(r){return t=new Db(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Pf(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!yp(e)}return!1},t}(),Cb=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Cg.UNAUTHENTICATED,this.clientId=ff.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,(function(t){return Ai(r,void 0,void 0,(function(){return Di(this,(function(e){switch(e.label){case 0:return rf("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}}))}))}))}return t.prototype.getConfiguration=function(){return Ai(this,void 0,void 0,(function(){return Di(this,(function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new tf(Zh.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Gv;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Ai(t,void 0,void 0,(function(){var t,n;return Di(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Dy(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function xb(t,e){return Ai(this,void 0,void 0,(function(){var n,r,i=this;return Di(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),rf("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener((function(t){return Ai(i,void 0,void 0,(function(){return Di(this,(function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,lg(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}}))}))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function Rb(t,e){return Ai(this,void 0,void 0,(function(){var n,r;return Di(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Pb(t)];case 1:return n=i.sent(),rf("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener((function(t){return function(t,e){return Ai(this,void 0,void 0,(function(){var n,r;return Di(this,(function(i){switch(i.label){case 0:return(n=lf(t)).asyncQueue.verifyOperationInProgress(),rf("RemoteStore","RemoteStore received new credentials"),r=hy(n),n.$r.add(3),[4,iy(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,ry(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,t)})),t.onlineComponents=e,[2]}}))}))}function Pb(t){return Ai(this,void 0,void 0,(function(){return Di(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(rf("FirestoreClient","Using default OfflineComponentProvider"),[4,xb(t,new Eb)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function Mb(t){return Ai(this,void 0,void 0,(function(){return Di(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(rf("FirestoreClient","Using default OnlineComponentProvider"),[4,Rb(t,new Nb)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function Lb(t){return Pb(t).then((function(t){return t.persistence}))}function Fb(t){return Pb(t).then((function(t){return t.localStore}))}function Vb(t){return Mb(t).then((function(t){return t.remoteStore}))}function Ub(t){return Mb(t).then((function(t){return t.syncEngine}))}function jb(t){return Ai(this,void 0,void 0,(function(){var e,n;return Di(this,(function(r){switch(r.label){case 0:return[4,Mb(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Wy.bind(null,e.syncEngine),n.onUnlisten=Qy.bind(null,e.syncEngine),n)]}}))}))}function qb(t,e,n){var r=this;void 0===n&&(n={});var i=new Gv;return t.asyncQueue.enqueueAndForget((function(){return Ai(r,void 0,void 0,(function(){var r;return Di(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Ab({next:function(o){e.enqueueAndForget((function(){return Ly(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new tf(Zh.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new tf(Zh.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new jy(Id(n.path),o,{includeMetadataChanges:!0,so:!0});return My(t,s)},[4,jb(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}function Bb(t,e,n){var r=this;void 0===n&&(n={});var i=new Gv;return t.asyncQueue.enqueueAndForget((function(){return Ai(r,void 0,void 0,(function(){var r;return Di(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Ab({next:function(n){e.enqueueAndForget((function(){return Ly(t,s)})),n.fromCache&&"server"===r.source?i.reject(new tf(Zh.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new jy(n,o,{includeMetadataChanges:!0,so:!0});return My(t,s)},[4,jb(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}var Kb=function(t,e,n,r,i,o,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s},Gb=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Yb=new Map,Hb=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Wb=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable((function(){return e(Cg.UNAUTHENTICATED)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),zb=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable((function(){return e(n.token.user)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Qb=function(){function t(t){var e=this;this.currentUser=Cg.UNAUTHENTICATED,this.oc=new Gv,this.cc=0,this.changeListener=function(){return Promise.resolve()},this.ac=!1,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.hc(),e.oc.resolve(),e.ac&&e.asyncQueue.enqueueRetryable((function(){return e.changeListener(e.currentUser)}))};var n=function(t){rf("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.lc(),e.auth.addAuthTokenListener(e.uc)};t.onInit((function(t){return n(t)})),setTimeout((function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):e.ac&&(rf("FirebaseCredentialsProvider","Auth not yet detected"),e.asyncQueue.enqueueRetryable((function(){return e.changeListener(e.currentUser)})))}}),0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(rf("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(cf("string"==typeof n.accessToken),new Hb(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){this.ac=!0,this.asyncQueue=t,this.changeListener=e},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.hc=function(){var t=this.auth&&this.auth.getUid();return cf(null===t||"string"==typeof t),new Cg(t)},t.prototype.lc=function(){var t=this;this.ac&&(this.ac=!1,this.asyncQueue.enqueueRetryable((function(){return Ai(t,void 0,void 0,(function(){return Di(this,(function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,this.changeListener(this.currentUser)];case 2:return t.sent(),this.ac=!0,[2]}}))}))})))},t}(),$b=function(){function t(t,e,n){this.fc=t,this.dc=e,this.wc=n,this.type="FirstParty",this.user=Cg.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.dc},e=this.fc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.wc&&(t["X-Goog-Iam-Authorization-Token"]=this.wc),t},enumerable:!1,configurable:!0}),t}(),Xb=function(){function t(t,e,n){this.fc=t,this.dc=e,this.wc=n}return t.prototype.getToken=function(){return Promise.resolve(new $b(this.fc,this.dc,this.wc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable((function(){return e(Cg.FIRST_PARTY)}))},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(t,e,n){if(!n)throw new tf(Zh.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Zb(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new tf(Zh.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function tw(t,e,n,r){if(!0===e&&!0===r)throw new tf(Zh.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function ew(t){if(!Ff.isDocumentKey(t))throw new tf(Zh.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function nw(t){if(Ff.isDocumentKey(t))throw new tf(Zh.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function rw(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":uf()}function iw(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new tf(Zh.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=rw(t);throw new tf(Zh.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function ow(t,e){if(e<=0)throw new tf(Zh.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sw=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new tf(Zh.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new tf(Zh.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,tw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),aw=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sw({}),this._settingsFrozen=!1,t instanceof Gb?(this._databaseId=t,this._credentials=new Wb):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new tf(Zh.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gb(t.options.projectId)}(t),this._credentials=new Qb(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new tf(Zh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new tf(Zh.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sw(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Wb;switch(t.type){case"gapi":var e=t.client;return cf(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Xb(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new tf(Zh.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return this,(t=Yb.get(this))&&(rf("ComponentProvider","Removing Datastore"),Yb.delete(this),t.terminate()),Promise.resolve();var t},t}(),uw=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new lw(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),cw=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),lw=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Id(r))||this)._path=r,i.type="collection",i}return ki(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new uw(this.firestore,null,new Ff(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(cw);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Xi(t),Jb("collection","path",e),t instanceof aw)return nw(n=If.fromString.apply(If,xi([e],r))),new lw(t,null,n);if(!(t instanceof uw||t instanceof lw))throw new tf(Zh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return nw(n=If.fromString.apply(If,xi([t.path],r)).child(If.fromString(e))),new lw(t.firestore,null,n)}function fw(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Xi(t),1===arguments.length&&(e=ff.u()),Jb("doc","path",e),t instanceof aw)return ew(n=If.fromString.apply(If,xi([e],r))),new uw(t,null,new Ff(n));if(!(t instanceof uw||t instanceof lw))throw new tf(Zh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ew(n=t._path.child(If.fromString.apply(If,xi([e],r)))),new uw(t.firestore,t instanceof lw?t.converter:null,new Ff(n))}function dw(t,e){return t=Xi(t),e=Xi(e),(t instanceof uw||t instanceof lw)&&(e instanceof uw||e instanceof lw)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function pw(t,e){return t=Xi(t),e=Xi(e),t instanceof cw&&e instanceof cw&&t.firestore===e.firestore&&Cd(t._query,e._query)&&t.converter===e.converter}var vw=function(){function t(){var t=this;this._c=Promise.resolve(),this.mc=[],this.yc=!1,this.gc=[],this.Ec=null,this.Tc=!1,this.Ic=[],this.Zi=new $g(this,"async_queue_retry"),this.Ac=function(){var e=zg();e&&rf("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=zg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ac)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.yc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Rc(),this.bc(t)},t.prototype.enterRestrictedMode=function(){if(!this.yc){this.yc=!0;var t=zg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ac)}},t.prototype.enqueue=function(t){return this.Rc(),this.yc?new Promise((function(t){})):this.bc(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.mc.push(t),e.vc()}))},t.prototype.vc=function(){return Ai(this,void 0,void 0,(function(){var t,e=this;return Di(this,(function(n){switch(n.label){case 0:if(0===this.mc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.mc[0]()];case 2:return n.sent(),this.mc.shift(),this.Zi.reset(),[3,4];case 3:if(!$v(t=n.sent()))throw t;return rf("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.mc.length>0&&this.Zi.ji((function(){return e.vc()})),n.label=5;case 5:return[2]}}))}))},t.prototype.bc=function(t){var e=this,n=this._c.then((function(){return e.Tc=!0,t().catch((function(t){throw e.Ec=t,e.Tc=!1,of("INTERNAL UNHANDLED ERROR: ",(r=(n=t).message||"",n.stack&&(r=n.stack.includes(n.message)?n.stack:n.message+"\n"+n.stack),r)),t;var n,r})).then((function(t){return e.Tc=!1,t}))}));return this._c=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Rc(),this.Ic.indexOf(t)>-1&&(e=0);var i=Ay.createAndSchedule(this,t,e,n,(function(t){return r.Pc(t)}));return this.gc.push(i),i},t.prototype.Rc=function(){this.Ec&&uf()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Vc=function(){return Ai(this,void 0,void 0,(function(){var t;return Di(this,(function(e){switch(e.label){case 0:return[4,t=this._c];case 1:e.sent(),e.label=2;case 2:if(t!==this._c)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Sc=function(t){for(var e=0,n=this.gc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Dc=function(t){var e=this;return this.Vc().then((function(){e.gc.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e.gc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Vc()}))},t.prototype.Cc=function(t){this.Ic.push(t)},t.prototype.Pc=function(t){var e=this.gc.indexOf(t);this.gc.splice(e,1)},t}();function mw(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var gw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new vw,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return ki(e,t),e.prototype._terminate=function(){return this._firestoreClient||bw(this),this._firestoreClient.terminate()},e}(aw);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(t){return t._firestoreClient||bw(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function bw(t){var e,n,r,i,o,s=t._freezeSettings(),a=(n=t._databaseId,r=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",i=t._persistenceKey,new Kb(n,r,i,(o=s).host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling));t._firestoreClient=new Cb(t._credentials,t._queue,a)}function ww(t,e,n){var r=this,i=new Gv;return t.asyncQueue.enqueue((function(){return Ai(r,void 0,void 0,(function(){var r;return Di(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,xb(t,n)];case 1:return o.sent(),[4,Rb(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!("FirebaseError"===(s=r=o.sent()).name?s.code===Zh.FAILED_PRECONDITION||s.code===Zh.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}var s}))}))})).then((function(){return i.promise}))}function _w(t){if(t._initialized||t._terminated)throw new tf(Zh.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Iw=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new tf(Zh.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ef(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Tw=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(kf.fromBase64String(e))}catch(n){throw new tf(Zh.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},t.fromUint8Array=function(e){return new t(kf.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Ew=function(t){this._methodName=t},Sw=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new tf(Zh.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new tf(Zh.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return df(this._lat,t._lat)||df(this._long,t._long)},t}(),kw=/^__.*__$/,Nw=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new cp(t,this.data,this.fieldMask,e,this.fieldTransforms):new up(t,this.data,e,this.fieldTransforms)},t}(),Aw=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new cp(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw uf()}}var Ow=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Nc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"xc",{get:function(){return this.settings.xc},enumerable:!1,configurable:!0}),t.prototype.Fc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fc({path:n,Oc:!1});return r.$c(t),r},t.prototype.Mc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fc({path:n,Oc:!1});return r.Nc(),r},t.prototype.Lc=function(t){return this.Fc({path:void 0,Oc:!0})},t.prototype.Bc=function(t){return $w(t,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Uc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Nc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Bc("Document fields must not be empty");if(Dw(this.xc)&&kw.test(t))throw this.Bc('Document fields cannot begin and end with "__"')},t}(),Cw=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Qg(t)}return t.prototype.Qc=function(t,e,n,r){return void 0===r&&(r=!1),new Ow({xc:t,methodName:e,Uc:n,path:Ef.emptyPath(),Oc:!1,qc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function xw(t){var e=t._freezeSettings(),n=Qg(t._databaseId);return new Cw(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Rw(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Qc(o.merge||o.mergeFields?2:0,e,n,i);Hw("Data must be an object, but it was:",s,r);var a,u,c=Gw(r,s);if(o.merge)a=new Sf(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Ww(e,f[h],n);if(!s.contains(d))throw new tf(Zh.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Xw(l,d)||l.push(d)}a=new Sf(l),u=s.fieldTransforms.filter((function(t){return a.covers(t.field)}))}else a=null,u=s.fieldTransforms;return new Nw(new Xf(c),a,u)}var Pw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ki(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.xc)throw 1===t.xc?t.Bc(this._methodName+"() can only appear at the top level of your update data"):t.Bc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Ew);function Mw(t,e,n){return new Ow({xc:3,Uc:e.settings.Uc,methodName:t._methodName,Oc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Lw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ki(e,t),e.prototype._toFieldTransform=function(t){return new Jd(t.path,new Gd)},e.prototype.isEqual=function(t){return t instanceof e},e}(Ew),Fw=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return ki(e,t),e.prototype._toFieldTransform=function(t){var e=Mw(this,t,!0),n=this.Kc.map((function(t){return Kw(t,e)})),r=new Yd(n);return new Jd(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Ew),Vw=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return ki(e,t),e.prototype._toFieldTransform=function(t){var e=Mw(this,t,!0),n=this.Kc.map((function(t){return Kw(t,e)})),r=new Wd(n);return new Jd(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Ew),Uw=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return ki(e,t),e.prototype._toFieldTransform=function(t){var e=new Qd(t.R,Ud(t.R,this.jc));return new Jd(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Ew);function jw(t,e,n,r){var i=t.Qc(1,e,n);Hw("Data must be an object, but it was:",i,r);var o=[],s=Xf.empty();bf(r,(function(t,r){var a=Qw(e,t,n);r=Xi(r);var u=i.Mc(a);if(r instanceof Pw)o.push(a);else{var c=Kw(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new Sf(o);return new Aw(s,a,i.fieldTransforms)}function qw(t,e,n,r,i,o){var s=t.Qc(1,e,n),a=[Ww(e,r,n)],u=[i];if(o.length%2!=0)throw new tf(Zh.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Ww(e,o[c])),u.push(o[c+1]);for(var l=[],h=Xf.empty(),f=a.length-1;f>=0;--f)if(!Xw(l,a[f])){var d=a[f],p=u[f];p=Xi(p);var v=s.Mc(d);if(p instanceof Pw)l.push(d);else{var m=Kw(p,v);null!=m&&(l.push(d),h.set(d,m))}}var g=new Sf(l);return new Aw(h,g,s.fieldTransforms)}function Bw(t,e,n,r){return void 0===r&&(r=!1),Kw(n,t.Qc(r?4:3,e))}function Kw(t,e){if(Yw(t=Xi(t)))return Hw("Unsupported field value:",e,t),Gw(t,e);if(t instanceof Ew)return function(t,e){if(!Dw(e.xc))throw e.Bc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Bc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Oc&&4!==e.xc)throw e.Bc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Kw(o[i],e.Lc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Xi(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Ud(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=mf.fromDate(t);return{timestampValue:Hp(e.R,n)}}if(t instanceof mf)return n=new mf(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Hp(e.R,n)};if(t instanceof Sw)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Tw)return{bytesValue:Wp(e.R,t._byteString)};if(t instanceof uw){n=e.databaseId;var r=t.firestore._databaseId;if(!r.isEqual(n))throw e.Bc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:$p(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Bc("Unsupported field value: "+rw(t))}(t,e)}function Gw(t,e){var n={};return wf(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bf(t,(function(t,r){var i=Kw(r,e.kc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Yw(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof mf||t instanceof Sw||t instanceof Tw||t instanceof uw||t instanceof Ew)}function Hw(t,e,n){if(!Yw(n)||("object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i))){var r=rw(n);throw"an object"===r?e.Bc(t+" a custom object"):e.Bc(t+" "+r)}var i}function Ww(t,e,n){if((e=Xi(e))instanceof Iw)return e._internalPath;if("string"==typeof e)return Qw(t,e);throw $w("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var zw=new RegExp("[~\\*/\\[\\]]");function Qw(t,e,n){if(e.search(zw)>=0)throw $w("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Iw.bind.apply(Iw,xi([void 0],e.split(".")))))._internalPath}catch(r){throw $w("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function $w(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new tf(Zh.INVALID_ARGUMENT,(a+=". ")+t+u)}function Xw(t,e){return t.some((function(t){return t.isEqual(e)}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jw=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new uw(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Zw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(t_("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Zw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ki(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Jw);function t_(t,e){return"string"==typeof e?Qw(t,e):e instanceof Iw?e._internalPath:e._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e_=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),n_=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return ki(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new r_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(t_("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Jw),r_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ki(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(n_),i_=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new e_(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new r_(n._firestore,n._userDataWriter,r.key,r,new e_(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new tf(Zh.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){var r=new r_(t._firestore,t._userDataWriter,e.doc.key,e.doc,new e_(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new r_(t._firestore,t._userDataWriter,e.doc.key,e.doc,new e_(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:o_(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function o_(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return uf()}}function s_(t,e){return t instanceof n_&&e instanceof n_?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof i_&&e instanceof i_&&t._firestore===e._firestore&&pw(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(t){if(Ed(t)&&0===t.explicitOrderBy.length)throw new tf(Zh.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var u_=function(){};function c_(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var l_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Wc=e,i.Gc=n,i.zc=r,i.type="where",i}return ki(e,t),e.prototype._apply=function(t){var e,n,r,i=xw(t.firestore),o=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new tf(Zh.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){g_(s,o);for(var u=[],c=0,l=s;c<l.length;c++){var h=l[c];u.push(m_(r,t,h))}a={arrayValue:{values:u}}}else a=m_(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||g_(s,o),a=Bw(n,"where",s,"in"===o||"not-in"===o);var f=od.create(i,o,a);return function(t,e){if(e.g()){var n=kd(t);if(null!==n&&!n.isEqual(e.field))throw new tf(Zh.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Sd(t);null!==r&&y_(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new tf(Zh.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new tf(Zh.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t._query,0,i,t.firestore._databaseId,this.Wc,this.Gc,this.zc);return new cw(t.firestore,t.converter,(e=t._query,n=o,r=e.filters.concat([n]),new wd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)))},e}(u_),h_=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Wc=e,r.Hc=n,r.type="orderBy",r}return ki(e,t),e.prototype._apply=function(t){var e,n,r,i=function(t,e,n){if(null!==t.startAt)throw new tf(Zh.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new tf(Zh.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new md(e,n);return function(t,e){if(null===Sd(t)){var n=kd(t);null!==n&&y_(t,n,e.field)}}(t,r),r}(t._query,this.Wc,this.Hc);return new cw(t.firestore,t.converter,(e=t._query,n=i,r=e.explicitOrderBy.concat([n]),new wd(e.path,e.collectionGroup,r,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)))},e}(u_),f_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return ki(e,t),e.prototype._apply=function(t){return new cw(t.firestore,t.converter,Od(t._query,this.Jc,this.Yc))},e}(u_),d_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return ki(e,t),e.prototype._apply=function(t){var e,n,r=v_(t,this.type,this.Xc,this.Zc);return new cw(t.firestore,t.converter,(e=t._query,n=r,new wd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,n,e.endAt)))},e}(u_),p_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return ki(e,t),e.prototype._apply=function(t){var e,n,r=v_(t,this.type,this.Xc,this.Zc);return new cw(t.firestore,t.converter,(e=t._query,n=r,new wd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,n)))},e}(u_);function v_(t,e,n,r){if(n[0]=Xi(n[0]),n[0]instanceof Jw)return function(t,e,n,r,i){if(!r)throw new tf(Zh.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Ad(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(Yf(e,r.key));else{var c=r.data.field(u.field);if(Cf(c))throw new tf(Zh.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new tf(Zh.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new pd(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=xw(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new tf(Zh.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new tf(Zh.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Nd(t)&&-1!==c.indexOf("/"))throw new tf(Zh.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(If.fromString(c));if(!Ff.isDocumentKey(l))throw new tf(Zh.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Ff(l);a.push(Yf(e,h))}else{var f=Bw(n,r,c);a.push(f)}}return new pd(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function m_(t,e,n){if("string"==typeof(n=Xi(n))){if(""===n)throw new tf(Zh.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Nd(e)&&-1!==n.indexOf("/"))throw new tf(Zh.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(If.fromString(n));if(!Ff.isDocumentKey(r))throw new tf(Zh.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Yf(t,new Ff(r))}if(n instanceof uw)return Yf(t,n._key);throw new tf(Zh.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+rw(n)+".")}function g_(t,e){if(!Array.isArray(t)||0===t.length)throw new tf(Zh.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new tf(Zh.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function y_(t,e,n){if(!n.isEqual(e))throw new tf(Zh.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var b_=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Vf(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Df(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Of(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw uf()}},t.prototype.convertObject=function(t,e){var n=this,r={};return bf(t.fields||{},(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new Sw(Df(t.latitude),Df(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=xf(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Rf(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Af(t);return new mf(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=If.fromString(t);cf(wv(n));var r=new Gb(n.get(1),n.get(3)),i=new Ff(n.popFirst(5));return r.isEqual(e)||of("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var __=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return ki(e,t),e.prototype.convertBytes=function(t){return new Tw(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new uw(this.firestore,null,e)},e}(b_),I_=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=xw(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=T_(t,this._firestore),i=w_(r.converter,e,n),o=Rw(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,tp.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=T_(t,this._firestore);return o="string"==typeof(e=Xi(e))||e instanceof Iw?qw(this._dataReader,"WriteBatch.update",s._key,e,n,r):jw(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,tp.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=T_(t,this._firestore);return this._mutations=this._mutations.concat(new vp(e._key,tp.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new tf(Zh.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(t,e){if((t=Xi(t)).firestore!==e)throw new tf(Zh.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var E_=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return ki(e,t),e.prototype.convertBytes=function(t){return new Tw(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new uw(this.firestore,null,e)},e}(b_);function S_(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=iw(t,uw);var o=iw(t.firestore,gw),s=xw(o);return N_(o,[("string"==typeof(e=Xi(e))||e instanceof Iw?qw(s,"updateDoc",t._key,e,n,r):jw(s,"updateDoc",t._key,e)).toMutation(t._key,tp.exists(!0))])}function k_(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Xi(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||mw(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(mw(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof uw)c=iw(t.firestore,gw),l=Id(t._key.path),u={next:function(e){i[a]&&i[a](A_(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=iw(t,cw);c=iw(d.firestore,gw),l=d._query;var p=new E_(c);u={next:function(t){i[a]&&i[a](new i_(c,p,d,t))},error:i[a+1],complete:i[a+2]},a_(t._query)}return function(t,e,n,r){var i=this,o=new Ab(r),s=new jy(e,o,n);return t.asyncQueue.enqueueAndForget((function(){return Ai(i,void 0,void 0,(function(){var e;return Di(this,(function(n){switch(n.label){case 0:return e=My,[4,jb(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.Wo(),t.asyncQueue.enqueueAndForget((function(){return Ai(i,void 0,void 0,(function(){var e;return Di(this,(function(n){switch(n.label){case 0:return e=Ly,[4,jb(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(yw(c),l,h,u)}function N_(t,e){return function(t,e){var n=this,r=new Gv;return t.asyncQueue.enqueueAndForget((function(){return Ai(n,void 0,void 0,(function(){var n;return Di(this,(function(i){switch(i.label){case 0:return n=$y,[4,Ub(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(yw(t),e)}function A_(t,e,n){var r=n.docs.get(e._key),i=new E_(t);return new n_(t,i,e._key,r,new e_(n.hasPendingWrites,n.fromCache),e.converter)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return ki(e,t),e.prototype.get=function(e){var n=this,r=T_(e,this._firestore),i=new E_(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new n_(n._firestore,i,r._key,t._document,new e_(!1,!1),r.converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=xw(t)}return t.prototype.get=function(t){var e=this,n=T_(t,this._firestore),r=new __(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return uf();var i=t[0];if(i.isFoundDocument())return new Jw(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Jw(e._firestore,r,n._key,null,n.converter);throw uf()}))},t.prototype.set=function(t,e,n){var r=T_(t,this._firestore),i=w_(r.converter,e,n),o=Rw(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=T_(t,this._firestore);return o="string"==typeof(e=Xi(e))||e instanceof Iw?qw(this._dataReader,"Transaction.update",s._key,e,n,r):jw(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=T_(t,this._firestore);return this._transaction.delete(e._key),this},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(){if("undefined"==typeof Uint8Array)throw new tf(Zh.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function C_(){if("undefined"==typeof atob)throw new tf(Zh.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var x_=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return C_(),new t(Tw.fromBase64String(e))},t.fromUint8Array=function(e){return O_(),new t(Tw.fromUint8Array(e))},t.prototype.toBase64=function(){return C_(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return O_(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),R_=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){_w(t=iw(t,gw));var n=yw(t),r=t._freezeSettings(),i=new Nb;return ww(n,i,new Sb(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){_w(t=iw(t,gw));var e=yw(t),n=t._freezeSettings(),r=new Nb;return ww(e,r,new kb(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new tf(Zh.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Gv;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return Ai(e,void 0,void 0,(function(){var e;return Di(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Ai(this,void 0,void 0,(function(){var e;return Di(this,(function(n){switch(n.label){case 0:return Wv.yt()?(e=t+"main",[4,Wv.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(ig(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),P_=function(){function t(t,e,n){var r=this;this._delegate=e,this.ta=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Gb||(this.ea=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=iw(t,aw))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&sf("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=Ni({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ri.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),Ri.encodeString(JSON.stringify(o),!1),""].join(".")}(r.mockUserToken),s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new tf(Zh.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new zb(new Hb(o,new Cg(s)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Ai(e,void 0,void 0,(function(){var e,n;return Di(this,(function(r){switch(r.label){case 0:return[4,Lb(t)];case 1:return e=r.sent(),[4,Vb(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),i=n,o=lf(i),o.$r.delete(0),ry(o))]}var i,o}))}))}))}(yw(iw(this._delegate,gw)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Ai(e,void 0,void 0,(function(){var e,n;return Di(this,(function(r){switch(r.label){case 0:return[4,Lb(t)];case 1:return e=r.sent(),[4,Vb(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Ai(this,void 0,void 0,(function(){var e;return Di(this,(function(n){switch(n.label){case 0:return(e=lf(t)).$r.add(0),[4,iy(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(yw(iw(this._delegate,gw)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&tw("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.ta.enableMultiTabIndexedDbPersistence(this):this.ta.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.ta.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.ea&&(this.ea._removeServiceInstance("firestore"),this.ea._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Gv;return t.asyncQueue.enqueueAndForget((function(){return Ai(e,void 0,void 0,(function(){var e;return Di(this,(function(r){switch(r.label){case 0:return e=nb,[4,Ub(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(yw(iw(this._delegate,gw)))},t.prototype.onSnapshotsInSync=function(t){return e=this._delegate,n=t,function(t,e){var n=this,r=new Ab(e);return t.asyncQueue.enqueueAndForget((function(){return Ai(n,void 0,void 0,(function(){var e;return Di(this,(function(n){switch(n.label){case 0:return e=function(t,e){lf(t).Gr.add(e),e.next()},[4,jb(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),t.asyncQueue.enqueueAndForget((function(){return Ai(n,void 0,void 0,(function(){var e;return Di(this,(function(n){switch(n.label){case 0:return e=function(t,e){lf(t).Gr.delete(e)},[4,jb(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(yw(e=iw(e,gw)),mw(n)?n:{next:n});var e,n},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.ea)throw new tf(Zh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.ea},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new z_(this,hw(this._delegate,t))}catch(e){throw j_(e,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new U_(this,fw(this._delegate,t))}catch(e){throw j_(e,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Y_(this,function(t,e){if(t=iw(t,aw),Jb("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new tf(Zh.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new cw(t,null,(n=e,new wd(If.emptyPath(),n)));var n}(this._delegate,t))}catch(e){throw j_(e,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e,n=this;return function(t,e){var n=this,r=new Gv;return t.asyncQueue.enqueueAndForget((function(){return Ai(n,void 0,void 0,(function(){var n;return Di(this,(function(i){switch(i.label){case 0:return[4,(o=t,Mb(o).then((function(t){return t.datastore})))];case 1:return n=i.sent(),new Ob(t.asyncQueue,n,e,r).run(),[2]}var o}))}))})),r.promise}(yw(e=this._delegate),(function(r){return function(e){return t(new L_(n,e))}(new D_(e,r))}))},t.prototype.batch=function(){var t=this;return yw(this._delegate),new F_(new I_(this._delegate,(function(e){return N_(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new tf(Zh.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new tf(Zh.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),M_=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return ki(e,t),e.prototype.convertBytes=function(t){return new x_(new Tw(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return U_.na(e,this.firestore,null)},e}(b_);var L_=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new M_(t)}return t.prototype.get=function(t){var e=this,n=Q_(t);return this._delegate.get(n).then((function(t){return new K_(e._firestore,new n_(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))}))},t.prototype.set=function(t,e,n){var r=Q_(t);return n?(Zb("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Q_(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,xi([s,e,n],i)),this},t.prototype.delete=function(t){var e=Q_(t);return this._delegate.delete(e),this},t}(),F_=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Q_(t);return n?(Zb("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Q_(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,xi([s,e,n],i)),this},t.prototype.delete=function(t){var e=Q_(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),V_=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new r_(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new G_(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.sa=function(e,n){var r=t.ia,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new M_(e),n),i.set(n,o)),o},t}();V_.ia=new WeakMap;var U_=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new M_(t)}return t.ra=function(e,n,r){if(e.length%2!=0)throw new tf(Zh.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new uw(n._delegate,r,new Ff(e)))},t.na=function(e,n,r){return new t(n,new uw(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new z_(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new z_(this.firestore,hw(this._delegate,t))}catch(e){throw j_(e,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Xi(t))instanceof uw&&dw(this._delegate,t)},t.prototype.set=function(t,e){e=Zb("DocumentReference.set",e);try{return function(t,e,n){t=iw(t,uw);var r=iw(t.firestore,gw),i=w_(t.converter,e,n);return N_(r,[Rw(xw(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,tp.none())])}(this._delegate,t,e)}catch(n){throw j_(n,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?S_(this._delegate,t):S_.apply(void 0,xi([this._delegate,t,e],n))}catch(i){throw j_(i,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return N_(iw((t=this._delegate).firestore,gw),[new vp(t._key,tp.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=q_(e),i=B_(e,(function(e){return new K_(t.firestore,new n_(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}));return k_(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=iw(t,uw);var e=iw(t.firestore,gw),n=yw(e),r=new E_(e);return function(t,e){var n=this,r=new Gv;return t.asyncQueue.enqueueAndForget((function(){return Ai(n,void 0,void 0,(function(){var n;return Di(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Ai(this,void 0,void 0,(function(){var r,i;return Di(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(s=t,a=e,u=lf(s),u.persistence.runTransaction("read document","readonly",(function(t){return u.Mn.mn(t,a)})))];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new tf(Zh.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Dy(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}var s,a,u}))}))},[4,Fb(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new n_(e,r,t._key,n,new e_(null!==n&&n.hasLocalMutations,!0),t.converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=iw(t,uw);var e=iw(t.firestore,gw);return qb(yw(e),t._key,{source:"server"}).then((function(n){return A_(e,t,n)}))}(this._delegate):function(t){t=iw(t,uw);var e=iw(t.firestore,gw);return qb(yw(e),t._key).then((function(n){return A_(e,t,n)}))}(this._delegate)).then((function(t){return new K_(e.firestore,new n_(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(V_.sa(this.firestore,e)):this._delegate.withConverter(null))},t}();function j_(t,e,n){return t.message=t.message.replace(e,n),t}function q_(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!mw(r))return r}return{}}function B_(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=mw(t[0])?t[0]:mw(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var K_=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new U_(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return s_(this._delegate,t._delegate)},t}(),G_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ki(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(K_),Y_=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new M_(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,c_(this._delegate,(o=r,s=i=n,a=t_("where",e),new l_(a,s,o))))}catch(i){throw j_(i,/(orderBy|where)\(\)/,"Query.$1()")}var i,o,s,a},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,c_(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=t_("orderBy",t);return new h_(r,n)}(e,n)))}catch(r){throw j_(r,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,c_(this._delegate,(ow("limit",n=e),new f_("limit",n,"F"))))}catch(r){throw j_(r,"limit()","Query.limit()")}var n},t.prototype.limitToLast=function(e){try{return new t(this.firestore,c_(this._delegate,(ow("limitToLast",n=e),new f_("limitToLast",n,"L"))))}catch(r){throw j_(r,"limitToLast()","Query.limitToLast()")}var n},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,c_(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new d_("startAt",t,!0)}.apply(void 0,e)))}catch(r){throw j_(r,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,c_(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new d_("startAfter",t,!1)}.apply(void 0,e)))}catch(r){throw j_(r,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,c_(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new p_("endBefore",t,!0)}.apply(void 0,e)))}catch(r){throw j_(r,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,c_(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new p_("endAt",t,!1)}.apply(void 0,e)))}catch(r){throw j_(r,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return pw(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=iw(t,cw);var e=iw(t.firestore,gw),n=yw(e),r=new E_(e);return function(t,e){var n=this,r=new Gv;return t.asyncQueue.enqueueAndForget((function(){return Ai(n,void 0,void 0,(function(){var n;return Di(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Ai(this,void 0,void 0,(function(){var r,i,o,s,a;return Di(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,gg(t,e,!0)];case 1:return a=u.sent(),r=new Ky(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=Dy(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,Fb(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new i_(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=iw(t,cw);var e=iw(t.firestore,gw),n=yw(e),r=new E_(e);return Bb(n,t._query,{source:"server"}).then((function(n){return new i_(e,r,t,n)}))}(this._delegate):function(t){t=iw(t,cw);var e=iw(t.firestore,gw),n=yw(e),r=new E_(e);return a_(t._query),Bb(n,t._query).then((function(n){return new i_(e,r,t,n)}))}(this._delegate)).then((function(t){return new W_(e.firestore,new i_(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=q_(e),i=B_(e,(function(e){return new W_(t.firestore,new i_(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return k_(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(V_.sa(this.firestore,e)):this._delegate.withConverter(null))},t}(),H_=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new G_(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),W_=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Y_(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new G_(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new H_(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new G_(n._firestore,r))}))},t.prototype.isEqual=function(t){return s_(this._delegate,t._delegate)},t}(),z_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return ki(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new U_(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new U_(this.firestore,void 0===t?fw(this._delegate):fw(this._delegate,t))}catch(e){throw j_(e,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e,n,r,i,o,s=this;return(e=this._delegate,n=t,r=iw(e.firestore,gw),i=fw(e),o=w_(e.converter,n),N_(r,[Rw(xw(e.firestore),"addDoc",i._key,o,null!==e.converter,{}).toMutation(i._key,tp.exists(!1))]).then((function(){return i}))).then((function(t){return new U_(s.firestore,t)}))},e.prototype.isEqual=function(t){return dw(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(V_.sa(this.firestore,t)):this._delegate.withConverter(null))},e}(Y_);function Q_(t){return iw(t,uw)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $_,X_=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Iw.bind.apply(Iw,xi([void 0],t)))}return t.documentId=function(){return new t(Ef.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Xi(t))instanceof Iw&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),J_=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Lw("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Pw("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Fw("arrayUnion",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Vw("arrayRemove",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=new Uw("increment",e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),Z_={Firestore:P_,GeoPoint:Sw,Timestamp:mf,Blob:x_,Transaction:L_,WriteBatch:F_,DocumentReference:U_,DocumentSnapshot:K_,Query:Y_,QueryDocumentSnapshot:G_,QuerySnapshot:W_,CollectionReference:z_,FieldPath:X_,FieldValue:J_,setLogLevel:function(t){var e;e=t,ef.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};($_=No).INTERNAL.registerComponent(new Ji("firestore",(function(t){return function(t,e){return new P_(t,new gw(t,e),new R_)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Z_))),$_.registerVersion("@firebase/firestore","2.3.1");
/*!
  * vue-router v4.0.8
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */
const tI="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,eI=t=>tI?Symbol(t):"_vr_"+t,nI=eI("rvlm"),rI=eI("rvd"),iI=eI("r"),oI=eI("rl"),sI=eI("rvl"),aI="undefined"!=typeof window;const uI=Object.assign;function cI(t,e){const n={};for(const r in e){const i=e[r];n[r]=Array.isArray(i)?i.map(t):t(i)}return n}let lI=()=>{};const hI=/\/$/;function fI(t,e,n="/"){let r,i={},o="",s="";const a=e.indexOf("?"),u=e.indexOf("#",a>-1?a:0);return a>-1&&(r=e.slice(0,a),o=e.slice(a+1,u>-1?u:e.length),i=t(o)),u>-1&&(r=r||e.slice(0,u),s=e.slice(u,e.length)),r=function(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/");let i,o,s=n.length-1;for(i=0;i<r.length;i++)if(o=r[i],1!==s&&"."!==o){if(".."!==o)break;s--}return n.slice(0,s).join("/")+"/"+r.slice(i-(i===r.length?1:0)).join("/")}(null!=r?r:e,n),{fullPath:r+(o&&"?")+o+s,path:r,query:i,hash:s}}function dI(t,e){return!e||t.toLowerCase().indexOf(e.toLowerCase())?t:t.slice(e.length)||"/"}function pI(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function vI(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let n in t)if(!mI(t[n],e[n]))return!1;return!0}function mI(t,e){return Array.isArray(t)?gI(t,e):Array.isArray(e)?gI(e,t):t===e}function gI(t,e){return Array.isArray(e)?t.length===e.length&&t.every(((t,n)=>t===e[n])):1===t.length&&t[0]===e}var yI,bI,wI,_I;function II(t){if(!t)if(aI){const e=document.querySelector("base");t=(t=e&&e.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return"/"!==t[0]&&"#"!==t[0]&&(t="/"+t),t.replace(hI,"")}(bI=yI||(yI={})).pop="pop",bI.push="push",(_I=wI||(wI={})).back="back",_I.forward="forward",_I.unknown="";const TI=/^[^#]+#/;function EI(t,e){return t.replace(TI,"#")+e}const SI=()=>({left:window.pageXOffset,top:window.pageYOffset});function kI(t){let e;if("el"in t){let n=t.el;const r="string"==typeof n&&n.startsWith("#"),i="string"==typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=function(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(null!=e.left?e.left:window.pageXOffset,null!=e.top?e.top:window.pageYOffset)}function NI(t,e){return(history.state?history.state.position-e:-1)+t}const AI=new Map;function DI(t,e){const{pathname:n,search:r,hash:i}=e,o=t.indexOf("#");if(o>-1){let e=i.includes(t.slice(o))?t.slice(o).length:1,n=i.slice(e);return"/"!==n[0]&&(n="/"+n),dI(n,"")}return dI(n,t)+r+i}function OI(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?SI():null}}function CI(t){const{history:e,location:n}=window;let r={value:DI(t,n)},i={value:e.state};function o(r,o,s){const a=t.indexOf("#"),u=a>-1?(n.host&&document.querySelector("base")?t:t.slice(a))+r:location.protocol+"//"+location.host+t+r;try{e[s?"replaceState":"pushState"](o,"",u),i.value=o}catch(c){console.error(c),n[s?"replace":"assign"](u)}}return i.value||o(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0),{location:r,state:i,push:function(t,n){const s=uI({},i.value,e.state,{forward:t,scroll:SI()});o(s.current,s,!0),o(t,uI({},OI(r.value,t,null),{position:s.position+1},n),!1),r.value=t},replace:function(t,n){o(t,uI({},e.state,OI(i.value.back,t,i.value.forward,!0),n,{position:i.value.position}),!0),r.value=t}}}function xI(t){const e=CI(t=II(t)),n=function(t,e,n,r){let i=[],o=[],s=null;const a=({state:o})=>{const a=DI(t,location),u=n.value,c=e.value;let l=0;if(o){if(n.value=a,e.value=o,s&&s===u)return void(s=null);l=c?o.position-c.position:0}else r(a);i.forEach((t=>{t(n.value,u,{delta:l,type:yI.pop,direction:l?l>0?wI.forward:wI.back:wI.unknown})}))};function u(){const{history:t}=window;t.state&&t.replaceState(uI({},t.state,{scroll:SI()}),"")}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:function(){s=n.value},listen:function(t){i.push(t);const e=()=>{const e=i.indexOf(t);e>-1&&i.splice(e,1)};return o.push(e),e},destroy:function(){for(const t of o)t();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}}}(t,e.state,e.location,e.replace);const r=uI({location:"",base:t,go:function(t,e=!0){e||n.pauseListeners(),history.go(t)},createHref:EI.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function RI(t){return"string"==typeof t||"symbol"==typeof t}const PI={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},MI=eI("nf");var LI,FI;function VI(t,e){return uI(new Error,{type:t,[MI]:!0},e)}function UI(t,e){return t instanceof Error&&MI in t&&(null==e||!!(t.type&e))}(FI=LI||(LI={}))[FI.aborted=4]="aborted",FI[FI.cancelled=8]="cancelled",FI[FI.duplicated=16]="duplicated";const jI={sensitive:!1,strict:!1,start:!0,end:!0},qI=/[.+*?^${}()[\]/\\]/g;function BI(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?1===t.length&&80===t[0]?-1:1:t.length>e.length?1===e.length&&80===e[0]?1:-1:0}function KI(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const t=BI(r[n],i[n]);if(t)return t;n++}return i.length-r.length}const GI={type:0,value:""},YI=/[a-zA-Z0-9_]/;function HI(t,e,n){const r=function(t,e){const n=uI({},jI,e);let r=[],i=n.start?"^":"";const o=[];for(const u of t){const t=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let e=0;e<u.length;e++){const r=u[e];let s=40+(n.sensitive?.25:0);if(0===r.type)e||(i+="/"),i+=r.value.replace(qI,"\\$&"),s+=40;else if(1===r.type){const{value:t,repeatable:n,optional:c,regexp:l}=r;o.push({name:t,repeatable:n,optional:c});const h=l||"[^/]+?";if("[^/]+?"!==h){s+=10;try{new RegExp(`(${h})`)}catch(a){throw new Error(`Invalid custom RegExp for param "${t}" (${h}): `+a.message)}}let f=n?`((?:${h})(?:/(?:${h}))*)`:`(${h})`;e||(f=c&&u.length<2?`(?:/${f})`:"/"+f),c&&(f+="?"),i+=f,s+=20,c&&(s+=-8),n&&(s+=-20),".*"===h&&(s+=-50)}t.push(s)}r.push(t)}if(n.strict&&n.end){const t=r.length-1;r[t][r[t].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const s=new RegExp(i,n.sensitive?"":"i");return{re:s,score:r,keys:o,parse:function(t){const e=t.match(s),n={};if(!e)return null;for(let r=1;r<e.length;r++){const t=e[r]||"",i=o[r-1];n[i.name]=t&&i.repeatable?t.split("/"):t}return n},stringify:function(e){let n="",r=!1;for(const i of t){r&&n.endsWith("/")||(n+="/"),r=!1;for(const t of i)if(0===t.type)n+=t.value;else if(1===t.type){const{value:o,repeatable:s,optional:a}=t,u=o in e?e[o]:"";if(Array.isArray(u)&&!s)throw new Error(`Provided param "${o}" is an array but it is not repeatable (* or + modifiers)`);const c=Array.isArray(u)?u.join("/"):u;if(!c){if(!a)throw new Error(`Missing required param "${o}"`);i.length<2&&(n.endsWith("/")?n=n.slice(0,-1):r=!0)}n+=c}}return n}}}(function(t){if(!t)return[[]];if("/"===t)return[[GI]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(t){throw new Error(`ERR (${n})/"${c}": ${t}`)}let n=0,r=n;const i=[];let o;function s(){o&&i.push(o),o=[]}let a,u=0,c="",l="";function h(){c&&(0===n?o.push({type:0,value:c}):1===n||2===n||3===n?(o.length>1&&("*"===a||"+"===a)&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:l,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):e("Invalid state to consume buffer"),c="")}function f(){c+=a}for(;u<t.length;)if(a=t[u++],"\\"!==a||2===n)switch(n){case 0:"/"===a?(c&&h(),s()):":"===a?(h(),n=1):f();break;case 4:f(),n=r;break;case 1:"("===a?n=2:YI.test(a)?f():(h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&u--);break;case 2:")"===a?"\\"==l[l.length-1]?l=l.slice(0,-1)+a:n=3:l+=a;break;case 3:h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&u--,l="";break;default:e("Unknown state")}else r=n,n=4;return 2===n&&e(`Unfinished custom RegExp for param "${c}"`),h(),s(),i}(t.path),n),i=uI(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function WI(t,e){const n=[],r=new Map;function i(t,n,r){let a=!r,u=function(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:zI(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||{}:{default:t.component}}}(t);u.aliasOf=r&&r.record;const c=XI(e,t),l=[u];if("alias"in t){const e="string"==typeof t.alias?[t.alias]:t.alias;for(const t of e)l.push(uI({},u,{components:r?r.record.components:u.components,path:t,aliasOf:r?r.record:u}))}let h,f;for(const e of l){let{path:l}=e;if(n&&"/"!==l[0]){let t=n.record.path,r="/"===t[t.length-1]?"":"/";e.path=n.record.path+(l&&r+l)}if(h=HI(e,n,c),r?r.alias.push(h):(f=f||h,f!==h&&f.alias.push(h),a&&t.name&&!QI(h)&&o(t.name)),"children"in u){let t=u.children;for(let e=0;e<t.length;e++)i(t[e],h,r&&r.children[e])}r=r||h,s(h)}return f?()=>{o(f)}:lI}function o(t){if(RI(t)){const e=r.get(t);e&&(r.delete(t),n.splice(n.indexOf(e),1),e.children.forEach(o),e.alias.forEach(o))}else{let e=n.indexOf(t);e>-1&&(n.splice(e,1),t.record.name&&r.delete(t.record.name),t.children.forEach(o),t.alias.forEach(o))}}function s(t){let e=0;for(;e<n.length&&KI(t,n[e])>=0;)e++;n.splice(e,0,t),t.record.name&&!QI(t)&&r.set(t.record.name,t)}return e=XI({strict:!1,end:!0,sensitive:!1},e),t.forEach((t=>i(t))),{addRoute:i,resolve:function(t,e){let i,o,s,a={};if("name"in t&&t.name){if(i=r.get(t.name),!i)throw VI(1,{location:t});s=i.record.name,a=uI(function(t,e){let n={};for(let r of e)r in t&&(n[r]=t[r]);return n}(e.params,i.keys.filter((t=>!t.optional)).map((t=>t.name))),t.params),o=i.stringify(a)}else if("path"in t)o=t.path,i=n.find((t=>t.re.test(o))),i&&(a=i.parse(o),s=i.record.name);else{if(i=e.name?r.get(e.name):n.find((t=>t.re.test(e.path))),!i)throw VI(1,{location:t,currentLocation:e});s=i.record.name,a=uI({},e.params,t.params),o=i.stringify(a)}const u=[];let c=i;for(;c;)u.unshift(c.record),c=c.parent;return{name:s,path:o,params:a,matched:u,meta:$I(u)}},removeRoute:o,getRoutes:function(){return n},getRecordMatcher:function(t){return r.get(t)}}}function zI(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(let r in t.components)e[r]="boolean"==typeof n?n:n[r];return e}function QI(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function $I(t){return t.reduce(((t,e)=>uI(t,e.meta)),{})}function XI(t,e){let n={};for(let r in t)n[r]=r in e?e[r]:t[r];return n}const JI=/#/g,ZI=/&/g,tT=/\//g,eT=/=/g,nT=/\?/g,rT=/\+/g,iT=/%5B/g,oT=/%5D/g,sT=/%5E/g,aT=/%60/g,uT=/%7B/g,cT=/%7C/g,lT=/%7D/g,hT=/%20/g;function fT(t){return encodeURI(""+t).replace(cT,"|").replace(iT,"[").replace(oT,"]")}function dT(t){return fT(t).replace(rT,"%2B").replace(hT,"+").replace(JI,"%23").replace(ZI,"%26").replace(aT,"`").replace(uT,"{").replace(lT,"}").replace(sT,"^")}function pT(t){return function(t){return fT(t).replace(JI,"%23").replace(nT,"%3F")}(t).replace(tT,"%2F")}function vT(t){try{return decodeURIComponent(""+t)}catch(e){}return""+t}function mT(t){const e={};if(""===t||"?"===t)return e;const n=("?"===t[0]?t.slice(1):t).split("&");for(let r=0;r<n.length;++r){const t=n[r].replace(rT," ");let i=t.indexOf("="),o=vT(i<0?t:t.slice(0,i));if(Object.prototype.hasOwnProperty(o))continue;let s=i<0?null:vT(t.slice(i+1));if(o in e){let t=e[o];Array.isArray(t)||(t=e[o]=[t]),t.push(s)}else e[o]=s}return e}function gT(t){let e="";for(let n in t){const r=t[n];if(n=dT(n).replace(eT,"%3D"),null==r){void 0!==r&&(e+=(e.length?"&":"")+n);continue}(Array.isArray(r)?r.map((t=>t&&dT(t))):[r&&dT(r)]).forEach((t=>{void 0!==t&&(e+=(e.length?"&":"")+n,null!=t&&(e+="="+t))}))}return e}function yT(t){const e={};for(let n in t){let r=t[n];void 0!==r&&(e[n]=Array.isArray(r)?r.map((t=>null==t?null:""+t)):null==r?r:""+r)}return e}function bT(){let t=[];return{add:function(e){return t.push(e),()=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)}},list:()=>t,reset:function(){t=[]}}}function wT(t,e,n,r,i){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise(((s,a)=>{const u=t=>{var u;!1===t?a(VI(4,{from:n,to:e})):t instanceof Error?a(t):"string"==typeof(u=t)||u&&"object"==typeof u?a(VI(2,{from:e,to:t})):(o&&r.enterCallbacks[i]===o&&"function"==typeof t&&o.push(t),s())},c=t.call(r&&r.instances[i],e,n,u);let l=Promise.resolve(c);t.length<3&&(l=l.then(u)),l.catch((t=>a(t)))}))}function _T(t,e,n,r){const i=[];for(const s of t)for(const t in s.components){let a=s.components[t];if("beforeRouteEnter"===e||s.instances[t])if("object"==typeof(o=a)||"displayName"in o||"props"in o||"__vccOpts"in o){const o=(a.__vccOpts||a)[e];o&&i.push(wT(o,n,r,s,t))}else{let o=a();o=o.catch(console.error),i.push((()=>o.then((i=>{if(!i)return Promise.reject(new Error(`Couldn't resolve component "${t}" at "${s.path}"`));const o=(a=i).__esModule||tI&&"Module"===a[Symbol.toStringTag]?i.default:i;var a;s.components[t]=o;const u=(o.__vccOpts||o)[e];return u&&wT(u,n,r,s,t)()}))))}}var o;return i}function IT(t){const e=vr(iI),n=vr(oI),r=Vr((()=>e.resolve(oe(t.to)))),i=Vr((()=>{let{matched:t}=r.value,{length:e}=t;const i=t[e-1];let o=n.matched;if(!i||!o.length)return-1;let s=o.findIndex(pI.bind(null,i));if(s>-1)return s;let a=ET(t[e-2]);return e>1&&ET(i)===a&&o[o.length-1].path!==a?o.findIndex(pI.bind(null,t[e-2])):s})),o=Vr((()=>i.value>-1&&function(t,e){for(let n in e){let r=e[n],i=t[n];if("string"==typeof r){if(r!==i)return!1}else if(!Array.isArray(i)||i.length!==r.length||r.some(((t,e)=>t!==i[e])))return!1}return!0}(n.params,r.value.params))),s=Vr((()=>i.value>-1&&i.value===n.matched.length-1&&vI(n.params,r.value.params)));return{route:r,href:Vr((()=>r.value.href)),isActive:o,isExactActive:s,navigate:function(n={}){return function(t){if(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)return;if(t.defaultPrevented)return;if(void 0!==t.button&&0!==t.button)return;if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}t.preventDefault&&t.preventDefault();return!0}(n)?e[oe(t.replace)?"replace":"push"](oe(t.to)):Promise.resolve()}}}const TT=Fn({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},setup(t,{slots:e}){const n=zt(IT(t)),{options:r}=vr(iI),i=Vr((()=>({[ST(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[ST(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const r=e.default&&e.default(n);return t.custom?r:Ur("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}});function ET(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const ST=(t,e,n)=>null!=t?t:null!=e?e:n;function kT(t,e){if(!t)return null;const n=t(e);return 1===n.length?n[0]:n}const NT=Fn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(t,{attrs:e,slots:n}){const r=vr(sI),i=Vr((()=>t.route||r.value)),o=vr(rI,0),s=Vr((()=>i.value.matched[o]));pr(rI,o+1),pr(nI,s),pr(sI,i);const a=ie(u);var u;return wn((()=>[a.value,s.value,t.name]),(([t,e,n],[r,i,o])=>{e&&(e.instances[n]=t,i&&i!==e&&t&&t===r&&(e.leaveGuards.size||(e.leaveGuards=i.leaveGuards),e.updateGuards.size||(e.updateGuards=i.updateGuards))),!t||!e||i&&pI(e,i)&&r||(e.enterCallbacks[n]||[]).forEach((e=>e(t)))}),{flush:"post"}),()=>{const r=i.value,o=s.value,u=o&&o.components[t.name],c=t.name;if(!u)return kT(n.default,{Component:u,route:r});const l=o.props[t.name],h=l?!0===l?r.params:"function"==typeof l?l(r):l:null,f=Ur(u,uI({},h,e,{onVnodeUnmounted:t=>{t.component.isUnmounted&&(o.instances[c]=null)},ref:a}));return kT(n.default,{Component:f,route:r})||f}}});function AT(t){const e=WI(t.routes,t);let n=t.parseQuery||mT,r=t.stringifyQuery||gT,i=t.history;const o=bT(),s=bT(),a=bT(),u=ie(PI,!0);let c=PI;aI&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const l=cI.bind(null,(t=>""+t)),h=cI.bind(null,pT),f=cI.bind(null,vT);function d(t,o){if(o=uI({},o||u.value),"string"==typeof t){let r=fI(n,t,o.path),s=e.resolve({path:r.path},o),a=i.createHref(r.fullPath);return uI(r,s,{params:f(s.params),hash:vT(r.hash),redirectedFrom:void 0,href:a})}let s;"path"in t?s=uI({},t,{path:fI(n,t.path,o.path).path}):(s=uI({},t,{params:h(t.params)}),o.params=h(o.params));let a=e.resolve(s,o);const c=t.hash||"";a.params=l(f(a.params));const d=function(t,e){let n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}(r,uI({},t,{hash:(p=c,fT(p).replace(uT,"{").replace(lT,"}").replace(sT,"^")),path:a.path}));var p;let v=i.createHref(d);return uI({fullPath:d,hash:c,query:r===gT?yT(t.query):t.query},a,{redirectedFrom:void 0,href:v})}function p(t){return"string"==typeof t?fI(n,t,u.value.path):uI({},t)}function v(t,e){if(c!==t)return VI(8,{from:e,to:t})}function m(t){return y(t)}function g(t){const e=t.matched[t.matched.length-1];if(e&&e.redirect){const{redirect:n}=e;let r="function"==typeof n?n(t):n;return"string"==typeof r&&(r=r.indexOf("?")>-1||r.indexOf("#")>-1?r=p(r):{path:r}),uI({query:t.query,hash:t.hash,params:t.params},r)}}function y(t,e){const n=c=d(t),i=u.value,o=t.state,s=t.force,a=!0===t.replace,l=g(n);if(l)return y(uI(p(l),{state:o,force:s,replace:a}),e||n);const h=n;let f;return h.redirectedFrom=e,!s&&function(t,e,n){let r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&pI(e.matched[r],n.matched[i])&&vI(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}(r,i,n)&&(f=VI(16,{to:h,from:i}),O(i,i,!0,!1)),(f?Promise.resolve(f):w(h,i)).catch((t=>UI(t)?t:A(t))).then((t=>{if(t){if(UI(t,2))return y(uI(p(t.to),{state:o,force:s,replace:a}),e||h)}else t=I(h,i,!0,a,o);return _(h,i,t),t}))}function b(t,e){const n=v(t,e);return n?Promise.reject(n):Promise.resolve()}function w(t,e){let n;const[r,i,a]=function(t,e){const n=[],r=[],i=[],o=Math.max(e.matched.length,t.matched.length);for(let s=0;s<o;s++){const o=e.matched[s];o&&(t.matched.find((t=>pI(t,o)))?r.push(o):n.push(o));const a=t.matched[s];a&&(e.matched.find((t=>pI(t,a)))||i.push(a))}return[n,r,i]}
/*!
 * vuex v4.0.0
 * (c) 2021 Evan You
 * @license MIT
 */(t,e);n=_T(r.reverse(),"beforeRouteLeave",t,e);for(const o of r)o.leaveGuards.forEach((r=>{n.push(wT(r,t,e))}));const u=b.bind(null,t,e);return n.push(u),DT(n).then((()=>{n=[];for(const r of o.list())n.push(wT(r,t,e));return n.push(u),DT(n)})).then((()=>{n=_T(i,"beforeRouteUpdate",t,e);for(const r of i)r.updateGuards.forEach((r=>{n.push(wT(r,t,e))}));return n.push(u),DT(n)})).then((()=>{n=[];for(const r of t.matched)if(r.beforeEnter&&e.matched.indexOf(r)<0)if(Array.isArray(r.beforeEnter))for(const i of r.beforeEnter)n.push(wT(i,t,e));else n.push(wT(r.beforeEnter,t,e));return n.push(u),DT(n)})).then((()=>(t.matched.forEach((t=>t.enterCallbacks={})),n=_T(a,"beforeRouteEnter",t,e),n.push(u),DT(n)))).then((()=>{n=[];for(const r of s.list())n.push(wT(r,t,e));return n.push(u),DT(n)})).catch((t=>UI(t,8)?t:Promise.reject(t)))}function _(t,e,n){for(const r of a.list())r(t,e,n)}function I(t,e,n,r,o){const s=v(t,e);if(s)return s;const a=e===PI,c=aI?history.state:{};n&&(r||a?i.replace(t.fullPath,uI({scroll:a&&c&&c.scroll},o)):i.push(t.fullPath,o)),u.value=t,O(t,e,n,a),D()}let T;function E(){T=i.listen(((t,e,n)=>{let r=d(t);const o=g(r);if(o)return void y(uI(o,{replace:!0}),r).catch(lI);c=r;const s=u.value;var a,l;aI&&(a=NI(s.fullPath,n.delta),l=SI(),AI.set(a,l)),w(r,s).catch((t=>UI(t,12)?t:UI(t,2)?(y(t.to,r).catch(lI),Promise.reject()):(n.delta&&i.go(-n.delta,!1),A(t)))).then((t=>{(t=t||I(r,s,!1))&&n.delta&&i.go(-n.delta,!1),_(r,s,t)})).catch(lI)}))}let S,k=bT(),N=bT();function A(t){return D(t),N.list().forEach((e=>e(t))),Promise.reject(t)}function D(t){S||(S=!0,E(),k.list().forEach((([e,n])=>t?n(t):e())),k.reset())}function O(e,n,r,i){const{scrollBehavior:o}=t;if(!aI||!o)return Promise.resolve();let s=!r&&function(t){const e=AI.get(t);return AI.delete(t),e}(NI(e.fullPath,0))||(i||!r)&&history.state&&history.state.scroll||null;return ke().then((()=>o(e,n,s))).then((t=>t&&kI(t))).catch(A)}const C=t=>i.go(t);let x;const R=new Set;return{currentRoute:u,addRoute:function(t,n){let r,i;return RI(t)?(r=e.getRecordMatcher(t),i=n):i=t,e.addRoute(i,r)},removeRoute:function(t){let n=e.getRecordMatcher(t);n&&e.removeRoute(n)},hasRoute:function(t){return!!e.getRecordMatcher(t)},getRoutes:function(){return e.getRoutes().map((t=>t.record))},resolve:d,options:t,push:m,replace:function(t){return m(uI(p(t),{replace:!0}))},go:C,back:()=>C(-1),forward:()=>C(1),beforeEach:o.add,beforeResolve:s.add,afterEach:a.add,onError:N.add,isReady:function(){return S&&u.value!==PI?Promise.resolve():new Promise(((t,e)=>{k.add([t,e])}))},install(t){t.component("RouterLink",TT),t.component("RouterView",NT),t.config.globalProperties.$router=this,Object.defineProperty(t.config.globalProperties,"$route",{enumerable:!0,get:()=>oe(u)}),aI&&!x&&u.value===PI&&(x=!0,m(i.location).catch((t=>{})));const e={};for(let r in PI)e[r]=Vr((()=>u.value[r]));t.provide(iI,this),t.provide(oI,zt(e)),t.provide(sI,u);let n=t.unmount;R.add(t),t.unmount=function(){R.delete(t),R.size<1&&(T(),u.value=PI,x=!1,S=!1),n()}}}}function DT(t){return t.reduce(((t,e)=>t.then((()=>e()))),Promise.resolve())}var OT=("undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).__VUE_DEVTOOLS_GLOBAL_HOOK__;function CT(t,e){Object.keys(t).forEach((function(n){return e(t[n],n)}))}var xT=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"==typeof n?n():n)||{}},RT={namespaced:{configurable:!0}};RT.namespaced.get=function(){return!!this._rawModule.namespaced},xT.prototype.addChild=function(t,e){this._children[t]=e},xT.prototype.removeChild=function(t){delete this._children[t]},xT.prototype.getChild=function(t){return this._children[t]},xT.prototype.hasChild=function(t){return t in this._children},xT.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},xT.prototype.forEachChild=function(t){CT(this._children,t)},xT.prototype.forEachGetter=function(t){this._rawModule.getters&&CT(this._rawModule.getters,t)},xT.prototype.forEachAction=function(t){this._rawModule.actions&&CT(this._rawModule.actions,t)},xT.prototype.forEachMutation=function(t){this._rawModule.mutations&&CT(this._rawModule.mutations,t)},Object.defineProperties(xT.prototype,RT);var PT=function(t){this.register([],t,!1)};function MT(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return;MT(t.concat(r),e.getChild(r),n.modules[r])}}function LT(t){return new UT(t)}PT.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},PT.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,n){return t+((e=e.getChild(n)).namespaced?n+"/":"")}),"")},PT.prototype.update=function(t){MT([],this.root,t)},PT.prototype.register=function(t,e,n){var r=this;void 0===n&&(n=!0);var i=new xT(e,n);0===t.length?this.root=i:this.get(t.slice(0,-1)).addChild(t[t.length-1],i);e.modules&&CT(e.modules,(function(e,i){r.register(t.concat(i),e,n)}))},PT.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1],r=e.getChild(n);r&&r.runtime&&e.removeChild(n)},PT.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];return!!e&&e.hasChild(n)};var FT,VT,UT=function(t){var e=this;void 0===t&&(t={});var n=t.plugins;void 0===n&&(n=[]);var r=t.strict;void 0===r&&(r=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new PT(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null);var i=this,o=this.dispatch,s=this.commit;this.dispatch=function(t,e){return o.call(i,t,e)},this.commit=function(t,e,n){return s.call(i,t,e,n)},this.strict=r;var a=this._modules.root.state;GT(this,a,[],this._modules.root),KT(this,a),n.forEach((function(t){return t(e)})),(void 0===t.devtools||t.devtools)&&function(t){OT&&(t._devtoolHook=OT,OT.emit("vuex:init",t),OT.on("vuex:travel-to-state",(function(e){t.replaceState(e)})),t.subscribe((function(t,e){OT.emit("vuex:mutation",t,e)}),{prepend:!0}),t.subscribeAction((function(t,e){OT.emit("vuex:action",t,e)}),{prepend:!0}))}(this)},jT={state:{configurable:!0}};function qT(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function BT(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;GT(t,n,[],t._modules.root,!0),KT(t,n,e)}function KT(t,e,n){var r=t._state;t.getters={},t._makeLocalGettersCache=Object.create(null);var i=t._wrappedGetters,o={};CT(i,(function(e,n){o[n]=function(t,e){return function(){return t(e)}}(e,t),Object.defineProperty(t.getters,n,{get:function(){return o[n]()},enumerable:!0})})),t._state=zt({data:e}),t.strict&&function(t){wn((function(){return t._state.data}),(function(){}),{deep:!0,flush:"sync"})}(t),r&&n&&t._withCommit((function(){r.data=null}))}function GT(t,e,n,r,i){var o=!n.length,s=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[s],t._modulesNamespaceMap[s]=r),!o&&!i){var a=YT(e,n.slice(0,-1)),u=n[n.length-1];t._withCommit((function(){a[u]=r.state}))}var c=r.context=function(t,e,n){var r=""===e,i={dispatch:r?t.dispatch:function(n,r,i){var o=HT(n,r,i),s=o.payload,a=o.options,u=o.type;return a&&a.root||(u=e+u),t.dispatch(u,s)},commit:r?t.commit:function(n,r,i){var o=HT(n,r,i),s=o.payload,a=o.options,u=o.type;a&&a.root||(u=e+u),t.commit(u,s,a)}};return Object.defineProperties(i,{getters:{get:r?function(){return t.getters}:function(){return function(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach((function(i){if(i.slice(0,r)===e){var o=i.slice(r);Object.defineProperty(n,o,{get:function(){return t.getters[i]},enumerable:!0})}})),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}(t,e)}},state:{get:function(){return YT(t.state,n)}}}),i}(t,s,n);r.forEachMutation((function(e,n){!function(t,e,n,r){(t._mutations[e]||(t._mutations[e]=[])).push((function(e){n.call(t,r.state,e)}))}(t,s+n,e,c)})),r.forEachAction((function(e,n){var r=e.root?n:s+n,i=e.handler||e;!function(t,e,n,r){(t._actions[e]||(t._actions[e]=[])).push((function(e){var i,o=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},e);return(i=o)&&"function"==typeof i.then||(o=Promise.resolve(o)),t._devtoolHook?o.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):o}))}(t,r,i,c)})),r.forEachGetter((function(e,n){!function(t,e,n,r){if(t._wrappedGetters[e])return;t._wrappedGetters[e]=function(t){return n(r.state,r.getters,t.state,t.getters)}}(t,s+n,e,c)})),r.forEachChild((function(r,o){GT(t,e,n.concat(o),r,i)}))}function YT(t,e){return e.reduce((function(t,e){return t[e]}),t)}function HT(t,e,n){var r;return null!==(r=t)&&"object"==typeof r&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}
//! moment.js
//! version : 2.29.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
function WT(){return FT.apply(null,arguments)}function zT(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function QT(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function $T(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function XT(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if($T(t,e))return!1;return!0}function JT(t){return void 0===t}function ZT(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function tE(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function eE(t,e){var n,r=[];for(n=0;n<t.length;++n)r.push(e(t[n],n));return r}function nE(t,e){for(var n in e)$T(e,n)&&(t[n]=e[n]);return $T(e,"toString")&&(t.toString=e.toString),$T(e,"valueOf")&&(t.valueOf=e.valueOf),t}function rE(t,e,n,r){return pk(t,e,n,r,!0).utc()}function iE(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function oE(t){if(null==t._isValid){var e=iE(t),n=VT.call(e.parsedDateParts,(function(t){return null!=t})),r=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(r=r&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return r;t._isValid=r}return t._isValid}function sE(t){var e=rE(NaN);return null!=t?nE(iE(e),t):iE(e).userInvalidated=!0,e}UT.prototype.install=function(t,e){t.provide(e||"store",this),t.config.globalProperties.$store=this},jT.state.get=function(){return this._state.data},jT.state.set=function(t){},UT.prototype.commit=function(t,e,n){var r=this,i=HT(t,e,n),o=i.type,s=i.payload,a={type:o,payload:s},u=this._mutations[o];u&&(this._withCommit((function(){u.forEach((function(t){t(s)}))})),this._subscribers.slice().forEach((function(t){return t(a,r.state)})))},UT.prototype.dispatch=function(t,e){var n=this,r=HT(t,e),i=r.type,o=r.payload,s={type:i,payload:o},a=this._actions[i];if(a){try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(s,n.state)}))}catch($_){}var u=a.length>1?Promise.all(a.map((function(t){return t(o)}))):a[0](o);return new Promise((function(t,e){u.then((function(e){try{n._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(s,n.state)}))}catch($_){}t(e)}),(function(t){try{n._actionSubscribers.filter((function(t){return t.error})).forEach((function(e){return e.error(s,n.state,t)}))}catch($_){}e(t)}))}))}},UT.prototype.subscribe=function(t,e){return qT(t,this._subscribers,e)},UT.prototype.subscribeAction=function(t,e){return qT("function"==typeof t?{before:t}:t,this._actionSubscribers,e)},UT.prototype.watch=function(t,e,n){var r=this;return wn((function(){return t(r.state,r.getters)}),e,Object.assign({},n))},UT.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._state.data=t}))},UT.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"==typeof t&&(t=[t]),this._modules.register(t,e),GT(this,this.state,t,this._modules.get(t),n.preserveState),KT(this,this.state)},UT.prototype.unregisterModule=function(t){var e=this;"string"==typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){delete YT(e.state,t.slice(0,-1))[t[t.length-1]]})),BT(this)},UT.prototype.hasModule=function(t){return"string"==typeof t&&(t=[t]),this._modules.isRegistered(t)},UT.prototype.hotUpdate=function(t){this._modules.update(t),BT(this,!0)},UT.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(UT.prototype,jT),VT=Array.prototype.some?Array.prototype.some:function(t){var e,n=Object(this),r=n.length>>>0;for(e=0;e<r;e++)if(e in n&&t.call(this,n[e],e,n))return!0;return!1};var aE=WT.momentProperties=[],uE=!1;function cE(t,e){var n,r,i;if(JT(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),JT(e._i)||(t._i=e._i),JT(e._f)||(t._f=e._f),JT(e._l)||(t._l=e._l),JT(e._strict)||(t._strict=e._strict),JT(e._tzm)||(t._tzm=e._tzm),JT(e._isUTC)||(t._isUTC=e._isUTC),JT(e._offset)||(t._offset=e._offset),JT(e._pf)||(t._pf=iE(e)),JT(e._locale)||(t._locale=e._locale),aE.length>0)for(n=0;n<aE.length;n++)JT(i=e[r=aE[n]])||(t[r]=i);return t}function lE(t){cE(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===uE&&(uE=!0,WT.updateOffset(this),uE=!1)}function hE(t){return t instanceof lE||null!=t&&null!=t._isAMomentObject}function fE(t){!1===WT.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function dE(t,e){var n=!0;return nE((function(){if(null!=WT.deprecationHandler&&WT.deprecationHandler(null,t),n){var r,i,o,s=[];for(i=0;i<arguments.length;i++){if(r="","object"==typeof arguments[i]){for(o in r+="\n["+i+"] ",arguments[0])$T(arguments[0],o)&&(r+=o+": "+arguments[0][o]+", ");r=r.slice(0,-2)}else r=arguments[i];s.push(r)}fE(t+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),n=!1}return e.apply(this,arguments)}),e)}var pE,vE={};function mE(t,e){null!=WT.deprecationHandler&&WT.deprecationHandler(t,e),vE[t]||(fE(e),vE[t]=!0)}function gE(t){return"undefined"!=typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function yE(t,e){var n,r=nE({},t);for(n in e)$T(e,n)&&(QT(t[n])&&QT(e[n])?(r[n]={},nE(r[n],t[n]),nE(r[n],e[n])):null!=e[n]?r[n]=e[n]:delete r[n]);for(n in t)$T(t,n)&&!$T(e,n)&&QT(t[n])&&(r[n]=nE({},r[n]));return r}function bE(t){null!=t&&this.set(t)}WT.suppressDeprecationWarnings=!1,WT.deprecationHandler=null,pE=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)$T(t,e)&&n.push(e);return n};function wE(t,e,n){var r=""+Math.abs(t),i=e-r.length;return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var _E=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,IE=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,TE={},EE={};function SE(t,e,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),t&&(EE[t]=i),e&&(EE[e[0]]=function(){return wE(i.apply(this,arguments),e[1],e[2])}),n&&(EE[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function kE(t,e){return t.isValid()?(e=NE(e,t.localeData()),TE[e]=TE[e]||function(t){var e,n,r,i=t.match(_E);for(e=0,n=i.length;e<n;e++)EE[i[e]]?i[e]=EE[i[e]]:i[e]=(r=i[e]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(e){var r,o="";for(r=0;r<n;r++)o+=gE(i[r])?i[r].call(e,t):i[r];return o}}(e),TE[e](t)):t.localeData().invalidDate()}function NE(t,e){var n=5;function r(t){return e.longDateFormat(t)||t}for(IE.lastIndex=0;n>=0&&IE.test(t);)t=t.replace(IE,r),IE.lastIndex=0,n-=1;return t}var AE={};function DE(t,e){var n=t.toLowerCase();AE[n]=AE[n+"s"]=AE[e]=t}function OE(t){return"string"==typeof t?AE[t]||AE[t.toLowerCase()]:void 0}function CE(t){var e,n,r={};for(n in t)$T(t,n)&&(e=OE(n))&&(r[e]=t[n]);return r}var xE={};function RE(t,e){xE[t]=e}function PE(t){return t%4==0&&t%100!=0||t%400==0}function ME(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function LE(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=ME(e)),n}function FE(t,e){return function(n){return null!=n?(UE(this,t,n),WT.updateOffset(this,e),this):VE(this,t)}}function VE(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function UE(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&PE(t.year())&&1===t.month()&&29===t.date()?(n=LE(n),t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),hS(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](n))}var jE,qE=/\d/,BE=/\d\d/,KE=/\d{3}/,GE=/\d{4}/,YE=/[+-]?\d{6}/,HE=/\d\d?/,WE=/\d\d\d\d?/,zE=/\d\d\d\d\d\d?/,QE=/\d{1,3}/,$E=/\d{1,4}/,XE=/[+-]?\d{1,6}/,JE=/\d+/,ZE=/[+-]?\d+/,tS=/Z|[+-]\d\d:?\d\d/gi,eS=/Z|[+-]\d\d(?::?\d\d)?/gi,nS=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function rS(t,e,n){jE[t]=gE(e)?e:function(t,r){return t&&n?n:e}}function iS(t,e){return $T(jE,t)?jE[t](e._strict,e._locale):new RegExp(oS(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,n,r,i){return e||n||r||i}))))}function oS(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}jE={};var sS={};function aS(t,e){var n,r=e;for("string"==typeof t&&(t=[t]),ZT(e)&&(r=function(t,n){n[e]=LE(t)}),n=0;n<t.length;n++)sS[t[n]]=r}function uS(t,e){aS(t,(function(t,n,r,i){r._w=r._w||{},e(t,r._w,r,i)}))}function cS(t,e,n){null!=e&&$T(sS,t)&&sS[t](e,n._a,n,t)}var lS;function hS(t,e){if(isNaN(t)||isNaN(e))return NaN;var n,r=(e%(n=12)+n)%n;return t+=(e-r)/12,1===r?PE(t)?29:28:31-r%7%2}lS=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},SE("M",["MM",2],"Mo",(function(){return this.month()+1})),SE("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),SE("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),DE("month","M"),RE("month",8),rS("M",HE),rS("MM",HE,BE),rS("MMM",(function(t,e){return e.monthsShortRegex(t)})),rS("MMMM",(function(t,e){return e.monthsRegex(t)})),aS(["M","MM"],(function(t,e){e[1]=LE(t)-1})),aS(["MMM","MMMM"],(function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);null!=i?e[1]=i:iE(n).invalidMonth=t}));var fS="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),dS="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),pS=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,vS=nS,mS=nS;function gS(t,e,n){var r,i,o,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=rE([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(i=lS.call(this._shortMonthsParse,s))?i:null:-1!==(i=lS.call(this._longMonthsParse,s))?i:null:"MMM"===e?-1!==(i=lS.call(this._shortMonthsParse,s))||-1!==(i=lS.call(this._longMonthsParse,s))?i:null:-1!==(i=lS.call(this._longMonthsParse,s))||-1!==(i=lS.call(this._shortMonthsParse,s))?i:null}function yS(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=LE(e);else if(!ZT(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),hS(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function bS(t){return null!=t?(yS(this,t),WT.updateOffset(this,!0),this):VE(this,"Month")}function wS(){function t(t,e){return e.length-t.length}var e,n,r=[],i=[],o=[];for(e=0;e<12;e++)n=rE([2e3,e]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(t),i.sort(t),o.sort(t),e=0;e<12;e++)r[e]=oS(r[e]),i[e]=oS(i[e]);for(e=0;e<24;e++)o[e]=oS(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function _S(t){return PE(t)?366:365}SE("Y",0,0,(function(){var t=this.year();return t<=9999?wE(t,4):"+"+t})),SE(0,["YY",2],0,(function(){return this.year()%100})),SE(0,["YYYY",4],0,"year"),SE(0,["YYYYY",5],0,"year"),SE(0,["YYYYYY",6,!0],0,"year"),DE("year","y"),RE("year",1),rS("Y",ZE),rS("YY",HE,BE),rS("YYYY",$E,GE),rS("YYYYY",XE,YE),rS("YYYYYY",XE,YE),aS(["YYYYY","YYYYYY"],0),aS("YYYY",(function(t,e){e[0]=2===t.length?WT.parseTwoDigitYear(t):LE(t)})),aS("YY",(function(t,e){e[0]=WT.parseTwoDigitYear(t)})),aS("Y",(function(t,e){e[0]=parseInt(t,10)})),WT.parseTwoDigitYear=function(t){return LE(t)+(LE(t)>68?1900:2e3)};var IS=FE("FullYear",!0);function TS(t,e,n,r,i,o,s){var a;return t<100&&t>=0?(a=new Date(t+400,e,n,r,i,o,s),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,n,r,i,o,s),a}function ES(t){var e,n;return t<100&&t>=0?((n=Array.prototype.slice.call(arguments))[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function SS(t,e,n){var r=7+e-n;return-((7+ES(t,0,r).getUTCDay()-e)%7)+r-1}function kS(t,e,n,r,i){var o,s,a=1+7*(e-1)+(7+n-r)%7+SS(t,r,i);return a<=0?s=_S(o=t-1)+a:a>_S(t)?(o=t+1,s=a-_S(t)):(o=t,s=a),{year:o,dayOfYear:s}}function NS(t,e,n){var r,i,o=SS(t.year(),e,n),s=Math.floor((t.dayOfYear()-o-1)/7)+1;return s<1?r=s+AS(i=t.year()-1,e,n):s>AS(t.year(),e,n)?(r=s-AS(t.year(),e,n),i=t.year()+1):(i=t.year(),r=s),{week:r,year:i}}function AS(t,e,n){var r=SS(t,e,n),i=SS(t+1,e,n);return(_S(t)-r+i)/7}SE("w",["ww",2],"wo","week"),SE("W",["WW",2],"Wo","isoWeek"),DE("week","w"),DE("isoWeek","W"),RE("week",5),RE("isoWeek",5),rS("w",HE),rS("ww",HE,BE),rS("W",HE),rS("WW",HE,BE),uS(["w","ww","W","WW"],(function(t,e,n,r){e[r.substr(0,1)]=LE(t)}));function DS(t,e){return t.slice(e,7).concat(t.slice(0,e))}SE("d",0,"do","day"),SE("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),SE("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),SE("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),SE("e",0,0,"weekday"),SE("E",0,0,"isoWeekday"),DE("day","d"),DE("weekday","e"),DE("isoWeekday","E"),RE("day",11),RE("weekday",11),RE("isoWeekday",11),rS("d",HE),rS("e",HE),rS("E",HE),rS("dd",(function(t,e){return e.weekdaysMinRegex(t)})),rS("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),rS("dddd",(function(t,e){return e.weekdaysRegex(t)})),uS(["dd","ddd","dddd"],(function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);null!=i?e.d=i:iE(n).invalidWeekday=t})),uS(["d","e","E"],(function(t,e,n,r){e[r]=LE(t)}));var OS="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),CS="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),xS="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),RS=nS,PS=nS,MS=nS;function LS(t,e,n){var r,i,o,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=rE([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(i=lS.call(this._weekdaysParse,s))?i:null:"ddd"===e?-1!==(i=lS.call(this._shortWeekdaysParse,s))?i:null:-1!==(i=lS.call(this._minWeekdaysParse,s))?i:null:"dddd"===e?-1!==(i=lS.call(this._weekdaysParse,s))||-1!==(i=lS.call(this._shortWeekdaysParse,s))||-1!==(i=lS.call(this._minWeekdaysParse,s))?i:null:"ddd"===e?-1!==(i=lS.call(this._shortWeekdaysParse,s))||-1!==(i=lS.call(this._weekdaysParse,s))||-1!==(i=lS.call(this._minWeekdaysParse,s))?i:null:-1!==(i=lS.call(this._minWeekdaysParse,s))||-1!==(i=lS.call(this._weekdaysParse,s))||-1!==(i=lS.call(this._shortWeekdaysParse,s))?i:null}function FS(){function t(t,e){return e.length-t.length}var e,n,r,i,o,s=[],a=[],u=[],c=[];for(e=0;e<7;e++)n=rE([2e3,1]).day(e),r=oS(this.weekdaysMin(n,"")),i=oS(this.weekdaysShort(n,"")),o=oS(this.weekdays(n,"")),s.push(r),a.push(i),u.push(o),c.push(r),c.push(i),c.push(o);s.sort(t),a.sort(t),u.sort(t),c.sort(t),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function VS(){return this.hours()%12||12}function US(t,e){SE(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function jS(t,e){return e._meridiemParse}SE("H",["HH",2],0,"hour"),SE("h",["hh",2],0,VS),SE("k",["kk",2],0,(function(){return this.hours()||24})),SE("hmm",0,0,(function(){return""+VS.apply(this)+wE(this.minutes(),2)})),SE("hmmss",0,0,(function(){return""+VS.apply(this)+wE(this.minutes(),2)+wE(this.seconds(),2)})),SE("Hmm",0,0,(function(){return""+this.hours()+wE(this.minutes(),2)})),SE("Hmmss",0,0,(function(){return""+this.hours()+wE(this.minutes(),2)+wE(this.seconds(),2)})),US("a",!0),US("A",!1),DE("hour","h"),RE("hour",13),rS("a",jS),rS("A",jS),rS("H",HE),rS("h",HE),rS("k",HE),rS("HH",HE,BE),rS("hh",HE,BE),rS("kk",HE,BE),rS("hmm",WE),rS("hmmss",zE),rS("Hmm",WE),rS("Hmmss",zE),aS(["H","HH"],3),aS(["k","kk"],(function(t,e,n){var r=LE(t);e[3]=24===r?0:r})),aS(["a","A"],(function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t})),aS(["h","hh"],(function(t,e,n){e[3]=LE(t),iE(n).bigHour=!0})),aS("hmm",(function(t,e,n){var r=t.length-2;e[3]=LE(t.substr(0,r)),e[4]=LE(t.substr(r)),iE(n).bigHour=!0})),aS("hmmss",(function(t,e,n){var r=t.length-4,i=t.length-2;e[3]=LE(t.substr(0,r)),e[4]=LE(t.substr(r,2)),e[5]=LE(t.substr(i)),iE(n).bigHour=!0})),aS("Hmm",(function(t,e,n){var r=t.length-2;e[3]=LE(t.substr(0,r)),e[4]=LE(t.substr(r))})),aS("Hmmss",(function(t,e,n){var r=t.length-4,i=t.length-2;e[3]=LE(t.substr(0,r)),e[4]=LE(t.substr(r,2)),e[5]=LE(t.substr(i))}));var qS=FE("Hours",!0);var BS,KS={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:fS,monthsShort:dS,week:{dow:0,doy:6},weekdays:OS,weekdaysMin:xS,weekdaysShort:CS,meridiemParse:/[ap]\.?m?\.?/i},GS={},YS={};function HS(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function WS(t){return t?t.toLowerCase().replace("_","-"):t}function zS(t){var e=null;if(void 0===GS[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=BS._abbr,require("./locale/"+t),QS(e)}catch($_){GS[t]=null}return GS[t]}function QS(t,e){var n;return t&&((n=JT(e)?XS(t):$S(t,e))?BS=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),BS._abbr}function $S(t,e){if(null!==e){var n,r=KS;if(e.abbr=t,null!=GS[t])mE("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=GS[t]._config;else if(null!=e.parentLocale)if(null!=GS[e.parentLocale])r=GS[e.parentLocale]._config;else{if(null==(n=zS(e.parentLocale)))return YS[e.parentLocale]||(YS[e.parentLocale]=[]),YS[e.parentLocale].push({name:t,config:e}),null;r=n._config}return GS[t]=new bE(yE(r,e)),YS[t]&&YS[t].forEach((function(t){$S(t.name,t.config)})),QS(t),GS[t]}return delete GS[t],null}function XS(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return BS;if(!zT(t)){if(e=zS(t))return e;t=[t]}return function(t){for(var e,n,r,i,o=0;o<t.length;){for(e=(i=WS(t[o]).split("-")).length,n=(n=WS(t[o+1]))?n.split("-"):null;e>0;){if(r=zS(i.slice(0,e).join("-")))return r;if(n&&n.length>=e&&HS(i,n)>=e-1)break;e--}o++}return BS}(t)}function JS(t){var e,n=t._a;return n&&-2===iE(t).overflow&&(e=n[1]<0||n[1]>11?1:n[2]<1||n[2]>hS(n[0],n[1])?2:n[3]<0||n[3]>24||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||n[4]>59?4:n[5]<0||n[5]>59?5:n[6]<0||n[6]>999?6:-1,iE(t)._overflowDayOfYear&&(e<0||e>2)&&(e=2),iE(t)._overflowWeeks&&-1===e&&(e=7),iE(t)._overflowWeekday&&-1===e&&(e=8),iE(t).overflow=e),t}var ZS=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tk=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ek=/Z|[+-]\d\d(?::?\d\d)?/,nk=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],rk=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ik=/^\/?Date\((-?\d+)/i,ok=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,sk={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function ak(t){var e,n,r,i,o,s,a=t._i,u=ZS.exec(a)||tk.exec(a);if(u){for(iE(t).iso=!0,e=0,n=nk.length;e<n;e++)if(nk[e][1].exec(u[1])){i=nk[e][0],r=!1!==nk[e][2];break}if(null==i)return void(t._isValid=!1);if(u[3]){for(e=0,n=rk.length;e<n;e++)if(rk[e][1].exec(u[3])){o=(u[2]||" ")+rk[e][0];break}if(null==o)return void(t._isValid=!1)}if(!r&&null!=o)return void(t._isValid=!1);if(u[4]){if(!ek.exec(u[4]))return void(t._isValid=!1);s="Z"}t._f=i+(o||"")+(s||""),fk(t)}else t._isValid=!1}function uk(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function ck(t){var e,n,r,i,o,s,a,u,c=ok.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(c){if(n=c[4],r=c[3],i=c[2],o=c[5],s=c[6],a=c[7],u=[uk(n),dS.indexOf(r),parseInt(i,10),parseInt(o,10),parseInt(s,10)],a&&u.push(parseInt(a,10)),e=u,!function(t,e,n){return!t||CS.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(iE(n).weekdayMismatch=!0,n._isValid=!1,!1)}(c[1],e,t))return;t._a=e,t._tzm=function(t,e,n){if(t)return sk[t];if(e)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}(c[8],c[9],c[10]),t._d=ES.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),iE(t).rfc2822=!0}else t._isValid=!1}function lk(t,e,n){return null!=t?t:null!=e?e:n}function hk(t){var e,n,r,i,o,s=[];if(!t._d){for(r=function(t){var e=new Date(WT.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(t),t._w&&null==t._a[2]&&null==t._a[1]&&function(t){var e,n,r,i,o,s,a,u,c;null!=(e=t._w).GG||null!=e.W||null!=e.E?(o=1,s=4,n=lk(e.GG,t._a[0],NS(vk(),1,4).year),r=lk(e.W,1),((i=lk(e.E,1))<1||i>7)&&(u=!0)):(o=t._locale._week.dow,s=t._locale._week.doy,c=NS(vk(),o,s),n=lk(e.gg,t._a[0],c.year),r=lk(e.w,c.week),null!=e.d?((i=e.d)<0||i>6)&&(u=!0):null!=e.e?(i=e.e+o,(e.e<0||e.e>6)&&(u=!0)):i=o);r<1||r>AS(n,o,s)?iE(t)._overflowWeeks=!0:null!=u?iE(t)._overflowWeekday=!0:(a=kS(n,r,i,o,s),t._a[0]=a.year,t._dayOfYear=a.dayOfYear)}(t),null!=t._dayOfYear&&(o=lk(t._a[0],r[0]),(t._dayOfYear>_S(o)||0===t._dayOfYear)&&(iE(t)._overflowDayOfYear=!0),n=ES(o,0,t._dayOfYear),t._a[1]=n.getUTCMonth(),t._a[2]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=r[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[3]&&0===t._a[4]&&0===t._a[5]&&0===t._a[6]&&(t._nextDay=!0,t._a[3]=0),t._d=(t._useUTC?ES:TS).apply(null,s),i=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[3]=24),t._w&&void 0!==t._w.d&&t._w.d!==i&&(iE(t).weekdayMismatch=!0)}}function fk(t){if(t._f!==WT.ISO_8601)if(t._f!==WT.RFC_2822){t._a=[],iE(t).empty=!0;var e,n,r,i,o,s,a=""+t._i,u=a.length,c=0;for(r=NE(t._f,t._locale).match(_E)||[],e=0;e<r.length;e++)i=r[e],(n=(a.match(iS(i,t))||[])[0])&&((o=a.substr(0,a.indexOf(n))).length>0&&iE(t).unusedInput.push(o),a=a.slice(a.indexOf(n)+n.length),c+=n.length),EE[i]?(n?iE(t).empty=!1:iE(t).unusedTokens.push(i),cS(i,n,t)):t._strict&&!n&&iE(t).unusedTokens.push(i);iE(t).charsLeftOver=u-c,a.length>0&&iE(t).unusedInput.push(a),t._a[3]<=12&&!0===iE(t).bigHour&&t._a[3]>0&&(iE(t).bigHour=void 0),iE(t).parsedDateParts=t._a.slice(0),iE(t).meridiem=t._meridiem,t._a[3]=function(t,e,n){var r;if(null==n)return e;return null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?((r=t.isPM(n))&&e<12&&(e+=12),r||12!==e||(e=0),e):e}(t._locale,t._a[3],t._meridiem),null!==(s=iE(t).era)&&(t._a[0]=t._locale.erasConvertYear(s,t._a[0])),hk(t),JS(t)}else ck(t);else ak(t)}function dk(t){var e=t._i,n=t._f;return t._locale=t._locale||XS(t._l),null===e||void 0===n&&""===e?sE({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),hE(e)?new lE(JS(e)):(tE(e)?t._d=e:zT(n)?function(t){var e,n,r,i,o,s,a=!1;if(0===t._f.length)return iE(t).invalidFormat=!0,void(t._d=new Date(NaN));for(i=0;i<t._f.length;i++)o=0,s=!1,e=cE({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[i],fk(e),oE(e)&&(s=!0),o+=iE(e).charsLeftOver,o+=10*iE(e).unusedTokens.length,iE(e).score=o,a?o<r&&(r=o,n=e):(null==r||o<r||s)&&(r=o,n=e,s&&(a=!0));nE(t,n||e)}(t):n?fk(t):function(t){var e=t._i;JT(e)?t._d=new Date(WT.now()):tE(e)?t._d=new Date(e.valueOf()):"string"==typeof e?function(t){var e=ik.exec(t._i);null===e?(ak(t),!1===t._isValid&&(delete t._isValid,ck(t),!1===t._isValid&&(delete t._isValid,t._strict?t._isValid=!1:WT.createFromInputFallback(t)))):t._d=new Date(+e[1])}(t):zT(e)?(t._a=eE(e.slice(0),(function(t){return parseInt(t,10)})),hk(t)):QT(e)?function(t){if(!t._d){var e=CE(t._i),n=void 0===e.day?e.date:e.day;t._a=eE([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),hk(t)}}(t):ZT(e)?t._d=new Date(e):WT.createFromInputFallback(t)}(t),oE(t)||(t._d=null),t))}function pk(t,e,n,r,i){var o,s={};return!0!==e&&!1!==e||(r=e,e=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(QT(t)&&XT(t)||zT(t)&&0===t.length)&&(t=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=t,s._f=e,s._strict=r,(o=new lE(JS(dk(s))))._nextDay&&(o.add(1,"d"),o._nextDay=void 0),o}function vk(t,e,n,r){return pk(t,e,n,r,!1)}WT.createFromInputFallback=dE("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),WT.ISO_8601=function(){},WT.RFC_2822=function(){};var mk=dE("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=vk.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:sE()})),gk=dE("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=vk.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:sE()}));function yk(t,e){var n,r;if(1===e.length&&zT(e[0])&&(e=e[0]),!e.length)return vk();for(n=e[0],r=1;r<e.length;++r)e[r].isValid()&&!e[r][t](n)||(n=e[r]);return n}var bk=["year","quarter","month","week","day","hour","minute","second","millisecond"];function wk(t){var e=CE(t),n=e.year||0,r=e.quarter||0,i=e.month||0,o=e.week||e.isoWeek||0,s=e.day||0,a=e.hour||0,u=e.minute||0,c=e.second||0,l=e.millisecond||0;this._isValid=function(t){var e,n,r=!1;for(e in t)if($T(t,e)&&(-1===lS.call(bk,e)||null!=t[e]&&isNaN(t[e])))return!1;for(n=0;n<bk.length;++n)if(t[bk[n]]){if(r)return!1;parseFloat(t[bk[n]])!==LE(t[bk[n]])&&(r=!0)}return!0}(e),this._milliseconds=+l+1e3*c+6e4*u+1e3*a*60*60,this._days=+s+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=XS(),this._bubble()}function _k(t){return t instanceof wk}function Ik(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Tk(t,e){SE(t,0,0,(function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+wE(~~(t/60),2)+e+wE(~~t%60,2)}))}Tk("Z",":"),Tk("ZZ",""),rS("Z",eS),rS("ZZ",eS),aS(["Z","ZZ"],(function(t,e,n){n._useUTC=!0,n._tzm=Sk(eS,t)}));var Ek=/([\+\-]|\d\d)/gi;function Sk(t,e){var n,r,i=(e||"").match(t);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(Ek)||["-",0,0])[1]+LE(n[2]))?0:"+"===n[0]?r:-r}function kk(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(hE(t)||tE(t)?t.valueOf():vk(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),WT.updateOffset(n,!1),n):vk(t).local()}function Nk(t){return-Math.round(t._d.getTimezoneOffset())}function Ak(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}WT.updateOffset=function(){};var Dk=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ok=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ck(t,e){var n,r,i,o=t,s=null;return _k(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:ZT(t)||!isNaN(+t)?(o={},e?o[e]=+t:o.milliseconds=+t):(s=Dk.exec(t))?(n="-"===s[1]?-1:1,o={y:0,d:LE(s[2])*n,h:LE(s[3])*n,m:LE(s[4])*n,s:LE(s[5])*n,ms:LE(Ik(1e3*s[6]))*n}):(s=Ok.exec(t))?(n="-"===s[1]?-1:1,o={y:xk(s[2],n),M:xk(s[3],n),w:xk(s[4],n),d:xk(s[5],n),h:xk(s[6],n),m:xk(s[7],n),s:xk(s[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=function(t,e){var n;if(!t.isValid()||!e.isValid())return{milliseconds:0,months:0};e=kk(e,t),t.isBefore(e)?n=Rk(t,e):((n=Rk(e,t)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(vk(o.from),vk(o.to)),(o={}).ms=i.milliseconds,o.M=i.months),r=new wk(o),_k(t)&&$T(t,"_locale")&&(r._locale=t._locale),_k(t)&&$T(t,"_isValid")&&(r._isValid=t._isValid),r}function xk(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Rk(t,e){var n={};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Pk(t,e){return function(n,r){var i;return null===r||isNaN(+r)||(mE(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Mk(this,Ck(n,r),t),this}}function Mk(t,e,n,r){var i=e._milliseconds,o=Ik(e._days),s=Ik(e._months);t.isValid()&&(r=null==r||r,s&&yS(t,VE(t,"Month")+s*n),o&&UE(t,"Date",VE(t,"Date")+o*n),i&&t._d.setTime(t._d.valueOf()+i*n),r&&WT.updateOffset(t,o||s))}Ck.fn=wk.prototype,Ck.invalid=function(){return Ck(NaN)};var Lk=Pk(1,"add"),Fk=Pk(-1,"subtract");function Vk(t){return"string"==typeof t||t instanceof String}function Uk(t){return hE(t)||tE(t)||Vk(t)||ZT(t)||function(t){var e=zT(t),n=!1;e&&(n=0===t.filter((function(e){return!ZT(e)&&Vk(t)})).length);return e&&n}(t)||function(t){var e,n,r=QT(t)&&!XT(t),i=!1,o=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(e=0;e<o.length;e+=1)n=o[e],i=i||$T(t,n);return r&&i}(t)||null==t}function jk(t){var e,n=QT(t)&&!XT(t),r=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(e=0;e<i.length;e+=1)r=r||$T(t,i[e]);return n&&r}function qk(t,e){if(t.date()<e.date())return-qk(e,t);var n=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(n,"months");return-(n+(e-r<0?(e-r)/(r-t.clone().add(n-1,"months")):(e-r)/(t.clone().add(n+1,"months")-r)))||0}function Bk(t){var e;return void 0===t?this._locale._abbr:(null!=(e=XS(t))&&(this._locale=e),this)}WT.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",WT.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Kk=dE("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function Gk(){return this._locale}function Yk(t,e){return(t%e+e)%e}function Hk(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-126227808e5:new Date(t,e,n).valueOf()}function Wk(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-126227808e5:Date.UTC(t,e,n)}function zk(t,e){return e.erasAbbrRegex(t)}function Qk(){var t,e,n=[],r=[],i=[],o=[],s=this.eras();for(t=0,e=s.length;t<e;++t)r.push(oS(s[t].name)),n.push(oS(s[t].abbr)),i.push(oS(s[t].narrow)),o.push(oS(s[t].name)),o.push(oS(s[t].abbr)),o.push(oS(s[t].narrow));this._erasRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function $k(t,e){SE(0,[t,t.length],0,e)}function Xk(t,e,n,r,i){var o;return null==t?NS(this,r,i).year:(e>(o=AS(t,r,i))&&(e=o),Jk.call(this,t,e,n,r,i))}function Jk(t,e,n,r,i){var o=kS(t,e,n,r,i),s=ES(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}SE("N",0,0,"eraAbbr"),SE("NN",0,0,"eraAbbr"),SE("NNN",0,0,"eraAbbr"),SE("NNNN",0,0,"eraName"),SE("NNNNN",0,0,"eraNarrow"),SE("y",["y",1],"yo","eraYear"),SE("y",["yy",2],0,"eraYear"),SE("y",["yyy",3],0,"eraYear"),SE("y",["yyyy",4],0,"eraYear"),rS("N",zk),rS("NN",zk),rS("NNN",zk),rS("NNNN",(function(t,e){return e.erasNameRegex(t)})),rS("NNNNN",(function(t,e){return e.erasNarrowRegex(t)})),aS(["N","NN","NNN","NNNN","NNNNN"],(function(t,e,n,r){var i=n._locale.erasParse(t,r,n._strict);i?iE(n).era=i:iE(n).invalidEra=t})),rS("y",JE),rS("yy",JE),rS("yyy",JE),rS("yyyy",JE),rS("yo",(function(t,e){return e._eraYearOrdinalRegex||JE})),aS(["y","yy","yyy","yyyy"],0),aS(["yo"],(function(t,e,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[0]=n._locale.eraYearOrdinalParse(t,i):e[0]=parseInt(t,10)})),SE(0,["gg",2],0,(function(){return this.weekYear()%100})),SE(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),$k("gggg","weekYear"),$k("ggggg","weekYear"),$k("GGGG","isoWeekYear"),$k("GGGGG","isoWeekYear"),DE("weekYear","gg"),DE("isoWeekYear","GG"),RE("weekYear",1),RE("isoWeekYear",1),rS("G",ZE),rS("g",ZE),rS("GG",HE,BE),rS("gg",HE,BE),rS("GGGG",$E,GE),rS("gggg",$E,GE),rS("GGGGG",XE,YE),rS("ggggg",XE,YE),uS(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,n,r){e[r.substr(0,2)]=LE(t)})),uS(["gg","GG"],(function(t,e,n,r){e[r]=WT.parseTwoDigitYear(t)})),SE("Q",0,"Qo","quarter"),DE("quarter","Q"),RE("quarter",7),rS("Q",qE),aS("Q",(function(t,e){e[1]=3*(LE(t)-1)})),SE("D",["DD",2],"Do","date"),DE("date","D"),RE("date",9),rS("D",HE),rS("DD",HE,BE),rS("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),aS(["D","DD"],2),aS("Do",(function(t,e){e[2]=LE(t.match(HE)[0])}));var Zk=FE("Date",!0);SE("DDD",["DDDD",3],"DDDo","dayOfYear"),DE("dayOfYear","DDD"),RE("dayOfYear",4),rS("DDD",QE),rS("DDDD",KE),aS(["DDD","DDDD"],(function(t,e,n){n._dayOfYear=LE(t)})),SE("m",["mm",2],0,"minute"),DE("minute","m"),RE("minute",14),rS("m",HE),rS("mm",HE,BE),aS(["m","mm"],4);var tN=FE("Minutes",!1);SE("s",["ss",2],0,"second"),DE("second","s"),RE("second",15),rS("s",HE),rS("ss",HE,BE),aS(["s","ss"],5);var eN,nN,rN=FE("Seconds",!1);for(SE("S",0,0,(function(){return~~(this.millisecond()/100)})),SE(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),SE(0,["SSS",3],0,"millisecond"),SE(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),SE(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),SE(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),SE(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),SE(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),SE(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),DE("millisecond","ms"),RE("millisecond",16),rS("S",QE,qE),rS("SS",QE,BE),rS("SSS",QE,KE),eN="SSSS";eN.length<=9;eN+="S")rS(eN,JE);function iN(t,e){e[6]=LE(1e3*("0."+t))}for(eN="S";eN.length<=9;eN+="S")aS(eN,iN);nN=FE("Milliseconds",!1),SE("z",0,0,"zoneAbbr"),SE("zz",0,0,"zoneName");var oN=lE.prototype;function sN(t){return t}oN.add=Lk,oN.calendar=function(t,e){1===arguments.length&&(arguments[0]?Uk(arguments[0])?(t=arguments[0],e=void 0):jk(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||vk(),r=kk(n,this).startOf("day"),i=WT.calendarFormat(this,r)||"sameElse",o=e&&(gE(e[i])?e[i].call(this,n):e[i]);return this.format(o||this.localeData().calendar(i,this,vk(n)))},oN.clone=function(){return new lE(this)},oN.diff=function(t,e,n){var r,i,o;if(!this.isValid())return NaN;if(!(r=kk(t,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),e=OE(e)){case"year":o=qk(this,r)/12;break;case"month":o=qk(this,r);break;case"quarter":o=qk(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:ME(o)},oN.endOf=function(t){var e,n;if(void 0===(t=OE(t))||"millisecond"===t||!this.isValid())return this;switch(n=this._isUTC?Wk:Hk,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=36e5-Yk(e+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":e=this._d.valueOf(),e+=6e4-Yk(e,6e4)-1;break;case"second":e=this._d.valueOf(),e+=1e3-Yk(e,1e3)-1}return this._d.setTime(e),WT.updateOffset(this,!0),this},oN.format=function(t){t||(t=this.isUtc()?WT.defaultFormatUtc:WT.defaultFormat);var e=kE(this,t);return this.localeData().postformat(e)},oN.from=function(t,e){return this.isValid()&&(hE(t)&&t.isValid()||vk(t).isValid())?Ck({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},oN.fromNow=function(t){return this.from(vk(),t)},oN.to=function(t,e){return this.isValid()&&(hE(t)&&t.isValid()||vk(t).isValid())?Ck({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},oN.toNow=function(t){return this.to(vk(),t)},oN.get=function(t){return gE(this[t=OE(t)])?this[t]():this},oN.invalidAt=function(){return iE(this).overflow},oN.isAfter=function(t,e){var n=hE(t)?t:vk(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=OE(e)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())},oN.isBefore=function(t,e){var n=hE(t)?t:vk(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=OE(e)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())},oN.isBetween=function(t,e,n,r){var i=hE(t)?t:vk(t),o=hE(e)?e:vk(e);return!!(this.isValid()&&i.isValid()&&o.isValid())&&(("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(o,n):!this.isAfter(o,n)))},oN.isSame=function(t,e){var n,r=hE(t)?t:vk(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(e=OE(e)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))},oN.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},oN.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},oN.isValid=function(){return oE(this)},oN.lang=Kk,oN.locale=Bk,oN.localeData=Gk,oN.max=gk,oN.min=mk,oN.parsingFlags=function(){return nE({},iE(this))},oN.set=function(t,e){if("object"==typeof t){var n,r=function(t){var e,n=[];for(e in t)$T(t,e)&&n.push({unit:e,priority:xE[e]});return n.sort((function(t,e){return t.priority-e.priority})),n}(t=CE(t));for(n=0;n<r.length;n++)this[r[n].unit](t[r[n].unit])}else if(gE(this[t=OE(t)]))return this[t](e);return this},oN.startOf=function(t){var e,n;if(void 0===(t=OE(t))||"millisecond"===t||!this.isValid())return this;switch(n=this._isUTC?Wk:Hk,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Yk(e+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":e=this._d.valueOf(),e-=Yk(e,6e4);break;case"second":e=this._d.valueOf(),e-=Yk(e,1e3)}return this._d.setTime(e),WT.updateOffset(this,!0),this},oN.subtract=Fk,oN.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},oN.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},oN.toDate=function(){return new Date(this.valueOf())},oN.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?kE(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):gE(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",kE(n,"Z")):kE(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},oN.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t,e,n,r="moment",i="";return this.isLocal()||(r=0===this.utcOffset()?"moment.utc":"moment.parseZone",i="Z"),t="["+r+'("]',e=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY","-MM-DD[T]HH:mm:ss.SSS",n=i+'[")]',this.format(t+e+"-MM-DD[T]HH:mm:ss.SSS"+n)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(oN[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),oN.toJSON=function(){return this.isValid()?this.toISOString():null},oN.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},oN.unix=function(){return Math.floor(this.valueOf()/1e3)},oN.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},oN.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},oN.eraName=function(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t){if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until)return r[t].name;if(r[t].until<=n&&n<=r[t].since)return r[t].name}return""},oN.eraNarrow=function(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t){if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until)return r[t].narrow;if(r[t].until<=n&&n<=r[t].since)return r[t].narrow}return""},oN.eraAbbr=function(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t){if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until)return r[t].abbr;if(r[t].until<=n&&n<=r[t].since)return r[t].abbr}return""},oN.eraYear=function(){var t,e,n,r,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=i[t].since<=i[t].until?1:-1,r=this.clone().startOf("day").valueOf(),i[t].since<=r&&r<=i[t].until||i[t].until<=r&&r<=i[t].since)return(this.year()-WT(i[t].since).year())*n+i[t].offset;return this.year()},oN.year=IS,oN.isLeapYear=function(){return PE(this.year())},oN.weekYear=function(t){return Xk.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},oN.isoWeekYear=function(t){return Xk.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},oN.quarter=oN.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},oN.month=bS,oN.daysInMonth=function(){return hS(this.year(),this.month())},oN.week=oN.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},oN.isoWeek=oN.isoWeeks=function(t){var e=NS(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},oN.weeksInYear=function(){var t=this.localeData()._week;return AS(this.year(),t.dow,t.doy)},oN.weeksInWeekYear=function(){var t=this.localeData()._week;return AS(this.weekYear(),t.dow,t.doy)},oN.isoWeeksInYear=function(){return AS(this.year(),1,4)},oN.isoWeeksInISOWeekYear=function(){return AS(this.isoWeekYear(),1,4)},oN.date=Zk,oN.day=oN.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}(t,this.localeData()),this.add(t-e,"d")):e},oN.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},oN.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=function(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},oN.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},oN.hour=oN.hours=qS,oN.minute=oN.minutes=tN,oN.second=oN.seconds=rN,oN.millisecond=oN.milliseconds=nN,oN.utcOffset=function(t,e,n){var r,i=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Sk(eS,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(r=Nk(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==t&&(!e||this._changeInProgress?Mk(this,Ck(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,WT.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:Nk(this)},oN.utc=function(t){return this.utcOffset(0,t)},oN.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Nk(this),"m")),this},oN.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Sk(tS,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},oN.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?vk(t).utcOffset():0,(this.utcOffset()-t)%60==0)},oN.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},oN.isLocal=function(){return!!this.isValid()&&!this._isUTC},oN.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},oN.isUtc=Ak,oN.isUTC=Ak,oN.zoneAbbr=function(){return this._isUTC?"UTC":""},oN.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},oN.dates=dE("dates accessor is deprecated. Use date instead.",Zk),oN.months=dE("months accessor is deprecated. Use month instead",bS),oN.years=dE("years accessor is deprecated. Use year instead",IS),oN.zone=dE("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()})),oN.isDSTShifted=dE("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!JT(this._isDSTShifted))return this._isDSTShifted;var t,e={};return cE(e,this),(e=dk(e))._a?(t=e._isUTC?rE(e._a):vk(e._a),this._isDSTShifted=this.isValid()&&function(t,e,n){var r,i=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),s=0;for(r=0;r<i;r++)(n&&t[r]!==e[r]||!n&&LE(t[r])!==LE(e[r]))&&s++;return s+o}(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var aN=bE.prototype;function uN(t,e,n,r){var i=XS(),o=rE().set(r,e);return i[n](o,t)}function cN(t,e,n){if(ZT(t)&&(e=t,t=void 0),t=t||"",null!=e)return uN(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=uN(t,r,n,"month");return i}function lN(t,e,n,r){"boolean"==typeof t?(ZT(e)&&(n=e,e=void 0),e=e||""):(n=e=t,t=!1,ZT(e)&&(n=e,e=void 0),e=e||"");var i,o=XS(),s=t?o._week.dow:0,a=[];if(null!=n)return uN(e,(n+s)%7,r,"day");for(i=0;i<7;i++)a[i]=uN(e,(i+s)%7,r,"day");return a}aN.calendar=function(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return gE(r)?r.call(e,n):r},aN.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(_E).map((function(t){return"MMMM"===t||"MM"===t||"DD"===t||"dddd"===t?t.slice(1):t})).join(""),this._longDateFormat[t])},aN.invalidDate=function(){return this._invalidDate},aN.ordinal=function(t){return this._ordinal.replace("%d",t)},aN.preparse=sN,aN.postformat=sN,aN.relativeTime=function(t,e,n,r){var i=this._relativeTime[n];return gE(i)?i(t,e,n,r):i.replace(/%d/i,t)},aN.pastFuture=function(t,e){var n=this._relativeTime[t>0?"future":"past"];return gE(n)?n(e):n.replace(/%s/i,e)},aN.set=function(t){var e,n;for(n in t)$T(t,n)&&(gE(e=t[n])?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},aN.eras=function(t,e){var n,r,i,o=this._eras||XS("en")._eras;for(n=0,r=o.length;n<r;++n){switch(typeof o[n].since){case"string":i=WT(o[n].since).startOf("day"),o[n].since=i.valueOf()}switch(typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":i=WT(o[n].until).startOf("day").valueOf(),o[n].until=i.valueOf()}}return o},aN.erasParse=function(t,e,n){var r,i,o,s,a,u=this.eras();for(t=t.toUpperCase(),r=0,i=u.length;r<i;++r)if(o=u[r].name.toUpperCase(),s=u[r].abbr.toUpperCase(),a=u[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(s===t)return u[r];break;case"NNNN":if(o===t)return u[r];break;case"NNNNN":if(a===t)return u[r]}else if([o,s,a].indexOf(t)>=0)return u[r]},aN.erasConvertYear=function(t,e){var n=t.since<=t.until?1:-1;return void 0===e?WT(t.since).year():WT(t.since).year()+(e-t.offset)*n},aN.erasAbbrRegex=function(t){return $T(this,"_erasAbbrRegex")||Qk.call(this),t?this._erasAbbrRegex:this._erasRegex},aN.erasNameRegex=function(t){return $T(this,"_erasNameRegex")||Qk.call(this),t?this._erasNameRegex:this._erasRegex},aN.erasNarrowRegex=function(t){return $T(this,"_erasNarrowRegex")||Qk.call(this),t?this._erasNarrowRegex:this._erasRegex},aN.months=function(t,e){return t?zT(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||pS).test(e)?"format":"standalone"][t.month()]:zT(this._months)?this._months:this._months.standalone},aN.monthsShort=function(t,e){return t?zT(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[pS.test(e)?"format":"standalone"][t.month()]:zT(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},aN.monthsParse=function(t,e,n){var r,i,o;if(this._monthsParseExact)return gS.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=rE([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[r].test(t))return r;if(n&&"MMM"===e&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}},aN.monthsRegex=function(t){return this._monthsParseExact?($T(this,"_monthsRegex")||wS.call(this),t?this._monthsStrictRegex:this._monthsRegex):($T(this,"_monthsRegex")||(this._monthsRegex=mS),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},aN.monthsShortRegex=function(t){return this._monthsParseExact?($T(this,"_monthsRegex")||wS.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):($T(this,"_monthsShortRegex")||(this._monthsShortRegex=vS),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},aN.week=function(t){return NS(t,this._week.dow,this._week.doy).week},aN.firstDayOfYear=function(){return this._week.doy},aN.firstDayOfWeek=function(){return this._week.dow},aN.weekdays=function(t,e){var n=zT(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?DS(n,this._week.dow):t?n[t.day()]:n},aN.weekdaysMin=function(t){return!0===t?DS(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},aN.weekdaysShort=function(t){return!0===t?DS(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},aN.weekdaysParse=function(t,e,n){var r,i,o;if(this._weekdaysParseExact)return LS.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=rE([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[r].test(t))return r;if(n&&"ddd"===e&&this._shortWeekdaysParse[r].test(t))return r;if(n&&"dd"===e&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}},aN.weekdaysRegex=function(t){return this._weekdaysParseExact?($T(this,"_weekdaysRegex")||FS.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):($T(this,"_weekdaysRegex")||(this._weekdaysRegex=RS),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},aN.weekdaysShortRegex=function(t){return this._weekdaysParseExact?($T(this,"_weekdaysRegex")||FS.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):($T(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=PS),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},aN.weekdaysMinRegex=function(t){return this._weekdaysParseExact?($T(this,"_weekdaysRegex")||FS.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):($T(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=MS),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},aN.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},aN.meridiem=function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},QS("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===LE(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),WT.lang=dE("moment.lang is deprecated. Use moment.locale instead.",QS),WT.langData=dE("moment.langData is deprecated. Use moment.localeData instead.",XS);var hN=Math.abs;function fN(t,e,n,r){var i=Ck(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function dN(t){return t<0?Math.floor(t):Math.ceil(t)}function pN(t){return 4800*t/146097}function vN(t){return 146097*t/4800}function mN(t){return function(){return this.as(t)}}var gN=mN("ms"),yN=mN("s"),bN=mN("m"),wN=mN("h"),_N=mN("d"),IN=mN("w"),TN=mN("M"),EN=mN("Q"),SN=mN("y");function kN(t){return function(){return this.isValid()?this._data[t]:NaN}}var NN=kN("milliseconds"),AN=kN("seconds"),DN=kN("minutes"),ON=kN("hours"),CN=kN("days"),xN=kN("months"),RN=kN("years");var PN=Math.round,MN={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function LN(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}var FN=Math.abs;function VN(t){return(t>0)-(t<0)||+t}function UN(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n,r,i,o,s,a,u=FN(this._milliseconds)/1e3,c=FN(this._days),l=FN(this._months),h=this.asSeconds();return h?(t=ME(u/60),e=ME(t/60),u%=60,t%=60,n=ME(l/12),l%=12,r=u?u.toFixed(3).replace(/\.?0+$/,""):"",i=h<0?"-":"",o=VN(this._months)!==VN(h)?"-":"",s=VN(this._days)!==VN(h)?"-":"",a=VN(this._milliseconds)!==VN(h)?"-":"",i+"P"+(n?o+n+"Y":"")+(l?o+l+"M":"")+(c?s+c+"D":"")+(e||t||u?"T":"")+(e?a+e+"H":"")+(t?a+t+"M":"")+(u?a+r+"S":"")):"P0D"}var jN=wk.prototype;jN.isValid=function(){return this._isValid},jN.abs=function(){var t=this._data;return this._milliseconds=hN(this._milliseconds),this._days=hN(this._days),this._months=hN(this._months),t.milliseconds=hN(t.milliseconds),t.seconds=hN(t.seconds),t.minutes=hN(t.minutes),t.hours=hN(t.hours),t.months=hN(t.months),t.years=hN(t.years),this},jN.add=function(t,e){return fN(this,t,e,1)},jN.subtract=function(t,e){return fN(this,t,e,-1)},jN.as=function(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if("month"===(t=OE(t))||"quarter"===t||"year"===t)switch(e=this._days+r/864e5,n=this._months+pN(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(vN(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return 24*e+r/36e5;case"minute":return 1440*e+r/6e4;case"second":return 86400*e+r/1e3;case"millisecond":return Math.floor(864e5*e)+r;default:throw new Error("Unknown unit "+t)}},jN.asMilliseconds=gN,jN.asSeconds=yN,jN.asMinutes=bN,jN.asHours=wN,jN.asDays=_N,jN.asWeeks=IN,jN.asMonths=TN,jN.asQuarters=EN,jN.asYears=SN,jN.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*LE(this._months/12):NaN},jN._bubble=function(){var t,e,n,r,i,o=this._milliseconds,s=this._days,a=this._months,u=this._data;return o>=0&&s>=0&&a>=0||o<=0&&s<=0&&a<=0||(o+=864e5*dN(vN(a)+s),s=0,a=0),u.milliseconds=o%1e3,t=ME(o/1e3),u.seconds=t%60,e=ME(t/60),u.minutes=e%60,n=ME(e/60),u.hours=n%24,s+=ME(n/24),a+=i=ME(pN(s)),s-=dN(vN(i)),r=ME(a/12),a%=12,u.days=s,u.months=a,u.years=r,this},jN.clone=function(){return Ck(this)},jN.get=function(t){return t=OE(t),this.isValid()?this[t+"s"]():NaN},jN.milliseconds=NN,jN.seconds=AN,jN.minutes=DN,jN.hours=ON,jN.days=CN,jN.weeks=function(){return ME(this.days()/7)},jN.months=xN,jN.years=RN,jN.humanize=function(t,e){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,o=MN;return"object"==typeof t&&(e=t,t=!1),"boolean"==typeof t&&(i=t),"object"==typeof e&&(o=Object.assign({},MN,e),null!=e.s&&null==e.ss&&(o.ss=e.s-1)),r=function(t,e,n,r){var i=Ck(t).abs(),o=PN(i.as("s")),s=PN(i.as("m")),a=PN(i.as("h")),u=PN(i.as("d")),c=PN(i.as("M")),l=PN(i.as("w")),h=PN(i.as("y")),f=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||u<=1&&["d"]||u<n.d&&["dd",u];return null!=n.w&&(f=f||l<=1&&["w"]||l<n.w&&["ww",l]),(f=f||c<=1&&["M"]||c<n.M&&["MM",c]||h<=1&&["y"]||["yy",h])[2]=e,f[3]=+t>0,f[4]=r,LN.apply(null,f)}(this,!i,o,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)},jN.toISOString=UN,jN.toString=UN,jN.toJSON=UN,jN.locale=Bk,jN.localeData=Gk,jN.toIsoString=dE("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",UN),jN.lang=Kk,SE("X",0,0,"unix"),SE("x",0,0,"valueOf"),rS("x",ZE),rS("X",/[+-]?\d+(\.\d{1,3})?/),aS("X",(function(t,e,n){n._d=new Date(1e3*parseFloat(t))})),aS("x",(function(t,e,n){n._d=new Date(LE(t))})),
//! moment.js
WT.version="2.29.1",FT=vk,WT.fn=oN,WT.min=function(){var t=[].slice.call(arguments,0);return yk("isBefore",t)},WT.max=function(){var t=[].slice.call(arguments,0);return yk("isAfter",t)},WT.now=function(){return Date.now?Date.now():+new Date},WT.utc=rE,WT.unix=function(t){return vk(1e3*t)},WT.months=function(t,e){return cN(t,e,"months")},WT.isDate=tE,WT.locale=QS,WT.invalid=sE,WT.duration=Ck,WT.isMoment=hE,WT.weekdays=function(t,e,n){return lN(t,e,n,"weekdays")},WT.parseZone=function(){return vk.apply(null,arguments).parseZone()},WT.localeData=XS,WT.isDuration=_k,WT.monthsShort=function(t,e){return cN(t,e,"monthsShort")},WT.weekdaysMin=function(t,e,n){return lN(t,e,n,"weekdaysMin")},WT.defineLocale=$S,WT.updateLocale=function(t,e){if(null!=e){var n,r,i=KS;null!=GS[t]&&null!=GS[t].parentLocale?GS[t].set(yE(GS[t]._config,e)):(null!=(r=zS(t))&&(i=r._config),e=yE(i,e),null==r&&(e.abbr=t),(n=new bE(e)).parentLocale=GS[t],GS[t]=n),QS(t)}else null!=GS[t]&&(null!=GS[t].parentLocale?(GS[t]=GS[t].parentLocale,t===QS()&&QS(t)):null!=GS[t]&&delete GS[t]);return GS[t]},WT.locales=function(){return pE(GS)},WT.weekdaysShort=function(t,e,n){return lN(t,e,n,"weekdaysShort")},WT.normalizeUnits=OE,WT.relativeTimeRounding=function(t){return void 0===t?PN:"function"==typeof t&&(PN=t,!0)},WT.relativeTimeThreshold=function(t,e){return void 0!==MN[t]&&(void 0===e?MN[t]:(MN[t]=e,"s"===t&&(MN.ss=e-1),!0))},WT.calendarFormat=function(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},WT.prototype=oN,WT.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};export{Wn as F,ar as a,cr as b,er as c,xn as d,bi as e,No as f,lr as g,LT as h,AT as i,xI as j,WT as k,Ei as l,Ye as m,He as n,Zn as o,Ge as p,Ue as q,Gn as r,jr as s,l as t,hi as u,wi as v,We as w,li as x,di as y};
